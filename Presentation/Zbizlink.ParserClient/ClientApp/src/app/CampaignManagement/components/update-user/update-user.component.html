<div *ngIf="progressSpinnerService.isLoading" class="loading-indicator">
  <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
</div> 
 <div class="main-div update-margin-top">
    <form [formGroup]="groupForm" class="authentication-form" >
    <mat-toolbar style="background-color: #ed3305;"> 
        <div style="float:left; width:95%;color: #ffffff;">Update User</div> 
        <span class="fill-remaining-space"></span> 
        <div>
            <button mat-icon-button (click)="closeDialogOpp()">
                <mat-icon>cancel</mat-icon>
            </button>
        </div>
      
      </mat-toolbar>
      
   
   <mat-card class="sendEmailCard popupbox_form"> 
    <mat-form-field class="authentication-full-width" hintLabel="Max 10 characters">
        <div style="margin-bottom:-30px;">
            <mat-icon style="margin-top:-2px" matPrefix></mat-icon>
          </div>
          <span matPrefix>
            <span class="material-icons">
                person
                </span>
          </span> 
       
        <mat-label>First name</mat-label>
        <input matInput #inputFirstName maxlength="10" style="font-size: small;" matInput placeholder="First name"
        [formControl]="groupForm.get('firstName')" required [(ngModel)]="firstName"> 
      
        <mat-error *ngIf="groupForm.get('firstName').invalid">{{getFirstName()}}</mat-error>
        <mat-hint align="end">{{inputFirstName.value?.length || 0}}/10</mat-hint>
        
      </mat-form-field>
      
      
      <mat-form-field class="authentication-full-width" hintLabel="Max 10 characters"> 
        <div style="margin-bottom:-30px;">
            <mat-icon style="margin-top:-2px" matPrefix></mat-icon>
          </div>
        
            <span matPrefix>
                <span class="material-icons">
                    person
                    </span>
              </span> 
        <mat-label>Last Name</mat-label>
        <input matInput #inputLastName maxlength="10" style="font-size: small;" placeholder="Last name"
        [formControl]="groupForm.get('lastName')" required [(ngModel)]="lastName">
      
        <mat-error *ngIf="groupForm.get('lastName').invalid">{{getLastName()}}</mat-error>
        <mat-hint align="end">{{inputLastName.value?.length || 0}}/10</mat-hint>
       
      </mat-form-field>
            <mat-form-field class="authentication-full-width">
                <div style="margin-bottom:-30px;">
                    <mat-icon style="margin-top:-2px" matPrefix></mat-icon>
                  </div>
                  <span matPrefix>
                    <span class="material-icons">email</span>
                  </span> 
                  
              <mat-label style="margin-right:-20px;">Email</mat-label>  
              
              <input matInput style="font-size: small;" [(ngModel)]="email" [formControl]="emailFormControl"  placeholder="zd@register.com" [errorStateMatcher]="matcher1" (focus)="onFocus()">
            
            <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
              Please enter a valid email address
            </mat-error>
            <mat-error *ngIf="emailFormControl.hasError('required')">
              Email is required
            </mat-error> 
            
            </mat-form-field>
            <mat-form-field class="authentication-full-width" hintLabel="Min. 8,Max. 20 characters">
                <div style="margin-bottom:-30px;">
                  <mat-icon style="margin-top:-2px" matPrefix></mat-icon>
                </div>
                <span matPrefix>
                  <span class="material-icons">
                    lock
                    </span>
                </span> 
                <mat-label >Password</mat-label>
                <input matInput #inputPassword [(ngModel)]="password" maxlength="20"style="font-size: small;" [type]="hide ? 'password' : 'text'" placeholder="Password" formControlName="password" required>
         
                <mat-error *ngIf="groupForm.hasError('required', 'password')">
                  {{getPassword()}}
                </mat-error>
                <mat-hint align="end">{{inputPassword.value?.length || 0}}/20</mat-hint>
              </mat-form-field>
              <div class="row">
                <div class="col-sm-8">
                  <mat-form-field >        
                    <mat-label>User Type</mat-label>      
                    <mat-select formControlName="RoleId" [(ngModel)]="selectedUser">     
                      <mat-option *ngFor="let userType of userTypes" [value]="userType.AdminRoleId" (change)='onSelection' >         
                        {{userType.RoleName}}     
                      </mat-option>    
                    </mat-select>   
                  </mat-form-field>  
                </div>
                <div class="col-sm-4">
                  
              <section class="checkbox-section">
                <mat-checkbox (change)="onCheckboxChange($event)" class="checkbox-margin" [(checked)]="IsActiveID"  name="groupForm.IsActiveID">Active User</mat-checkbox>
                 
              </section>
                </div>
              </div>

          
   <button mat-flat-button class="authentication-button-view zbizlink_btn " color="warn"  (click)="updateUser(groupForm)">Update User</button>
     

   </mat-card>
  
</form>
 </div> 
    
  
 