{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/Module/escape-html.module.ts","webpack:///src/app/Parser/Components/Dialogs/addfield/addfield.component.ts","webpack:///src/app/Parser/Components/Dialogs/addfield/addfield.component.html","webpack:///src/app/Parser/Components/Dialogs/confirmation-message/confirmation-message.component.ts","webpack:///src/app/Parser/Components/Dialogs/confirmation-message/confirmation-message.component.html","webpack:///src/app/Parser/Components/Dialogs/document-list/document-list.component.ts","webpack:///src/app/Parser/Components/Dialogs/document-list/document-list.component.html","webpack:///src/app/Parser/Components/Dialogs/document-upload-option/document-upload-option.component.ts","webpack:///src/app/Parser/Components/Dialogs/document-upload-option/document-upload-option.component.html","webpack:///src/app/Parser/Components/Dialogs/duplicate-document-list/duplicate-document-list.component.ts","webpack:///src/app/Parser/Components/Dialogs/duplicate-document-list/duplicate-document-list.component.html","webpack:///src/app/Parser/Components/Dialogs/file-list-message/file-list-message.component.ts","webpack:///src/app/Parser/Components/Dialogs/file-list-message/file-list-message.component.html","webpack:///src/app/Parser/Components/Dialogs/opportunity-name/opportunity-name.component.ts","webpack:///src/app/Parser/Components/Dialogs/opportunity-name/opportunity-name.component.html","webpack:///src/app/Parser/Components/Dialogs/tinymce/tinymce.component.ts","webpack:///src/app/Parser/Components/Dialogs/tinymce/tinymce.component.html","webpack:///src/app/Parser/Components/document-parser-form/document-parser-form.component.ts","webpack:///src/app/Parser/Components/document-parser-form/document-parser-form.component.html","webpack:///src/app/Parser/Components/document-summary/document-summary.component.ts","webpack:///src/app/Parser/Components/document-summary/document-summary.component.html","webpack:///src/app/Parser/Components/document-upload/document-upload.component.html","webpack:///src/app/Parser/Components/document-upload/document-upload.component.ts","webpack:///src/app/Parser/Shared/Models/CategoryData.ts","webpack:///src/app/Parser/Shared/Models/FileName.ts","webpack:///src/app/Parser/Shared/Models/RFPFile.ts","webpack:///src/app/Parser/Shared/Models/RFPOpportunity.ts","webpack:///src/app/Parser/Shared/Services/ValidateChangeInDataService.ts","webpack:///src/app/Parser/Shared/Services/document-parser-form.service.ts","webpack:///src/app/Parser/Shared/Services/document-summary.service.ts","webpack:///src/app/Parser/Shared/Services/document-upload.service.ts","webpack:///src/app/Parser/Shared/Services/rfp-database.service.ts","webpack:///src/app/Parser/Shared/Services/sharepoint.service.ts","webpack:///src/app/Parser/Shared/models/DocUploadResponse.ts","webpack:///src/app/Parser/Shared/models/SummaryField.ts","webpack:///src/app/Parser/parser.module.ts","webpack:///src/app/Shared/models/DocUploadOptionResponse.ts","webpack:///src/app/Shared/models/OppertunityCategory.ts","webpack:///src/app/Shared/models/ParsingDialogOutput.ts","webpack:///src/app/Shared/pipes/EscapeHtmlPipe.ts","webpack:///src/app/Shared/services/app-config.service.ts","webpack:///src/app/Shared/services/dialog.service.ts","webpack:///src/app/Shared/services/notification.service.ts","webpack:///src/app/Shared/shared.module.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/home/home.component.ts","webpack:///src/app/home/home.component.html","webpack:///src/app/material/material.module.ts","webpack:///src/app/nav-menu/nav-menu.component.ts","webpack:///src/app/nav-menu/nav-menu.component.html","webpack:///src/app/shared/services/insert-category-attribute.service.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","EscapeHtmlModule","imports","declarations","AddfieldComponent","fb","dialogRef","data","fieldtypes","fieldLabel","required","controlTypes","typeCode","typeValue","console","log","summary","groupForm","group","labelfield","maxLength","typefield","close","strValue","target","value","arr","indexOf","split","fieldType","toString","valid","summaryField","ChangeFieldType","Cancel","Done","selector","templateUrl","styleUrls","ConfirmationMessageComponent","closeDialog","PendingDocsList","DocumentListComponent","router","documentParserForm","notification","rfpDatabaseService","columnsToDisplay","publishFlag","popUpHeaderFlag","headerFlag","DocumentParserFormComponent","opportunityComponent","publish","getCompanyOppertunityList","todayDate","Date","diff","diffDays","Math","abs","getTime","ceil","actionName","alert","searchKey","applyFilter","oppertunityList","filter","trim","toLowerCase","localStorage","getItem","subscribe","response","CompanyOppertunityListReponse","error","companyOppertunityListReponse","apiStatusCode","docList","ExtractSummaryField","opportunityNameList","sort","d","RemainingDays","paginator","dList","pp","ClosingDateAndTime","length","DueDate","remainingDays","Agency","RequestingAgency","OpportunityName","opportunityId","OpportunityId","push","DocumentUploadOptionComponent","documentUploadService","checked","multiSelectionDropdown","singleSelectionDropdown","yesOrNoRadiobuttonGroupDisable","yesOrNoRadioBtnChecked","disableSelect","requiredYesNo","requiredCategory","autoParsing","categories","viewValue","parsingDialogOutput","categoryNameList","CategoryNameList","ParsingAuto","ParsingManual","wholeDocumentNo","wholeDocumentYes","requiredYesNoMessage","categorySingleDropdownSelectedValue","requiredCategoryMessage","categoryMultiDropdownSelectedValue","SelectedCategory","Ok","mrChange","mrButton","source","event","onChange","closeDialogOpp","ok","DuplicateDocumentListComponent","duplicateFileList","SetMessage","message","FileListMessageComponent","rfpFileList","OpportunityNameComponent","name","String","setValue","hasError","onSubmit","TinymceComponent","OppoertunityDataArray","description","title","opportunityData","tinyData","getDataForTinymce","onlyData","getAttribute","valueOf","index","element","innerHTML","outerHTML","undefined","route","documentParserFormService","dragulaService","dialog","insertCategoryAttributeService","validateChange","dialogService","isLoading","isSummary","subs","categoryArray","catValues","RfpDataArray","filteredOpportunityDataArray","oppertunityCategoryArray","Array","events","dragulaConfig","RouteParam","getRoutParamsBizlink","documentId","companyid","userid","rfpdocumentid","queryParamMap","params","has","get","getSavedDocInfo","cat","active","docNameList","documentNameList","selectedfileDropDownValue","summaryFieldArray","RFPOpportunity","SummaryFieldList","CategoryData","documentSummaryComponent","createGroup","fillOppeCatArray","docUploadResponse","ClearForm","documentName","category","document","documentID","LoadRfpData","rfpFileIndex","RfpFileList","findIndex","file","FileName","SelectedFileName","opportunityName","rfpfile","HTMLFile","doc","DOMParser","parseFromString","div","querySelector","loadLeftPaneData","children","self","forEach","ObjOppCat","categoryId","categoryName","categoryData","CategoryId","Name","item","shift","RestDataIndexAttribute","CreateElementForEmptyCategory","newAddElement","siblingOfNewAddElement","isNewElement","sourceIndexId","targetIndexId","sourceId","siblingCopy","isCopied","direction","copy","copyItem","setAttribute","cloneNode","accepts","el","sibling","add","dropModel","sourceModel","targetModel","sourceIndex","targetIndex","dragend","ResetOppertunityDataListNewAddElement","copyNodes","asibling","siblingIndex","siblingNode","find","n","diffIndex","getsiblingIndex","getsourceIndex","gettargetIndex","newAddElementCopy","ResetOppertunityDataListCopyElement","resetOpportunityData","resetDataIndexAttr","pushIntoFilteredArray","splice","removeAttribute","addNodeIndex","line","indexSibling","indexInArr","RemoveEmptyElement","hasAttribute","dataKey","i","kk","getDataKey","parentKey","childKey","consParentKey","consChildKey","l","datakey","rfpDoc","flag","htmlCollection","call","from","stringHtml","dataCategoryList","dataCategoryListElements","querySelectorAll","filteredOppoertunity","initData","obj","stopPropagation","dialogConfig","disableClose","autoFocus","width","open","afterClosed","InsertDataInCategory","rfpOpportunity","onShowRFPDocument","CatetoryDataList","autoParsingResponse","CleanSummaryDataAndCategoryData","deleteFileDataReponse","queryParams","navigate","GetEmptyElement","doc1","documentElement","deletedInfo","deletedNode","deteletedTextIndex1","a","catIndex","companyId","userId","closeAll","categoryObj","setItem","status","documentUploadComponent","isBtnPubDisabled","success","warning","bag","destroy","unsubscribe","divString","attribute","bElement","createElement","content","createTextNode","appendChild","divElement","elementIndex","userSelectedFileIndex","OrignalFile","userSelectedRfpFile","fileRFPDbId","DeletedFileDocId","catDataArray","catElementArray","DeletedFileDocumentId","oppCategory","catData","parseInt","HTMLElement","hasElement","RfpDataElement","WholeDocumentParseDataSave","categorydata","SelectedFileNameIndex","f","rfpFile","formData","FormData","append","res","WholeDocumentParseDataSaveResponse","err","UploadError","apiReponse","TogglingEnableDisableButton","SetNumberOfFileSatusCount","SaveCategoriesDataAndSummaryData","parm","uploadError","RfpDocumentReceived","onRfpDocumentNameReceived","fileDropDownSelectedValue","onPopulateCategoryNameList","onOpportunityDataOnCreationTransfer","onOpportunityDataTransfer","onParsingDataTransfer","onCleanFormControls","onDeleteFileDataTransfer","onDeleteCategoryData","onMoveWholeDocument","onSave","DeleteOpportunityText","DocumentSummaryComponent","documentSummaryService","Test1","ONE_DANK_REGEX","summarArray","initDataSummary","drawFields","removeControlIfExist","control","FieldDisplayName","addControl","FieldText","pattern","FiledTypeId","Object","controls","key","abstractControl","removeControl","fieldTypeId","ControlType","height","addField","deletedElement","documentUpload","isOpportunity","createedOpportunity","fieldTextString","summaryObjArray","fieldsValidated","SummaryFieldValid","summaryIndex","summaryObj","Value","DisplayOrder","isEqualSummary","isLoadingSmall","SaveSummary","JSON","stringify","addSummary","fieldName","errorMessage","errors","maxlength","requiredLength","categoryDataList","SaveChangedSummary","SaveChangedCategoriesAndSummaryData","DocumentUploadComponent","sharepointService","showRFPDocument","OrignalHtmlDocument","PopulateCategoryNameList","opportunityDataOnCreationTransfer","opportunityDataTransfer","parsingDataTransfer","CleanDocumentParserFormControls","DeleteFileDataTransfer","DeleteCategoryData","MoveWholeDocument","receivedRFPDocument","receivedRFPDocumentName","SelectedFile","docUploadOptionResponse","popUpOpportunityName","ClearOpportunityForm","userSelectedFileList","responseSave","isPublish","fileUpload","filePath","GetCategoryNameListFromDB","files","AttachedFile","validationCode","ValidationFileName","PopulateRfpFileCollection","SetDropDownMessage","UploadFilesSharePoint","fileIndex","emit","Save","createOpporturnity","GetCategoridIdFromQueryparameter","CategoryDataConvertArrayIntoString","isEqual","SaveCategory","SummaryFieldValidationResult","SummaryFieldValidation","openDialog","dailogComponent","CleanFormControls","GetSavedEmptyOpportunity","getOpportunity","transfertoZbizlinkData","Status","documentPublished","save","result","matDialogRef","GetParsingData","AutoParsing","wholeDocumentMove","selectedFileIndex","selectedRfpFile","Parsed","categoriesId","fromData","userSelectedFileName","userSelectedRFPFileIndex","userSelectedRFPFile","AutoParsingResponse","DeleteFile","SavedSharePoint","DeleteFormSharePoint","compId","clientID","FilePathSharePoint","DeleteFilesSharePoint","DeleteFilesSharePointResponse","sharePointResponse","DeleteFormRFPDatabase","DeleteRfpFile","DeleteFileResponse","deleteFileResponse","UserSelectedRfpFile","GetFileSharePoint","PreviewDocument","filepath","formDataSharePoint","GetFileSharePointResponse","_buffer","ViewSharePointDocument","ViewSharePointDocumentReponse","viewSharePointDocumentResponse","htmlFile","View","fileName","UploadFilesSharePointResponse","sharePointDocUploadResponseList","totalFile","sharePointUnsaveFileList","SetFileSavedStatusOnsharePoint","sharePointUnsaveFileListDialog","CreateEmptyOpportunity","SaveFileInRfpDB","ViewDocument","ViewDocumentResponse","viewDocumentResponse","PopulateHtmlFile","fileNameList","GetFileNameList","requierdCategoryNameList","jsonFileNameList","CreateEmptyOpportunityResponse","createOpportunityResponse","PopulateDocumentId","SaveFiles","SaveFileInRfpDBResponse","methodName","GetCategoryNameList","FillCategoryNameList","categoryNameListResponse","unsaveRfpFileOnSharePointList","t","CleanFormControlVariables","fileDropdownSelectedValue","GetChangedCategoriesData","SaveChangedCategoriesSummaryData","oppertunityCategory","savedCategoryDataIndex","c","dbCategoryData","oppertunityCategoryDataStringfy","click","onAttachedFile","onSelectionChangeFileDropDown","onGoToPage2","onDeleteFile","onPreviewDocument","onParse","onOpportunityListShow","doPublish","iFileNameParam","Path","HtmlFile","RFPFile","rfpFileParam","FileNameColor","Saved","_rfpFileList","_catetoryDataListModified","summaryFieldList","_summaryFieldList","categoryIndex","_categoryNameList","_opportunityId","_opportunityName","_catetoryDataList","ValidateChangeInDataService","filteredDataArrayString","summaryArray","initialDataStr","localeCompare","fieldTextStr","x","summaryInitStr","CheckSummarySequenceEqual","newSummaryArray","oldSummaryArrayLength","newSummaryArrayLength","OldNewSummarySequenceSame","newSummaryElement","oldSummaryElement","providedIn","DocumentParserFormService","http","appConfigService","apiUrl","apiBaseUrl","sharepointapiUrl","post","pipe","handleError","type","UploadProgress","fileUploadProgress","Response","apiResponse","percentDone","round","loaded","total","body","Params","OppId","Number","ErrorEvent","DocumentSummaryService","httpClient","baseUrl","headers","errorResponse","DocumentUploadService","_filenameList","_duplicateFileList","_numberOfAttachedfile","_numberOfSavedfile","_numberOfParssedfile","_dropDownMessage","_deleteButtonDisable","_saveButtonDisable","_saveAllButtonDisable","_viewButtonDisable","_parseButtonDisable","_publishButtonDisable","_RFPOpportunity","filename","validRfpFileList","reg","match","includes","firstFile","currentAttachfileName","DuplicateRFPFileIndex","duplicateFileName","_selectedFileName","AddRfpFile","fileNameListReponse","numberOfUnsavedfile","numberOfSavedfile","numberOfParssedfile","_savefileMessageColor","selectFileIndex","sharePointResponseList","sharePointDocUploadResponse","FilePath","GetSavedEmptyOpportunityResponse","savedEmptyOpportunityResponse","PopulateRFPOpertunity","GetSaveEmptyOpportunity","opportunity","RfpDocumentViewModel","RfpDocument","RfpSummaryViewModel","RfpCategoryDataViewModel","rfpCategoryData","AddSummaryFieldList","RfpDatabaseService","observe","getEventMessage","progress","SharepointService","DocUploadResponse","SummaryField","fieldDisplayName","controlType","fieldText","displayOrder","filedTypeId","ParserModule","entryComponents","DocUploadOptionResponse","OppertunityCategory","ParsingDialogOutput","EscapeHtmlPipe","sanitizer","bypassSecurityTrustHtml","bypassSecurityTrustStyle","bypassSecurityTrustScript","bypassSecurityTrustUrl","bypassSecurityTrustResourceUrl","AppConfigService","toPromise","appConfig","DialogService","dialogParams","NotificationService","SnackBar","config","duration","horizontalPosition","verticalPosition","msg","SharedModule","forRoot","providers","routes","path","component","redirectTo","pathMatch","AppRoutingModule","AppComponent","compid","companySegmentID","AppModule","provide","multi","deps","useFactory","loadAppConfig","bootstrap","HomeComponent","MaterialModule","NavMenuComponent","InsertCategoryAttributeService","opportunityCollection","currentNodeIndex","SetCategoryName","currentNode","SetCategory","isCategoryExist","environment","production","sharepointbaseUrl","bootstrapModule"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport{ EscapeHtmlPipe } from '../Shared/pipes/EscapeHtmlPipe'\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [EscapeHtmlPipe],\n  exports: [EscapeHtmlPipe]\n})\nexport class EscapeHtmlModule { }\n","import { Component, OnInit,Inject} from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { MAT_DIALOG_DATA,MatDialogRef } from '@angular/material/dialog';\nimport { DocumentSummaryComponent } from '../../document-summary/document-summary.component';//'../opportunity/summary/summary.component';\n//import { SummaryField } from '../../../Shared/models/SummaryField';\n\nimport { ControlType } from '../../../Shared/Models/ControlType';\nimport { SummaryField } from 'src/app/Parser/Shared/models/SummaryField';\n\n\n@Component({\n  selector: 'app-addfield-dialog',\n  templateUrl: './addfield.component.html',\n  styleUrls: ['./addfield.component.css']\n})\nexport class AddfieldComponent implements OnInit {\n  id:number=0;\n  fieldType:string;\n  fieldtypes:any = ['TextBox','DateTime'];\n  fieldLabel:string='';\n  groupForm:FormGroup;\n  required:Boolean=false;\n  summary:DocumentSummaryComponent;\n  //summarArray: Array<SummaryField>;\n  summaryField: SummaryField;\n\n  selectedTypeCode: string;\n  controlTypes: ControlType[] = [\n    {typeCode: 1 , typeValue: 'TextBox'},\n    {typeCode: 3 , typeValue: 'DateTime'}\n  ]\n  constructor(private fb: FormBuilder,\n    public dialogRef: MatDialogRef<AddfieldComponent>,\n    @Inject(MAT_DIALOG_DATA) data) {\n      console.log('--->'+ data.id + '<---');\n      this.id = data.id;\n      this.summary = data.summary;\n    }\n    ngOnInit() {\n      this.groupForm = this.fb.group({\n        labelfield: ['', [Validators.required,Validators.maxLength(15)]],\n        typefield: ['', [Validators.required]]\n      });\n  }\n  Cancel(){\n    this.dialogRef.close();\n  }\n\n  ChangeFieldType(e) {\n   let strValue = e.target.value;\n   let arr = strValue.indexOf(':') === 1 ? strValue.split(': ') : [0];\n   this.fieldType = arr[0] === 0 ? strValue : arr[1].toString()\n  }\n  Done(){\n    if (this.groupForm.valid)\n    {\n        console.log('---> '+this.fieldLabel+' <---');\n        console.log('---> '+ this.fieldType+ ' <---');\n        //this.summary.addField(this,this.id,this.fieldLabel,this.fieldType);\n        //this.dialogRef.close();\n        //this.summarArray = new Array<SummaryField>();\n        this.summaryField = new SummaryField(this.fieldLabel,this.fieldType,\"\",0,0);\n\n        this.dialogRef.close(this.summaryField );\n    }else\n    {\n      this.required=true;\n    }\n  }\n }","<mat-dialog-content>\n    <h1 class=\"dailog_h1\">Add Custom Field </h1>\n       <form [formGroup]=\"groupForm\">\n\n\n\n           <div *ngIf=\"required\" style=\"color: crimson\">All fields are required</div>\n       <input class=\"dialog_inputbox\"  formControlName= \"labelfield\" type=\"text\" [(ngModel)]=\"fieldLabel\" placeholder=\"Please enter the label name\" />\n       \n       \n       <select  formControlName= \"typefield\" class=\"custom-select dialog_selectbox\" (change)=\"ChangeFieldType($event)\" >\n           <option value=\"\" disabled>Choose Field Type</option> \n           <option *ngFor=\"let fields of fieldtypes\" [ngValue]=\"fields\">{{fields}}</option>\n        </select>\n\n\n\n\n       </form>\n\n\n       </mat-dialog-content>\n\n\n\n       <mat-dialog-actions>\n              <button class=\"mat-raised-button canecl_btn\" (click)=\"Cancel()\">Cancel</button>\n              <button class=\"mat-raised-button mat-primary done_btn\" (click)=\"Done()\">Done</button>\n       </mat-dialog-actions>\n","import { Component, OnInit, Optional, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-confirmation-message',\n  templateUrl: './confirmation-message.component.html',\n  styleUrls: ['./confirmation-message.component.css']\n})\nexport class ConfirmationMessageComponent implements OnInit {\n\n  constructor(@Optional()\n  @Inject(MAT_DIALOG_DATA) public data,\n  public dialogRef: MatDialogRef<ConfirmationMessageComponent>) { }\n\n  ngOnInit(): void {\n  }\n\n  closeDialog(){\n    this.dialogRef.close(false);\n  }\n\n}\n","<div>\n  <mat-toolbar style=\"height: 50px;\">\n    <div style=\"float:left; width:95%; font-size:medium;\">Confirmation Dialog</div>\n    <span class=\"fill-remaining-space\"></span>\n    <div>\n      <button mat-icon-button (click)=\"closeDialog()\">\n        <mat-icon>cancel</mat-icon>\n      </button>\n    </div>\n  </mat-toolbar>\n</div>\n\n<div mat-dialog-content>\n  <mat-card>\n    <span class=\"content-span full-width\">{{data.message}}</span>\n  </mat-card>\n</div>\n&nbsp;\n<div class=\"confirm-dialog-container\">\n  \n  <button mat-flat-button id=\"no-button\" [mat-dialog-close]=\"false\">NO</button>\n  <button mat-flat-button id=\"yes-button\" [mat-dialog-close]=\"true\">YES</button>\n</div>","import { Component, OnInit, ViewChild, Inject, Optional, Input } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatSort } from '@angular/material/sort';\nimport { DocumentParserFormService } from '../../../Shared/Services/document-parser-form.service';\n\nimport { Observable } from 'rxjs';\n\nimport { DocumentParserFormComponent } from '../../document-parser-form/document-parser-form.component'\n\nimport { NotificationService } from '../../../../Shared/services/notification.service';\nimport { map } from 'rxjs/operators';\nimport { Router, Data } from '@angular/router';\nimport { DocumentUploadService } from 'src/app/Parser/Shared/Services/document-upload.service';\nimport { RfpDatabaseService } from 'src/app/Parser/Shared/Services/rfp-database.service';\nimport { OpportunityName } from 'src/app/Parser/Shared/Models/OpportunityName';\nimport { CompanyOppertunityListReponse } from 'src/app/Parser/Shared/Models/CompanyOppertunityListReponse';\n\nexport class PendingDocsList {\n  opportunityId: number;\n  OpportunityName: string;\n  DueDate: Date;\n  RemainingDays: number;\n  Agency: string;\n\n}\n\n@Component({\n  selector: 'app-document-list',\n  templateUrl: './document-list.component.html',\n  styleUrls: ['./document-list.component.css']\n})\nexport class DocumentListComponent implements OnInit {\n\n\n\n  @ViewChild(MatSort, { static: true }) sort: MatSort;\n  @ViewChild(MatPaginator, { static: true }) paginator: MatPaginator;\n  oppertunityList: MatTableDataSource<any>;\n  dataList: MatTableDataSource<any>;\n  columnsToDisplay: string[] = ['OpportunityName', 'DueDate', 'RemainingDays', 'Agency', 'action'];\n  searchKey: string;\n  popUpHeaderFlag: boolean;\n  publishFlag: boolean = true;\n  DocumentParserFormComponent: DocumentParserFormComponent;\n\n  constructor(private router: Router, private documentParserForm: DocumentParserFormService,\n    private notification: NotificationService, private rfpDatabaseService: RfpDatabaseService,\n    @Optional()\n    public dialogRef: MatDialogRef<any>,\n    @Optional()\n    @Inject(MAT_DIALOG_DATA) data) {\n    if (data) {\n      this.popUpHeaderFlag = data.headerFlag;\n      this.DocumentParserFormComponent = data.opportunityComponent;\n      this.publishFlag = data.publish\n    }\n  }\n  ngOnInit() {\n    this.getCompanyOppertunityList();\n  }\n\n  closeDialogOpp(): void {\n    this.dialogRef.close();\n  }\n\n  remainingDays(value: string) {\n\n    var todayDate = new Date();\n    var diff = null;\n    var diffDays = null;\n\n    if (value != \"\") {\n      if (new Date(value) > todayDate) {\n        diff = Math.abs(new Date(value).getTime() - todayDate.getTime());\n        diffDays = Math.ceil(diff / (1000 * 3600 * 24));\n        return diffDays;\n      }\n      else {\n        diff = Math.abs(new Date(value).getTime() - todayDate.getTime());\n        diffDays = Math.ceil(diff / (1000 * 3600 * 24) - 365);\n        return \"-\" + diffDays;\n      }\n    }\n    else {\n      return 0;\n    }\n  }\n  actionHandler(id: number, actionName: string) {\n    debugger;\n    alert(\"Id:\" + id + \" , Action Name:\" + actionName);\n  }\n  onSearchClear() {\n    this.searchKey = \"\";\n    this.applyFilter();\n  }\n  applyFilter() {\n    this.oppertunityList.filter = this.searchKey.trim().toLowerCase();\n  }\n  getCompanyOppertunityList() {\n   \n    this.rfpDatabaseService.getCompanyOppertunityList(this.publishFlag, localStorage.getItem('compId')).subscribe(\n      (response) => {\n       this.CompanyOppertunityListReponse(response);\n        // var docList: Array<PendingDocsList> = [];\n        // docList = this.ExtractSummaryField(response);\n        //console.log(response);\n\n        // for(var dList in response.documentNameList)\n        // {\n        //   var pp = new PendingDocsList();\n        //   //RfpdocumentId\n        //   if(response.documentNameList[dList].Rfpsummary !== null && response.documentNameList[dList].Rfpsummary.length > 0){\n        //     console.log(response.documentNameList[dList]);\n        //   }\n\n        //   pp.DocName = response.documentNameList[dList].DocName;\n        //   pp.DueDate = Object.keys(response.documentNameList[dList].Rfpsummary).length > 0 ? response.documentNameList[dList].Rfpsummary[0].FieldValue : null;\n        //   if(Object.keys(response.documentNameList[dList].Rfpsummary).length === 0)\n        //   {\n        //     pp.RemainingDays=0;\n        //   }\n        //   else\n        //   {\n        //     pp.RemainingDays=this.remainingDays(response.documentNameList[dList].Rfpsummary[0].FieldValue) > -1 ? this.remainingDays(response.documentNameList[dList].Rfpsummary[0].FieldValue):0;\n        //   }\n        //   pp.Agency= typeof response.documentNameList[dList].Rfpsummary[1].FieldValue==='undefined'?null:response.documentNameList[dList].Rfpsummary[1].FieldValue;\n        //   pp.RfpdocumentId =  typeof response.documentNameList[dList].RfpdocumentId==='undefined'?null:response.documentNameList[dList].RfpdocumentId;\n        //   docList.push(pp);\n        // }\n        // docList.sort(d => d.RemainingDays)\n        // this.oppertunityList = new MatTableDataSource(docList);\n        // this.oppertunityList.sort = this.sort;\n        // debugger;\n        // this.oppertunityList.paginator = this.paginator;\n      },\n      (error: any) => {\n        console.log(error);\n        this.notification.error(error);\n      }\n    )\n  }\n\n  // ExtractSummaryField(response: any): Array<PendingDocsList> {\n  //   var docList: Array<PendingDocsList> = [];\n  //   for (var dList in response.documentNameList) {\n  //     var pp = new PendingDocsList();\n\n  //     if (response.documentNameList[dList].Rfpsummary !== null && response.documentNameList[dList].Rfpsummary.length > 0) {\n\n  //       pp.DueDate = Object.keys(response.documentNameList[dList].Rfpsummary).length > 0 ? response.documentNameList[dList].Rfpsummary[0].FieldValue : null;\n  //       if (Object.keys(response.documentNameList[dList].Rfpsummary).length === 0) {\n  //         pp.RemainingDays = 0;\n  //       }\n  //       else {\n  //         pp.RemainingDays = this.remainingDays(response.documentNameList[dList].Rfpsummary[0].FieldValue) > -1 ? this.remainingDays(response.documentNameList[dList].Rfpsummary[0].FieldValue) : 0;\n  //       }\n  //       pp.Agency = typeof response.documentNameList[dList].Rfpsummary[1].FieldValue === 'undefined' ? null : response.documentNameList[dList].Rfpsummary[1].FieldValue;\n  //     }\n  //     pp.DocName = response.documentNameList[dList].DocName;\n  //     pp.RfpdocumentId = typeof response.documentNameList[dList].RfpdocumentId === 'undefined' ? null : response.documentNameList[dList].RfpdocumentId;\n  //     docList.push(pp);\n  //   }\n\n  //   return docList;\n  // }\n\n  CompanyOppertunityListReponse(companyOppertunityListReponse: CompanyOppertunityListReponse) {\n\n    if (companyOppertunityListReponse.apiStatusCode == \"1\") {\n      var docList: Array<PendingDocsList> = [];\n      docList = this.ExtractSummaryField(companyOppertunityListReponse.opportunityNameList);\n      docList.sort(d => d.RemainingDays)\n      this.oppertunityList = new MatTableDataSource(docList);\n      this.oppertunityList.sort = this.sort;\n      debugger;\n      this.oppertunityList.paginator = this.paginator;\n\n    }\n  }\n  ExtractSummaryField(opportunityNameList: Array<OpportunityName>): Array<PendingDocsList> {\n\n    //let opportunityNameList: Array<OpportunityName> = companyOppertunityListReponse.opportunityNameList;\n\n    var docList: Array<PendingDocsList> = [];\n    //for (var dList in response.documentNameList) {\n    for (var dList in opportunityNameList) {\n      var pp = new PendingDocsList();\n\n      if (opportunityNameList[dList].ClosingDateAndTime !== null && opportunityNameList[dList].ClosingDateAndTime.length > 0) {\n\n        pp.DueDate = opportunityNameList[dList].ClosingDateAndTime.length > 0 ? opportunityNameList[dList].ClosingDateAndTime : null;\n        if (opportunityNameList[dList].ClosingDateAndTime.length === 0) {\n          pp.RemainingDays = 0;\n        }\n        else {\n          pp.RemainingDays = this.remainingDays(opportunityNameList[dList].ClosingDateAndTime) > -1 ? this.remainingDays(opportunityNameList[dList].ClosingDateAndTime) : 0;\n        }\n        pp.Agency = typeof opportunityNameList[dList].RequestingAgency === 'undefined' ? null : opportunityNameList[dList].RequestingAgency;\n      }\n      pp.OpportunityName = opportunityNameList[dList].OpportunityName;\n      pp.opportunityId = typeof opportunityNameList[dList].OpportunityId === 'undefined' ? null : opportunityNameList[dList].OpportunityId;\n      docList.push(pp);\n    }\n\n    return docList;\n  }\n\n  loadOppertunity(opportunityId: any) {\n    console.log('>>>>>loadOppertunity<<<<<');\n    this.dialogRef.close(opportunityId);\n\n    //this.DocumentParserFormComponent.getSavedDocInfo(null, null, RfpdocumentId);\n    //const queryParams = { 'category': 'summary' };\n    //this.router.navigate(['/'], { queryParams })\n  }\n\n\n}\n","\n    \n<div class=\"mat-elevation-z8\">\n    \n    <mat-toolbar>\n     <mat-icon>list</mat-icon>\n      <div style=\"float:left; width:95%\">Opportunity List</div> \n      <span class=\"fill-remaining-space\"></span> \n      <div *ngIf=\"popUpHeaderFlag\">\n          <button mat-icon-button (click)=\"closeDialogOpp()\">\n              <mat-icon>cancel</mat-icon>\n          </button>\n      </div>\n    \n    </mat-toolbar>\n    <mat-form-field class=\"search-form-field\" floatLabel=\"never\">\n        <input matInput [(ngModel)]=\"searchKey\" placeholder=\"Search\" autocomplete=\"off\" (keyup)=\"applyFilter()\">\n        <button mat-button matSuffix mat-icon-button aria-label=\"Clear\"*ngIf=\"searchKey\"  (click)=\"onSearchClear()\">\n          <mat-icon>close</mat-icon>\n        </button>\n      </mat-form-field>\n  \n      <mat-table [dataSource]=\"oppertunityList\" class=\"data-table\" matSort>\n      <ng-container matColumnDef=\"OpportunityName\">\n        <mat-header-cell  *matHeaderCellDef  mat-sort-header> Opportunity </mat-header-cell>\n        <mat-cell mat-cell *matCellDef=\"let e\"> {{e.OpportunityName}} </mat-cell>\n      </ng-container>\n      <ng-container matColumnDef=\"solicitationNo\">\n          <mat-header-cell *matHeaderCellDef> Solicitation No </mat-header-cell>\n          <mat-cell *matCellDef=\"let e\"> {{e.solicitationNo}} </mat-cell>\n      </ng-container>\n      <ng-container matColumnDef=\"startDate\">\n        <mat-header-cell *matHeaderCellDef> Start Date </mat-header-cell>\n      </ng-container>\n      <ng-container  matColumnDef=\"DueDate\">\n          <mat-header-cell  *matHeaderCellDef mat-sort-header > Due Date </mat-header-cell>\n          <mat-cell mat-cell *matCellDef=\"let e\"> {{e.DueDate}} </mat-cell>\n        </ng-container>\n        <ng-container matColumnDef=\"RemainingDays\">\n            <mat-header-cell  *matHeaderCellDef mat-sort-header> Remaining Days </mat-header-cell>\n            <mat-cell mat-cell *matCellDef=\"let e\">{{e.RemainingDays}}</mat-cell>\n          </ng-container>\n          <ng-container matColumnDef=\"Agency\">\n              <mat-header-cell  *matHeaderCellDef > Agency </mat-header-cell>\n              <mat-cell mat-cell *matCellDef=\"let e\"> {{e.Agency}} </mat-cell>\n            </ng-container>\n      <ng-container  matColumnDef=\"action\">\n      <mat-header-cell *matHeaderCellDef>Action</mat-header-cell>\n        <mat-cell *matCellDef=\"let e\">  \n            \n      <div *ngIf=\"!popUpHeaderFlag\" >\n        <button mat-icon-button [matMenuTriggerFor]=\"menu\">\n          <mat-icon>more_vert</mat-icon>\n        </button>\n        <mat-menu #menu=\"matMenu\">\n          <button mat-menu-item (click)=\"actionHandler(e.id, 'download')\">\n            <mat-icon>cloud_download</mat-icon>\n            <span>Download</span>\n          </button>\n          <button mat-menu-item (click)=\"actionHandler(e.RfpdocumentId, 'export')\" >\n            <mat-icon>import_export</mat-icon>\n            <span>Export</span>\n          </button>\n        </mat-menu>\n    </div>\n   \n       <div *ngIf=\"popUpHeaderFlag\">\n        <button mat-raised-button (click)=\"loadOppertunity(e.opportunityId)\">\n            <mat-icon>settings_backup_restore</mat-icon>\n          \n            Load\n           \n        </button>\n      </div>\n        \n      </mat-cell>\n</ng-container>\n<ng-container matColumnDef=\"loading\">\n<mat-footer-cell *matFooterCellDef colspan=\"4\">\n  Loading data...\n</mat-footer-cell>\n</ng-container>\n<ng-container matColumnDef=\"noData\">\n<mat-footer-cell *matFooterCellDef colspan=\"6\">\n  No pending document.\n</mat-footer-cell>\n</ng-container>\n\n<mat-header-row *matHeaderRowDef=\"columnsToDisplay\"></mat-header-row>\n<mat-row *matRowDef=\"let Row; columns: columnsToDisplay\"></mat-row>\n\n<mat-footer-row *matFooterRowDef=\"['loading']\" [ngClass]=\" {'hide':oppertunityList!=null}\"> </mat-footer-row>\n<mat-footer-row *matFooterRowDef=\"['noData']\" [ngClass]=\"{'hide':!(oppertunityList!=null && this.oppertunityList.data.length==0)}\"></mat-footer-row>\n\n</mat-table>\n<mat-paginator\n            [pageSize]=\"5\"\n            [pageSizeOptions]=\"[5,10,25,100]\"\n            showFirstLastButtons >           \n</mat-paginator>\n</div>\n\n","import { Component, OnInit, Optional, Input, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { MatRadioChange, MatRadioButton } from '@angular/material/radio';\nimport { ParsingDialogOutput } from 'src/app/Shared/models/ParsingDialogOutput';\nimport { DocumentUploadService } from 'src/app/Parser/Shared/Services/document-upload.service';\nimport { CategoryName } from 'src/app/Shared/models/CategoryName';\nimport { FormControl } from '@angular/forms';\n\n@Component({\n  selector: 'app-document-upload-option',\n  templateUrl: './document-upload-option.component.html',\n  styleUrls: ['./document-upload-option.component.css']\n})\nexport class DocumentUploadOptionComponent implements OnInit {\n\n  @Input()\n  checked: Boolean = true;\n\n  private parsingDialogOutput: ParsingDialogOutput;\n\n\n  categoryMultiDropdownSelectedValue: string;\n  categorySingleDropdownSelectedValue: string;\n  categoryNameList: CategoryName[];\n\n  multiSelectionDropdown: boolean = false;\n  singleSelectionDropdown: boolean = true;\n\n  yesOrNoRadiobuttonGroupDisable: boolean = true;\n\n  yesOrNoRadioBtnChecked: boolean = false;\n\n  disableSelect = new FormControl(false);\n\n  requiredYesNo: boolean = false;\n  requiredYesNoMessage: string;\n\n  requiredCategory: boolean = false;\n  requiredCategoryMessage: string;\n  //checked: boolean = true;\n  // auto: string = 'auto';\n  // manual: string = 'manual';\n  constructor(@Optional()\n  public dialogRef: MatDialogRef<any>,\n    private documentUploadService: DocumentUploadService) {\n\n  }\n\n  autoParsing: string = 'multiple';\n  ngOnInit(): void {\n    this.parsingDialogOutput = new ParsingDialogOutput();\n    this.categoryNameList = this.documentUploadService.CategoryNameList;\n    this.parsingDialogOutput.ParsingAuto = true;\n  }\n\n  yesOrNoRadioGroupDisable(): boolean {\n    return this.yesOrNoRadiobuttonGroupDisable;\n  }\n\n  yesOrNoRadioButtonChecked(): boolean {\n    return this.yesOrNoRadioBtnChecked;\n  }\n\n  categories = [\n    { value: 'category_2', viewValue: 'Scope' },\n    { value: 'category_3', viewValue: 'Background' },\n    { value: 'category_4', viewValue: 'Labor' }\n  ];\n  // singleSelectedVaule: string;\n  // multipleSelectedVaule: string;\n\n  closeDialogOpp(): void {\n\n    this.dialogRef.close();\n  }\n\n  ok(): void {\n    debugger;\n    if (this.parsingDialogOutput.ParsingManual == true &&\n      this.parsingDialogOutput.wholeDocumentNo == false &&\n      this.parsingDialogOutput.wholeDocumentYes == false) {\n      this.requiredYesNo = true;\n      this.requiredYesNoMessage = \"Must select one option Yes/No\"\n      return;\n    }\n\n    if (this.parsingDialogOutput.ParsingManual == true &&\n      this.parsingDialogOutput.wholeDocumentYes == true &&\n      this.categorySingleDropdownSelectedValue == \"\"){\n        this.requiredCategory = true;\n      this.requiredCategoryMessage = \"Must select category\";\n      }\n\n      if (this.parsingDialogOutput.ParsingManual == true &&\n        this.parsingDialogOutput.wholeDocumentNo == true &&\n        this.categoryMultiDropdownSelectedValue == \"\"){\n          this.requiredCategory = true;\n        this.requiredCategoryMessage = \"Must select category\";\n        }\n  \n    if (this.multiSelectionDropdown == true) {\n      this.parsingDialogOutput.SelectedCategory = this.categoryMultiDropdownSelectedValue;\n    }\n    if (this.singleSelectionDropdown == true) {\n      this.parsingDialogOutput.SelectedCategory = this.categorySingleDropdownSelectedValue;\n    }\n\n  \n\n    this.parsingDialogOutput.Ok = true;\n    this.dialogRef.close(this.parsingDialogOutput);\n  }\n\n  onChange(mrChange: MatRadioChange) {\n\n    let mrButton: MatRadioButton = mrChange.source;\n\n    if (mrChange.value == 'yes' && mrButton.checked == true) {\n      this.parsingDialogOutput.wholeDocumentNo = false;\n      this.parsingDialogOutput.wholeDocumentYes = true;\n      this.parsingDialogOutput.ParsingAuto = false;\n      this.multiSelectionDropdown = false;\n      this.singleSelectionDropdown = true;\n      this.categorySingleDropdownSelectedValue = '';\n      this.requiredYesNoMessage = \"\";\n      this.requiredYesNo = false;\n\n    } else if (mrChange.value == 'no' && mrButton.checked == true) {\n      this.parsingDialogOutput.wholeDocumentNo = true;\n      this.parsingDialogOutput.wholeDocumentYes = false;\n      this.parsingDialogOutput.ParsingAuto = false;\n      this.singleSelectionDropdown = false;\n      this.multiSelectionDropdown = true;\n      this.categoryMultiDropdownSelectedValue = '';\n      this.requiredYesNoMessage = \"\";\n      this.requiredYesNo = false;\n    }\n    else if (mrChange.value == 'auto' && mrButton.checked == true) {\n      this.yesOrNoRadioBtnChecked = false;\n      this.parsingDialogOutput.ParsingAuto = true;\n      this.yesOrNoRadiobuttonGroupDisable = true;\n      this.categoryMultiDropdownSelectedValue = '';\n      this.categorySingleDropdownSelectedValue = '';\n\n      this.requiredYesNo = false;\n      this.requiredYesNoMessage = \"\";\n      this.requiredCategory = false;\n      this.requiredCategoryMessage = \"\"\n    }\n    else if (mrChange.value == 'manual' && mrButton.checked == true) {\n      this.yesOrNoRadiobuttonGroupDisable = false;\n      this.parsingDialogOutput.ParsingManual = true;\n      this.parsingDialogOutput.ParsingAuto = false;\n\n\n    } else {\n      this.parsingDialogOutput.wholeDocumentYes = false;\n      this.parsingDialogOutput.wholeDocumentNo = false;\n      this.parsingDialogOutput.ParsingAuto = false;\n      this.parsingDialogOutput.ParsingManual = false;\n    }\n\n  }\n\n  onMultiDropdownValueChange(event: any) {\n    if (this.parsingDialogOutput.wholeDocumentNo == true && this.categoryMultiDropdownSelectedValue != \"\") {\n      this.requiredCategory = false;\n      this.requiredCategoryMessage = \"\";\n    }\n    if (this.parsingDialogOutput.wholeDocumentYes == true && this.categorySingleDropdownSelectedValue != \"\") {\n      this.requiredCategory = false;\n      this.requiredCategoryMessage = \"\";\n    }\n  }\n}\n\n\n\n","<div>\n    <mat-toolbar>\n        <div style=\"float:left;  font-size: small;\">Parsing Options</div>\n        <span class=\"fill-remaining-space\"></span>\n    </mat-toolbar>\n</div>\n\n<div>\n    <mat-card>\n        \n        <div style=\"font-size: small\">\n            <mat-radio-group>\n                <mat-radio-button style=\"padding-right: 20px;\" value=\"auto\"  (change)='onChange($event)' checked>Auto parsing</mat-radio-button>\n                <mat-radio-button value=\"manual\"  (change)='onChange($event)' >Slective Categories</mat-radio-button>\n            </mat-radio-group>\n        </div>\n        <mat-divider></mat-divider>\n        &nbsp;\n        &nbsp;\n        <div *ngIf=\"requiredYesNo\" style=\"color: crimson; font-size:  small;\">{{requiredYesNoMessage}}</div>\n        <div style=\"font-size: small\"> Do you move whole document content?\n            <mat-radio-group [disabled]=\"yesOrNoRadioGroupDisable()\">\n                <mat-radio-button style=\"padding-right: 20px;\" value=\"yes\" (change)='onChange($event)' >Yes</mat-radio-button>\n                <mat-radio-button value=\"no\" (change)='onChange($event)' >No</mat-radio-button>\n            </mat-radio-group>\n        </div>\n        <mat-divider></mat-divider>\n        &nbsp;\n        &nbsp;\n        <div *ngIf=\"requiredCategory\" style=\"color: crimson; font-size:  small;\">{{requiredCategoryMessage}}</div>\n        <div >\n            <mat-form-field *ngIf='multiSelectionDropdown' > \n            <mat-select   placeholder=\"Select category\" [(value)]=\"categoryMultiDropdownSelectedValue\" \n            (selectionChange)=\"onMultiDropdownValueChange($event)\" \n             multiple \n             [disabled]=\"yesOrNoRadioGroupDisable()\">\n                <mat-option style=\"width:300px; font-size: small;\" *ngFor=\"let categoryName of categoryNameList\" [value]=\"categoryName.CategoryId\" >\n                    {{categoryName.Name}}</mat-option>\n            </mat-select>\n        </mat-form-field>\n            <mat-form-field *ngIf='singleSelectionDropdown'>          \n                <mat-select  placeholder=\"Select category\" [(value)]=\"categorySingleDropdownSelectedValue\" \n                (selectionChange)=\"onMultiDropdownValueChange($event)\" \n                [disabled]=\"yesOrNoRadioGroupDisable()\">\n                    <mat-option style=\"width:300px; font-size: small;\" *ngFor=\"let categoryName of categoryNameList\" [value]=\"categoryName.CategoryId\" >\n                        {{categoryName.Name}}</mat-option>\n                </mat-select>\n            </mat-form-field>\n        </div>\n    </mat-card>\n</div>\n\n&nbsp;\n<div>\n    <button mat-stroked-button color=\"primary\" (click)=\"closeDialogOpp()\">Cancel</button>\n    &nbsp;\n    <button mat-stroked-button color=\"primary\" (click)=\"ok()\" cdkFocusInitial>Ok</button>\n</div>","import { Component, OnInit, Inject, Optional } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { FileName } from 'src/app/Parser/Shared/Models/FileName';\n\n@Component({\n  selector: 'app-duplicate-document-list',\n  templateUrl: './duplicate-document-list.component.html',\n  styleUrls: ['./duplicate-document-list.component.css']\n})\nexport class DuplicateDocumentListComponent implements OnInit {\n\n  duplicateFileList: FileName[] = [];\n  message: string;\n\n  constructor(@Optional()\n  @Inject(MAT_DIALOG_DATA) public data,\n  public dialogRef: MatDialogRef<DuplicateDocumentListComponent>) {\n    debugger;\n    this.duplicateFileList = data.duplicateFileList;\n    \n   }\n\n  ngOnInit(): void {\n    this.SetMessage();\n  }\n\n  SetMessage(){\n   if(this.duplicateFileList.length === 1){\n    this.message = \"Following file is already attached. this file can not be re-attached\";\n   } else if (this.duplicateFileList.length > 1) {\n    this.message = \"Following files are already attached. these files can not be re-attached\";\n   \n   }\n  }\n  closeDialog(){\n    this.dialogRef.close();\n  }\n  \n  ok() {\n\n    this.dialogRef.close();\n  }\n\n}","<div>\n  <mat-toolbar>\n\n    <div style=\"float:left; width:95%\">Message Dialog</div>\n    <span class=\"fill-remaining-space\"></span>\n    <div>\n      <button mat-icon-button (click)=\"closeDialog()\">\n        <mat-icon>cancel</mat-icon>\n      </button>\n    </div>\n  </mat-toolbar>\n</div>\n\n\n<div class=\"confirm-dialog-container\">\n  <mat-card>\n\n    <span class=\"content-span full-width\" >{{message}}</span>\n    <mat-divider></mat-divider>\n    &nbsp;\n    &nbsp;\n    <mat-list>\n      <mat-list-item style=\"font-size: small;\" *ngFor=\"let duplicateFile of duplicateFileList\"> {{duplicateFile.Name}}</mat-list-item>\n      \n    </mat-list>\n\n  </mat-card>\n</div>\n&nbsp;\n<div>\n  &nbsp;\n  <button mat-flat-button id=\"yes-button\" (click)=\"ok()\">Ok</button>\n</div>","import { Component, OnInit, Inject, Optional } from '@angular/core';\nimport { FileName } from 'src/app/Parser/Shared/Models/FileName';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { RFPFile } from 'src/app/Parser/Shared/Models/RFPFile';\n\n@Component({\n  selector: 'app-file-list-message',\n  templateUrl: './file-list-message.component.html',\n  styleUrls: ['./file-list-message.component.css']\n})\nexport class FileListMessageComponent implements OnInit {\n\n  rfpFileList: RFPFile[];\n  message: string;\n  \n  constructor(@Optional()\n  @Inject(MAT_DIALOG_DATA) public data,\n  public dialogRef: MatDialogRef<FileListMessageComponent>) {\n    debugger;\n    this.rfpFileList = data.rfpFileList;\n    this.message = data.message;\n     \n   }\n\n\n   closeDialog(){\n    this.dialogRef.close();\n  }\n  \n  ok() {\n\n    this.dialogRef.close();\n  }\n\n  ngOnInit(): void {\n    debugger;\n  }\n\n}\n","<div>\n    <mat-toolbar>\n  \n      <div style=\"float:left; width:95%\">Error Dialog</div>\n      <span class=\"fill-remaining-space\"></span>\n      <div>\n        <button mat-icon-button (click)=\"closeDialog()\">\n          <mat-icon>cancel</mat-icon>\n        </button>\n      </div>\n    </mat-toolbar>\n  </div>\n  \n  \n  <div class=\"confirm-dialog-container\">\n    <mat-card>\n  \n      <span class=\"content-span full-width\" >{{message}}</span>\n      <mat-divider></mat-divider>\n      &nbsp;\n      &nbsp;\n      <mat-list>\n        <mat-list-item style=\"font-size: small;\" *ngFor=\"let rfpFile of rfpFileList\"> {{rfpFile.FileName}}</mat-list-item>\n        \n      </mat-list>\n  \n    </mat-card>\n  </div>\n  &nbsp;\n  <div>\n    &nbsp;\n    <button mat-flat-button id=\"yes-button\" (click)=\"ok()\">Ok</button>\n  </div>","import { Component, OnInit, Optional } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { FormControl, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-opportunity-name',\n  templateUrl: './opportunity-name.component.html',\n  styleUrls: ['./opportunity-name.component.css']\n})\nexport class OpportunityNameComponent implements OnInit {\n\n  name = new FormControl('', [Validators.required]);  \n\n  constructor(@Optional()\n  public dialogRef: MatDialogRef<any>) { }\n\n  ngOnInit(): void {\n   \n  }\n  closeDialogOpp(): void {\n    this.dialogRef.close();\n  }\n\n  onSubmit(): void {\n    console.log(name);\n    //debugger;\n    if(String(this.name.value).trim() !== \"\"){\n      this.dialogRef.close(this.name.value);\n    }else{\n      this.name.setValue(\"\");\n    }\n    \n  }\n\n  getErrorMessage() {\n    if (this.name.hasError('required')) {\n      return 'You must enter a value';\n    }\n\n  }\n  \n}\n","\n    <div>\n        <mat-toolbar style=\"height: 50px;\">\n            <div style=\"float:left; width:95%; font-size:medium;\">Opportunity</div>\n            <span class=\"fill-remaining-space\"></span>\n            <div>\n                <button mat-icon-button (click)=\"closeDialogOpp()\">\n                    <mat-icon>cancel</mat-icon>\n                </button>\n            </div>\n        </mat-toolbar>\n    </div>\n\n    <div mat-dialog-content>\n        <mat-card>\n            <mat-form-field>\n                <mat-label>Name</mat-label>\n                <input matInput [formControl]=\"name\" required cdkFocusInitial>\n                <mat-error *ngIf=\"name.invalid\">{{getErrorMessage()}}</mat-error>\n            </mat-form-field>           \n        </mat-card>\n    </div>\n \n    <div mat-dialog-actions>\n        <button mat-raised-button color=\"primary\" (click)=\"closeDialogOpp()\">Cancel</button>\n        &nbsp;\n        <button mat-raised-button color=\"primary\" (click)=\"onSubmit()\" [disabled]=\"!name.valid\">Ok</button>\n    </div>\n\n","import { Component, OnInit, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { FormGroup, FormControl, FormBuilder } from '@angular/forms';\nimport { empty } from 'rxjs';\nimport { stringify } from '@angular/compiler/src/util';\n\n@Component({\n  selector: 'app-tinymce',\n  templateUrl: './tinymce.component.html',\n  styleUrls: ['./tinymce.component.css']\n})\nexport class TinymceComponent implements OnInit {\n  OppoertunityDataArray: Element[] = [];\n  tinyData: string;\n  description: string;\n\n  constructor(private fb: FormBuilder,\n    public dialogRef: MatDialogRef<TinymceComponent>,\n    @Inject(MAT_DIALOG_DATA) data) {\n\n    this.description = data.title;\n    this.OppoertunityDataArray = data.opportunityData;\n\n  }\n\n  ngOnInit() {\n\n    this.tinyData = this.getDataForTinymce();\n\n  }\n\n  getDataForTinymce(): string {\n    let data: string = \"\";\n    let onlyData: string = \"\";\n\n    if(this.OppoertunityDataArray.length === 1 && this.OppoertunityDataArray[0].getAttribute('data-temptrow') !== null){\n\n      if(this.OppoertunityDataArray[0].getAttribute('data-temptrow').valueOf() === 'true'){\n        return \"\";\n      }\n          \n    }\n\n    for (let index = 0; index < this.OppoertunityDataArray.length; index++) {\n      const element = this.OppoertunityDataArray[index];\n     //let el: Element = element.getAttribute(\"\");\n\n      onlyData = element.innerHTML;\n      data += element.outerHTML;\n\n    }\n\n    if (onlyData.trim() == '.') {\n      \n      data = undefined;\n    }\n\n    return data\n  }\n\n  \n\n\n  ok() {\ndebugger;\n    this.dialogRef.close(this.tinyData);\n  }\n\n  Cancel() {\n\n    this.dialogRef.close();\n\n  }\n}\n","<h2 mat-dialog-title>{{description}}</h2>\n    <!-- uwd77g8k52g8t7ov2a3z88gdd9woo8oawkwzidhmb87pbzck -->\n    <!-- a1xlkn4jds1f41tp58txym2pceltj63f1qfecj8iavsyth9e -->\n       <mat-dialog-content>\n        <editor apiKey=\"n8trjkankxflr6d8m87r9cb5x34yak4ofq25hq05b0skama3\"  [(ngModel)]=\"tinyData\"\n        [init]=\"{\n            height:'600px',\n            width:'650px',\n            plugins: 'link table | fullscreen | lists',\n            toolbar: 'formatselect | bold italic strikethrough forecolor backcolor permanentpen formatpainter | link image media pageembed | alignleft aligncenter alignright alignjustify  | outdent indent | removeformat | addcomment | fullscreen | fontsizeselect | numlist bullist'\n                }\"></editor>\n        </mat-dialog-content>    \n       <mat-dialog-actions>\n           <button class=\"mat-raised-button\"(click)=\"Cancel()\">Cancel</button>\n           <button class=\"mat-raised-button mat-primary\"(click)=\"ok()\">Save</button>\n</mat-dialog-actions>\n","\n\nimport { Component, OnInit, ViewChild, ViewEncapsulation, PipeTransform, Pipe, ElementRef, Input } from '@angular/core';\nimport { DocumentParserFormService } from '../../Shared/Services/document-parser-form.service';\nimport { DragulaService } from 'ng2-dragula';\nimport { ContextMenuComponent } from 'ngx-contextmenu';\nimport { Subscription } from 'rxjs';\nimport { ActivatedRoute, Router, Event, NavigationStart, NavigationEnd, NavigationError } from '@angular/router';\nimport { MatDialog, MatDialogConfig } from '@angular/material/dialog';\nimport { TinymceComponent } from '../Dialogs/tinymce/tinymce.component';\nimport { InsertCategoryAttributeService } from '../../../shared/services/insert-category-attribute.service';\nimport { DocumentUploadComponent } from '../document-upload/document-upload.component';\nimport { DocumentSummaryComponent } from '../document-summary/document-summary.component';\nimport { SummaryField } from '../../Shared/Models/SummaryField';\nimport { DocumentListComponent } from '../Dialogs/document-list/document-list.component';\nimport { NotificationService } from '../../../Shared/services/notification.service';\nimport { ValidateChangeInDataService } from '../../Shared/Services/ValidateChangeInDataService';\nimport { OppertunityCategory } from '../../../Shared/models/OppertunityCategory';\nimport { DocUploadResponse } from '../../Shared/models/DocUploadResponse';\nimport { DocumentUploadOptionComponent } from '../Dialogs/document-upload-option/document-upload-option.component';\nimport { OpportunityNameComponent } from '../Dialogs/opportunity-name/opportunity-name.component';\nimport { DialogService } from 'src/app/Shared/services/dialog.service';\nimport { DocumentUploadService } from '../../Shared/Services/document-upload.service';\nimport { RFPFile } from '../../Shared/Models/RFPFile';\nimport { CategoryName } from 'src/app/Shared/models/CategoryName';\nimport { RfpDatabaseService } from '../../Shared/Services/rfp-database.service';\nimport { RFPOpportunity } from '../../Shared/Models/RFPOpportunity';\nimport { AutoParsingResponse } from '../../Shared/Models/AutoParsingResponse';\nimport { DeleteFileResponse } from '../../Shared/Models/DeleteFileResponse';\nimport { CategoryData } from '../../Shared/Models/CategoryData';\nimport { APIReponse } from 'src/app/Shared/models/APIReponse';\n\n\n\n@Component({\n  selector: 'app-document-parser-form',\n  templateUrl: './document-parser-form.component.html',\n  styleUrls: ['./document-parser-form.component.css']\n})\nexport class DocumentParserFormComponent implements OnInit {\n  documentNameList: any;\n  selectedfileDropDownValue: string;\n  isLoading: boolean = false;\n  isSummary: boolean = false;\n  @ViewChild(DocumentSummaryComponent, { static: true }) documentSummaryComponent: DocumentSummaryComponent;\n  @ViewChild(ContextMenuComponent, { static: true }) public basicMenu: ContextMenuComponent;\n  @ViewChild(DocumentUploadComponent, { static: true }) documentUploadComponent: DocumentUploadComponent;\n  subs = new Subscription();\n\n\n\n  //fileUploadComponent: FileUploadComponent;\n  category: string;\n  categoryArray: Array<any> = [];\n  categoryName: string;\n  catValues: Array<any> = [];\n  RfpDataArray: Element[] = [];\n  uploadError: string;\n  \n  filteredOpportunityDataArray: Element[] = [];\n\n  summaryFieldArray: Array<SummaryField>;\n  documentID: string;\n  documentName: string;\n  opportunityName: string;\n  //.....\n  CategoryData: Array<any>;\n  oppertunityCategoryArray: Array<OppertunityCategory>; // new by Nisar\n\n  constructor(private route: ActivatedRoute,\n    public documentUploadService: DocumentUploadService,\n    private rfpDatabaseService: RfpDatabaseService,\n    private documentParserFormService: DocumentParserFormService,\n    private dragulaService: DragulaService,\n    private dialog: MatDialog,\n    private insertCategoryAttributeService: InsertCategoryAttributeService,\n    private router: Router,\n    private notification: NotificationService,\n    private validateChange: ValidateChangeInDataService,\n    private dialogService: DialogService) {\n    this.categoryArray = []\n    this.oppertunityCategoryArray = new Array<OppertunityCategory>();\n    router.events.subscribe(\n      (event: Event) => {\n        if (event instanceof NavigationStart) {\n          // Show loading indicator\n        }\n        if (event instanceof NavigationEnd) {\n\n\n        }\n        if (event instanceof NavigationError) {\n\n\n\n        }\n      });\n    //................\n  };\n\n  documentId: string; // temp\n\n\n  ngOnInit() {\n\n\n    this.dragulaConfig();\n    this.RouteParam();\n    this.getRoutParamsBizlink();\n    this.documentId = localStorage.getItem('documentId');\n\n  }\n\n  onPopulateCategoryNameList(categoryNameList: CategoryName[]) {\n    this.categoryArray = categoryNameList;\n  }\n\n  getRoutParamsBizlink(): void {\n\n    let companyid = \"\";\n    let userid = \"\";\n    let rfpdocumentid = \"\";\n    this.route.queryParamMap.subscribe(params => {\n      //console.log('>>>>>getRoutParamsBizlink<<<<<');\n      if (params.has('companyid') && params.has('userid') && !params.has('rfpdocumentid') && !params.has('companySegmentID')) {\n\n        companyid = params.get('companyid');\n        userid = params.get('userid');\n        // alert(\"*******  Welcome *******  \\n You're landing from Bizlink with ! \\n  company Id = \"+companyid +\"user Id = \"+ userid);\n        //console.log('>>>>>getRoutParamsBizlink>>call 1<<<<<');\n        this.getSavedDocInfo(companyid, userid, null);\n      }\n      else if (params.has('rfpdocumentid')) {\n        rfpdocumentid = params.get('rfpdocumentid');\n        //console.log('>>>>>getRoutParamsBizlink>>call 2<<<<<');\n        this.getSavedDocInfo(null, null, rfpdocumentid);\n      }\n    });\n\n  }\n\n  activeClass(cat) {\n    //console.log(cat);+\n\n\n\n\n\n\n\n\n\n    cat.active = true;\n  }\n\n  onRfpDocumentNameReceived(docNameList: any): void {\n\n    this.documentNameList = docNameList;\n  }\n\n  fileDropDownSelectedValue(name: string): void {\n    debugger;\n    this.selectedfileDropDownValue = name;\n  }\n\n  onOpportunityDataOnCreationTransfer(): void {\n    debugger;\n    //this.ClearForm();\n    //this.documentName = docUploadResponse.documentName;// rfpDocument[4];\n    //this.categoryArray = docUploadResponse.category;// rfpDocument[1];\n    //let data: string = docUploadResponse.document;// rfpDocument[0];\n    this.summaryFieldArray = this.documentUploadService.RFPOpportunity.SummaryFieldList; //docUploadResponse.summary;// rfpDocument[2];\n    //this.documentID = docUploadResponse.documentId;// rfpDocument[3];\n    //this.documentName = docUploadResponse.documentName;// rfpDocument[4];\n    this.CategoryData = []// docUploadResponse.CategoryData;// rfpDocument[5];\n    //this.LoadRfpData(data, \"fromFileUpload\");\n    this.documentSummaryComponent.createGroup(this.summaryFieldArray);\n    this.fillOppeCatArray(this.categoryArray, this.CategoryData);\n    this.RouteParam();\n    //}\n    //}\n  }\n\n  RfpDocumentReceived(docUploadResponse: DocUploadResponse): void {\n    this.ClearForm();\n    this.documentName = docUploadResponse.documentName;// rfpDocument[4];\n    this.categoryArray = docUploadResponse.category;// rfpDocument[1];\n    let data: string = docUploadResponse.document;// rfpDocument[0];\n    this.summaryFieldArray = docUploadResponse.summary;// rfpDocument[2];\n    this.documentID = docUploadResponse.documentId;// rfpDocument[3];\n    this.documentName = docUploadResponse.documentName;// rfpDocument[4];\n    this.CategoryData = docUploadResponse.CategoryData;// rfpDocument[5];\n    this.LoadRfpData(data, \"fromFileUpload\");\n    this.documentSummaryComponent.createGroup(this.summaryFieldArray);\n    this.fillOppeCatArray(this.categoryArray, this.CategoryData);\n    this.RouteParam();\n    //}\n    //}\n  }\n\n  onShowRFPDocument(): void {\n    this.RfpDataArray = [];\n    let rfpFileIndex: number = this.documentUploadService.RFPOpportunity.RfpFileList.findIndex(file => file.FileName == this.documentUploadService.SelectedFileName)\n\n    if (rfpFileIndex == -1) {\n      return;\n    }\n\n    if (rfpFileIndex == -1) {\n      this.documentName = '';\n      this.opportunityName = this.documentUploadService.RFPOpportunity.OpportunityName;\n      this.RfpDataArray = [];\n      return;\n    }\n    let rfpfile: RFPFile = this.documentUploadService.RFPOpportunity.RfpFileList[rfpFileIndex];\n\n    if (rfpfile.HTMLFile === undefined || rfpfile.HTMLFile === null || rfpfile.HTMLFile == '') {\n      this.documentName = '';\n      this.opportunityName = this.documentUploadService.RFPOpportunity.OpportunityName;\n      this.RfpDataArray = [];\n      return;\n    }\n\n    this.documentName = rfpfile.FileName;\n    this.opportunityName = this.documentUploadService.RFPOpportunity.OpportunityName;\n\n    let doc = new DOMParser().parseFromString(rfpfile.HTMLFile, \"text/html\");\n    let div = doc.querySelector(\"div\");\n    this.loadLeftPaneData(div.children);\n\n\n  }\n\n\n\n  fillOppeCatArray(categoryArray: Array<any>, CategoryData: Array<any>) {\n\n    let self = this;\n    if (categoryArray != null && categoryArray.length > 0) {\n      if (this.oppertunityCategoryArray.length > 0) {\n        this.oppertunityCategoryArray.length = 0\n        this.oppertunityCategoryArray = [];\n      }\n\n\n      categoryArray.forEach(cat => {\n\n        let ObjOppCat = new OppertunityCategory();\n        ObjOppCat.categoryId = null;\n        ObjOppCat.categoryName = null;\n\n        if (ObjOppCat.categoryData) {\n          ObjOppCat.categoryData.length = 0;\n          ObjOppCat.categoryData = [];\n        }\n\n        ObjOppCat.categoryId = cat.CategoryId;\n        ObjOppCat.categoryName = cat.Name;\n\n        let data: any = {};\n\n        if (CategoryData) {\n\n          data = CategoryData.filter((item) => {\n            if (item.CategoryId == cat.CategoryId) return item.CategoryData;\n          }).shift();\n          if (data != undefined) {\n            //  debugger;\n            ObjOppCat.categoryData = this.RestDataIndexAttribute(data.CategoryData, cat.CategoryId);\n\n            self.oppertunityCategoryArray.push(ObjOppCat);\n          } else {\n            ObjOppCat.categoryData = this.CreateElementForEmptyCategory(ObjOppCat.categoryId);\n            self.oppertunityCategoryArray.push(ObjOppCat);\n          }\n        }\n      });\n    }\n  }\n\n  dragulaConfig() {\n\n    let newAddElement: Element;\n    let siblingOfNewAddElement: Element;\n    let isNewElement: Boolean;\n    let sourceIndexId: number;\n    let targetIndexId: number;\n    let sourceId: string;\n    let siblingCopy: Element;\n    let isCopied: boolean;\n    this.dragulaService.createGroup('Copy', {\n      direction: 'horizontal',\n      copy: (element: Element, source) => {\n\n        console.log(source.id);\n        return source.id === 'left';\n      },\n\n      copyItem: (element: Element) => {\n        console.log(\"copyItem\");\n        console.log(element);\n        isNewElement = true;\n        element.setAttribute(\"data-new\", \"true\");\n        //this.AddDocumentIdInNewAddNode(element);\n        return <Element>element.cloneNode(true);\n      },\n\n      accepts: (el, target, source, sibling) => {\n        console.log(\"accept\");\n        console.log(target.id);\n        return target.id !== 'left';\n\n      }\n    });\n\n\n\n    this.subs.add(this.dragulaService.dropModel(\"Copy\")\n      .subscribe(({ name,\n        el,\n        target,\n        source,\n        sibling,\n        item,\n        sourceModel,\n        targetModel,\n        sourceIndex,\n        targetIndex }) => {\n\n        if (source.id == 'right') {\n          //console.log(\"Source Index >>>>> \"+sourceIndex);\n          //console.log(\"target Index >>>>> \"+targetIndex);\n          sourceIndexId = sourceIndex;\n          targetIndexId = targetIndex;\n          sourceId = source.id;\n          siblingCopy = sibling;\n          isCopied = true;\n        }\n        siblingOfNewAddElement = sibling;\n\n      })\n    );\n\n    this.subs.add(this.dragulaService.dragend(\"Copy\")\n      .subscribe(({ name, el }) => {\n        //console.log(\"dragend\");\n        if (isNewElement === true) {\n\n          newAddElement = el.querySelector(\"div *\");\n          this.ResetOppertunityDataListNewAddElement(newAddElement, siblingOfNewAddElement);\n          isNewElement = false;\n        } else {\n\n\n          //debugger;\n          if (sourceId == 'right' && isCopied === true) {\n            isCopied = false;\n            this.copyNodes(sourceIndexId, targetIndexId, siblingCopy, el);\n          }\n        }\n      })\n    );\n\n  }\n\n  copyNodes(sourceIndex, targetIndex, sibling, el) {\n    //debugger;\n    if (sourceIndex > targetIndex) {\n      let asibling = sibling.querySelector(\"div *\");\n      let siblingIndex = asibling.getAttribute(\"data-index\").valueOf();\n      // console.log(\">>>>>>Sibling Index -->\"+ siblingIndex +\"<--<<<<<<\");\n      let siblingNode = this.filteredOpportunityDataArray.find(n => n.getAttribute(\"data-index\").valueOf() === siblingIndex);\n      // console.log(\"Sibling Node\"+ siblingNode);\n      let index = this.filteredOpportunityDataArray.indexOf(siblingNode);\n      var diffIndex = sourceIndex - targetIndex;\n      var getsiblingIndex: number = +index;\n      var getsourceIndex = getsiblingIndex + diffIndex;\n      var gettargetIndex: number = +index;\n      if (gettargetIndex >= 0) {\n        //console.log(getsourceIndex);\n        //console.log(this.filteredOpportunityDataArray.length);\n        //console.log(index);\n        var newAddElementCopy = el.querySelector(\"div *\");\n        this.ResetOppertunityDataListCopyElement(newAddElementCopy, sibling, diffIndex, true);\n        //console.log(newAddElementCopy);\n        this.insertCategoryAttributeService.resetOpportunityData(this.filteredOpportunityDataArray, this.filteredOpportunityDataArray.length, this.categoryName);\n        this.resetDataIndexAttr();\n        this.pushIntoFilteredArray();\n      }\n    }\n    else {\n      //console.log(sibling);\n\n      if (sibling != null) {\n        let asibling = sibling.querySelector(\"div *\");\n        let siblingIndex = asibling.getAttribute(\"data-index\").valueOf();\n        // console.log(\">>>>>>Sibling Index -->\"+ siblingIndex +\"<--<<<<<<\");\n        let siblingNode = this.filteredOpportunityDataArray.find(n => n.getAttribute(\"data-index\").valueOf() === siblingIndex);\n        // console.log(\"Sibling Node\"+ siblingNode);\n        let index = this.filteredOpportunityDataArray.indexOf(siblingNode);\n        var diffIndex = targetIndex - sourceIndex;\n        // console.log(diffIndex);\n        var getsiblingIndex: number = +index;\n        var getsourceIndex = getsiblingIndex - (diffIndex + 1);\n        var gettargetIndex = getsiblingIndex;\n        //console.log(getsourceIndex);\n        //console.log(getsiblingIndex);\n        //console.log(index);\n        var newAddElementCopy = el.querySelector(\"div *\");\n        this.ResetOppertunityDataListCopyElement(newAddElementCopy, sibling, diffIndex, false);\n\n      }\n      else {\n        el.setAttribute(\"data-new\", \"true\");\n        var newAddElementCopy = el.querySelector(\"div *\");\n        var diffIndex = targetIndex - sourceIndex;\n        if (this.filteredOpportunityDataArray.length > 15) {\n          this.filteredOpportunityDataArray.splice(this.filteredOpportunityDataArray.length, 0, newAddElementCopy);\n          this.filteredOpportunityDataArray.splice(this.filteredOpportunityDataArray.length - (diffIndex + 2), 1);\n        }\n        else {\n          this.filteredOpportunityDataArray.splice(this.filteredOpportunityDataArray.length, 0, newAddElementCopy);\n          this.filteredOpportunityDataArray.splice(this.filteredOpportunityDataArray.length - 1, 1);\n        }\n        newAddElementCopy.removeAttribute(\"data-new\");\n        this.insertCategoryAttributeService.resetOpportunityData(this.filteredOpportunityDataArray, this.filteredOpportunityDataArray.length, this.categoryName);\n        this.resetDataIndexAttr();\n        this.pushIntoFilteredArray();\n      }\n    }\n  }\n\n  ResetOppertunityDataListCopyElement(newAddElement: Element, sibling: Element, diffIndex: number, direction: boolean): void {\n    //debugger;\n\n    let addNodeIndex = this.filteredOpportunityDataArray.findIndex(line => line.getAttribute(\"data-new\") == \"true\");\n    //console.log(\">>>>>>add node index--\"+ addNodeIndex+\"--<<<<<<\");\n\n\n    let index: number;\n    let indexSibling: number;\n    let indexInArr = 0;\n    let getsiblingIndex: number;\n    if (sibling != null) {\n      let asibling = sibling.querySelector(\"div *\");\n      let siblingIndex = asibling.getAttribute(\"data-index\").valueOf();\n      getsiblingIndex = +siblingIndex;\n      // console.log(\">>>>>>Sibling Index -->\"+ siblingIndex +\"<--<<<<<<\");\n      let siblingNode = this.filteredOpportunityDataArray.find(n => n.getAttribute(\"data-index\").valueOf() === siblingIndex);\n      index = siblingNode == null ? 0 : this.filteredOpportunityDataArray.indexOf(siblingNode);\n    }\n    else {\n      index = this.filteredOpportunityDataArray.length;\n    }\n    if (index > 15) {\n\n      if (direction) {\n        this.filteredOpportunityDataArray.splice(index, 0, newAddElement);\n        this.filteredOpportunityDataArray.splice(index + diffIndex + 1, 1);\n        //console.log(\"Length >>>>> \"+this.filteredOpportunityDataArray.length);\n      }\n      else {\n        this.filteredOpportunityDataArray.splice(index, 0, newAddElement);\n        this.filteredOpportunityDataArray.splice(index - (diffIndex + 1), 1);\n        this.insertCategoryAttributeService.resetOpportunityData(this.filteredOpportunityDataArray, index, this.categoryName);\n        this.resetDataIndexAttr();\n        this.pushIntoFilteredArray();\n      }\n      //newAddElement.removeAttribute(\"data-new\");\n    }\n    else {\n      if (direction) {\n\n\n        if (this.filteredOpportunityDataArray.length < 15) {\n          this.filteredOpportunityDataArray.splice(index, 0, newAddElement);\n          if (this.filteredOpportunityDataArray.length > 9) {\n            this.filteredOpportunityDataArray.splice(diffIndex + index + 1, 1);\n          }\n          else {\n            this.filteredOpportunityDataArray.splice(index - 1, 1);\n          }\n        }\n        else {\n          if (this.filteredOpportunityDataArray.length > 9 && index < 15) {\n            //this.filteredOpportunityDataArray.splice(index,0,newAddElement);\n            //this.filteredOpportunityDataArray.splice(diffIndex + index + 1,1);\n          }\n          else {\n            this.filteredOpportunityDataArray.splice(index, 0, newAddElement);\n            this.filteredOpportunityDataArray.splice(index - 1, 1);\n          }\n        }\n      }\n      else {\n        debugger;\n        if (diffIndex > index) {\n\n          this.filteredOpportunityDataArray.splice(index, 0, newAddElement);\n          this.filteredOpportunityDataArray.splice(diffIndex + (index + 1), 1);\n          this.pushIntoFilteredArray();\n        }\n        else {\n\n          this.pushIntoFilteredArray();\n        }\n      }\n\n    }\n\n    //console.log(\">>>>>>Sibling Index -->\"+ index +\"<--<<<<<<\");\n  }\n\n  ResetOppertunityDataListNewAddElement(newAddElement: Element, sibling: Element): void {\n    // debugger;\n    try {\n\n      this.RemoveEmptyElement();\n\n      let addNodeIndex = this.filteredOpportunityDataArray.findIndex(line => line.getAttribute(\"data-new\") == \"true\");\n      //console.log(\">>>>>>--\"+ addNodeIndex+\"--<<<<<<\");\n      this.filteredOpportunityDataArray.splice(addNodeIndex, 1);\n      let index: number;\n      let indexSibling: number;\n      let indexInArr = 0;\n      if (sibling != null) {\n        let asibling = sibling.querySelector(\"div *\");\n        //console.log(\">>>>>>Sibling Index -->\"+ asibling +\"<--<<<<<<\");\n        let siblingIndex = asibling.hasAttribute(\"data-index\") ? asibling.getAttribute(\"data-index\").valueOf() : 0;\n        //console.log(\">>>>>>Sibling Index -->\"+ siblingIndex +\"<--<<<<<<\");\n        let siblingNode = this.filteredOpportunityDataArray.find(n => n.getAttribute(\"data-index\").valueOf() === siblingIndex);\n        index = siblingNode == null ? 0 : this.filteredOpportunityDataArray.indexOf(siblingNode);\n        //index =  this.filteredOpportunityDataArray.length ===1 ? 0 : null;\n      }\n      else {\n        index = this.filteredOpportunityDataArray.length;\n      }\n\n      if (index != null) {\n        //console.log(\"---->\"+index+\"<------\");\n        let dataKey = newAddElement.getAttribute('data-key') == null ? \"\" : newAddElement.getAttribute('data-key').valueOf();\n        newAddElement.innerHTML\n        //add new element\n        newAddElement.removeAttribute(\"data-new\");\n        newAddElement.removeAttribute(\"data-key\");\n        if (dataKey != \"\") {\n          for (var i = 0; i < this.RfpDataArray.length; i++) {\n\n            indexInArr = newAddElement.innerHTML === this.RfpDataArray[i].innerHTML ? i : 0\n            if (indexInArr > 0)\n              break;\n          }\n          console.log(\"----\" + this.RfpDataArray[i].getAttribute('data-key') + \"----\" + indexInArr);\n          indexSibling = index;\n          for (var kk = indexInArr; kk < this.RfpDataArray.length; kk++) {\n            var getDataKey = this.RfpDataArray[kk].getAttribute('data-key');\n            if (getDataKey != null) {\n              //console.log(\">>>>>>>>>>>>>>> -- index --\"+kk+\"\"+this.RfpDataArray[kk]+\"-->DK-->\"+getDataKey+\"<<<<<<<<<<<<<\");\n              var parentKey = dataKey.split('/');\n              //console.log(\">>>>>>>>>>>>>>>\"+parentKey+'<<<<<<<<<<<<<<');\n              var childKey = getDataKey != null ? getDataKey.split('/') : [0];\n              var consParentKey = \"\";\n              var consChildKey = \"\";\n              console.log(\"---------\" + childKey + \"---------\");\n              if (childKey.length >= parentKey.length) {\n                for (var l = 0; l < parentKey.length; l++) {\n                  consParentKey += parentKey[l];\n                  consChildKey += childKey[l];\n                }\n                //console.log(\">>>>>>>>>>>>>>>\"+consParentKey+\"---\"+consChildKey+\"--<<<<<<<<<<<<<\");\n                if (consParentKey === consChildKey) {\n                  if (indexSibling === index) {\n                    this.filteredOpportunityDataArray.splice(index, 0, this.RfpDataArray[kk]);\n                    indexSibling = indexSibling + 1;\n                  }\n                  else {\n                    this.filteredOpportunityDataArray.splice(indexSibling, 0, this.RfpDataArray[kk]);\n                    indexSibling = indexSibling + 1;\n                  }\n                  //console.log(\">>>>>>>>>>>>>>>--matched Child--> \"+getDataKey+\"--<<<<<<<<<<<<<\");\n                } else { break; }\n              }\n            }\n          }\n        }\n        else {\n          if (sibling != null) {\n            this.filteredOpportunityDataArray.splice(index, 0, newAddElement);\n          }\n          else {\n            this.filteredOpportunityDataArray.push(newAddElement);\n          }\n        }\n\n        this.insertCategoryAttributeService.resetOpportunityData(this.filteredOpportunityDataArray, index, this.categoryName);\n        this.resetDataIndexAttr();\n        this.pushIntoFilteredArray();\n\n      }\n    }\n    catch (error) {\n      //console.log(\"---->\"+this.filteredOpportunityDataArray.length+\"<----\");\n      //console.log(\">>>>>>>>>>>>>>>Error--> \"+error+\"--<<<<<<<<<<<<<\");\n    }\n  }\n\n  resetDataIndexAttr(): void {\n    let datakey: string = \"\";\n    for (let index = 0; index < this.filteredOpportunityDataArray.length; index++) {\n      this.filteredOpportunityDataArray[index].setAttribute(\"data-index\", index.toString());\n      this.filteredOpportunityDataArray[index].setAttribute(\"data-cat\", \"\");\n      //............. setting data-key    start  \n      if (!this.filteredOpportunityDataArray[index].hasAttribute(\"data-key\")) { // if data-key attr is not present\n\n        this.filteredOpportunityDataArray[index].setAttribute(\"data-key\", index.toString());\n\n        if (index - 1 !== -1) {\n          datakey = this.filteredOpportunityDataArray[index - 1].getAttribute(\"data-key\");\n          this.filteredOpportunityDataArray[index].setAttribute(\"data-key\", datakey);\n          //console.log( datakey,this.filteredOpportunityDataArray[index-1].outerHTML);\n        }\n        else {\n          if (this.filteredOpportunityDataArray[index + 1] != undefined) {\n            datakey = this.filteredOpportunityDataArray[index + 1].getAttribute(\"data-key\");\n            this.filteredOpportunityDataArray[index].setAttribute(\"data-key\", datakey);\n          }\n        }\n      }\n      //.............  setting data-key    end \n    }\n  }\n\n  LoadRfpData(rfpDoc: string, flag: string): void {\n    if (rfpDoc != null) {\n      let doc = new DOMParser().parseFromString(rfpDoc, \"text/html\");\n      let div = doc.querySelector(\"div\");\n      switch (flag) {\n        case 'fromFileUpload':\n          this.loadLeftPaneData(div.children);\n          //this.loadOppertunityData(doc);\n          break;\n        case \"fromDbExistingFile\":\n          this.loadLeftPaneData(div.children);\n          break\n      }\n    }\n    else {\n      this.RfpDataArray.length = 0;\n      this.RfpDataArray = [];\n      this.filteredOpportunityDataArray.length = 0;\n      this.filteredOpportunityDataArray = [];\n      this.isSummary = false;\n\n    }\n  }\n\n  loadLeftPaneData(htmlCollection: HTMLCollection): void {\n\n    [].forEach.call(htmlCollection, (item: HTMLElement, index: number) => {\n      item.setAttribute(\"data-draggable\", \"true\");\n      //item.style.cursor = \"move\";\n      this.RfpDataArray.push(item);\n    });\n    this.RfpDataArray = Array.from(this.RfpDataArray);\n  }\n\n\n  RestDataIndexAttribute(stringHtml: any, categoryId: string): Array<Element> {\n    let dataCategoryList = [];\n    let dataCategoryListElements: Array<Element> = [];\n    let doc = new DOMParser().parseFromString(stringHtml, \"text/html\");\n    dataCategoryList = Array.from(doc.querySelectorAll(\"[data-cat]\"));\n\n    [].forEach.call(dataCategoryList, (item: HTMLElement, index: number) => {\n      item.setAttribute(\"data-index\", index.toString());\n      dataCategoryListElements.push(item);\n\n    });\n    return dataCategoryListElements;\n  }\n\n    RouteParam(): void {\n\n    this.route.queryParamMap.subscribe(params => {\n\n      this.categoryName = params.get('category');\n      \n      console.log(this.categoryName);\n      if (this.categoryName == 'summary') {\n        this.filteredOpportunityDataArray = [];\n        this.isSummary = true;\n      }\n      else if (this.categoryName === null && (typeof this.categoryArray !== \"undefined\")) {\n\n        this.categoryName = 'summary';\n        this.isSummary = true;\n      }\n      else {\n        this.isSummary = false;\n\n        this.filteredOppoertunity();\n        if (this.filteredOpportunityDataArray.length > 0) {\n\n          this.validateChange.initData(this.filteredOpportunityDataArray);\n        }\n      }\n    });\n  }\n\n\n  filteredOppoertunity(): void {\n    let categoryId = this.categoryName;;\n    var obj: OppertunityCategory = this.oppertunityCategoryArray.find(element => {\n      return element.categoryId == categoryId;\n    });\n    this.filteredOpportunityDataArray = obj != undefined ? obj.categoryData : [];\n  }\n\n\n  OpenEditor(event: any) {\n    event[0].stopPropagation(event[0]);\n    const dialogConfig = new MatDialogConfig();\n    dialogConfig.disableClose = true;\n    dialogConfig.autoFocus = true;\n    dialogConfig.width = '700px';\n\n    dialogConfig.data = {\n      id: 1,\n      title: 'Editor',\n      opportunityData: this.filteredOpportunityDataArray\n    };\n\n    const dialogRef = this.dialog.open(TinymceComponent, dialogConfig);\n    dialogRef.afterClosed().subscribe(\n      data => {\n        if (data !== undefined) {\n\n          this.InsertDataInCategory(data);\n\n        }\n\n      });\n  }\n\n  onOpportunityDataTransfer(rfpOpportunity: RFPOpportunity) {\n\n    this.summaryFieldArray = this.documentUploadService.RFPOpportunity.SummaryFieldList;\n    this.onShowRFPDocument();\n    this.CategoryData = rfpOpportunity.CatetoryDataList;\n    this.documentSummaryComponent.createGroup(this.summaryFieldArray);\n    this.fillOppeCatArray(this.categoryArray, this.CategoryData);\n    this.RouteParam();\n\n  }\n\n  onParsingDataTransfer(autoParsingResponse: AutoParsingResponse) {\n    this.CleanSummaryDataAndCategoryData();\n    this.summaryFieldArray = autoParsingResponse.summary;\n\n    this.CategoryData = autoParsingResponse.CategoryData;\n    this.documentSummaryComponent.createGroup(this.summaryFieldArray);\n    this.fillOppeCatArray(this.categoryArray, this.CategoryData);\n    this.RouteParam();\n\n  }\n\n  onDeleteFileDataTransfer(deleteFileDataReponse: DeleteFileResponse) {\n\n    this.filteredOpportunityDataArray = [];\n    this.fillOppeCatArray(this.categoryArray, []);\n\n    this.onShowRFPDocument();\n    this.CategoryData = deleteFileDataReponse.CategoryData;\n    this.fillOppeCatArray(this.categoryArray, this.CategoryData);\n    const queryParams = { 'category': 'summary' };\n    this.router.navigate(['/'], { queryParams })\n  }\n\n\n\n\n\n  InsertDataInCategory(data: string): void {\n    if (data == \"\") {\n\n      data = this.GetEmptyElement().outerHTML;\n\n    }\n\n    let categoryData: Element[] = [];\n    var doc = new DOMParser().parseFromString(data, \"text/html\");\n    let doc1 = doc.documentElement.innerHTML;\n    let dataCategoryList = doc.querySelector(\"body\");\n    [].forEach.call(dataCategoryList.children, (item: HTMLElement, index: number) => {\n      item.setAttribute(\"data-category\", this.categoryName);\n      categoryData.push(item);\n    });\n\n\n    this.filteredOpportunityDataArray = [];\n    this.filteredOpportunityDataArray = categoryData;\n    this.pushIntoFilteredArray();\n  }\n\n  DeleteOpportunityText(deletedInfo: any) {\n    if (this.filteredOpportunityDataArray.length === 1) {\n\n      let deletedNode: Element = this.filteredOpportunityDataArray[deletedInfo[1]]\n\n      if (deletedNode.hasAttribute(\"data-temptrow\")) {\n        return;\n      }\n      else {\n\n\n        this.filteredOpportunityDataArray = [];\n        this.filteredOpportunityDataArray[0] = this.GetEmptyElement();\n        this.resetDataIndexAttr();\n        this.pushIntoFilteredArray();\n\n      }\n\n    }\n    else if (this.filteredOpportunityDataArray.length > 1) {\n\n      if (deletedInfo.length > 1) {\n        let opportunityData = deletedInfo[0];\n        let deteletedTextIndex1 = deletedInfo[1];\n        this.filteredOpportunityDataArray = this.filteredOpportunityDataArray.filter((a, index) => index !== deteletedTextIndex1);\n        /// ....\n        this.pushIntoFilteredArray();\n        ///....\n      }\n    }\n  }\n\n  pushIntoFilteredArray(): void {\n\n    let categoryId: string;\n    this.route.queryParamMap.subscribe(params => {\n      if (params.has('category')) {\n\n        categoryId = params.get('category');\n      }\n    });\n\n    let catIndex = this.oppertunityCategoryArray.findIndex(item => item.categoryId == categoryId);\n\n    if (catIndex == -1) return;\n\n    if (this.oppertunityCategoryArray[catIndex].categoryData.length > 0) {\n      this.oppertunityCategoryArray[catIndex].categoryData.length = 0;\n      this.oppertunityCategoryArray[catIndex].categoryData = [];\n    }\n\n    this.oppertunityCategoryArray[catIndex].categoryData = this.filteredOpportunityDataArray;\n\n  }\n\n  navigateToDefaultPath() {\n    this.router.navigate(['/opportunity']);\n  }\n\n\n  getSavedDocInfo(companyId: any, userId: any, documentId: any) {\n\n    this.isLoading = true;\n    this.dialog.closeAll();\n    this.ClearForm();\n\n    this.documentParserFormService.getSavedDocInfo(companyId, userId, documentId).subscribe(\n      (response) => {\n\n        this.documentName = response.documentName;\n        this.LoadRfpData(response.document, \"fromDbExistingFile\")\n        let self = this;\n        if (self.categoryArray != null && self.categoryArray.length > 0) {\n          self.categoryArray.length = 0;\n        }\n        if (response.categoryData) {\n\n          response.categoryData.forEach(function (element) {\n            let categoryObj = {\n              CategoryId: element.CategoryId,\n              Name: element.Name\n            }\n            self.categoryArray.push(categoryObj);\n          });\n          this.fillOppeCatArray(this.categoryArray, response.categoryData);\n        }\n\n        localStorage.setItem('documentId', response.documentId);\n        this.documentSummaryComponent.createGroup(response.summary);\n\n        if (response.status !== 'error' && this.categoryArray.length !== null && this.categoryArray.length != 0) {\n          this.RouteParam();\n          this.documentUploadComponent.isBtnPubDisabled = false;\n          this.notification.success(\"Record retrived from cloud.\");\n          const queryParams = { 'category': 'summary' };\n          this.router.navigate(['/'], { queryParams })\n          this.isLoading = false;\n\n        }\n        else {\n          if (response.documentId == 0 || response.documentId == '0') {\n            this.notification.warning(\"No pending document found. \");\n          }\n          else {\n            this.notification.error(response.message);\n          }\n        }\n        this.isLoading = false;\n      },\n      (error: any) => {\n        this.isLoading = false;\n        //console.log(error);\n        this.notification.error(error);\n      });\n\n  }\n\n  // getSavedDocInfo(companyId: any, userId: any, documentId: any) {\n\n  //   this.isLoading = true;\n  //   this.dialog.closeAll();\n  //   this.ClearForm();\n\n  //   this.documentParserFormService.getSavedDocInfo(companyId, userId, documentId).subscribe(\n  //     (response) => {\n\n  //       this.documentName = response.documentName;\n  //       this.LoadRfpData(response.document, \"fromDbExistingFile\")\n  //       let self = this;\n  //       if (self.categoryArray != null && self.categoryArray.length > 0) { self.categoryArray.length = 0; }\n  //       if (response.categoryData) {\n\n  //         response.categoryData.forEach(function (element) {\n  //           let categoryObj = {\n  //             CategoryId: element.CategoryId,\n  //             Name: element.Name\n  //           }\n  //           self.categoryArray.push(categoryObj);\n  //         });\n  //         this.fillOppeCatArray(this.categoryArray, response.categoryData);\n  //       }\n\n  //       localStorage.setItem('documentId', response.documentId);\n  //       this.documentSummaryComponent.createGroup(response.summary);\n\n  //       if (response.status !== 'error' && this.categoryArray.length !== null && this.categoryArray.length != 0) {\n  //         this.RouteParam();\n  //         this.documentUploadComponent.isBtnPubDisabled = false;\n  //         this.notification.success(\"Record retrived from cloud.\");\n  //         const queryParams = { 'category': 'summary' };\n  //         this.router.navigate(['/'], { queryParams })\n  //         this.isLoading = false;\n\n  //       }\n  //       else {\n  //         if (response.documentId == 0 || response.documentId == '0') {\n  //           this.notification.warning(\"No pending document found. \");\n  //         }\n  //         else {\n  //           this.notification.error(response.message);\n  //         }\n  //       }\n  //       this.isLoading = false;\n  //     },\n  //     (error: any) => {\n  //       this.isLoading = false;\n  //       //console.log(error);\n  //       this.notification.error(error);\n  //     });\n\n  // }\n\n\n  ngOnDestroy() {\n    const bag: any = this.dragulaService.find('Copy');\n    if (bag !== undefined) this.dragulaService.destroy('Copy');\n    this.subs.unsubscribe();\n  }\n\n  ClearForm() {\n    this.isSummary = false;\n    this.RfpDataArray = [];\n    this.filteredOpportunityDataArray = [];\n  }\n\n\n  CreateElementForEmptyCategory(categoryId: string): Array<Element> {\n    let divString: string = this.GetEmptyElement().outerHTML;\n\n    return this.RestDataIndexAttribute(divString, categoryId);\n\n  }\n\n  NotDeletedRow(element: Element): boolean {\n    //debugger;\n    let attribute = element.getAttribute(\"data-lastrow\");\n    if (attribute == undefined && attribute == null) {\n      return false;\n    }\n    return true;\n  }\n\n  GetEmptyElementString(): string {\n    //debugger;\n    let categoryId: string;\n\n    this.route.queryParamMap.subscribe(params => {\n      if (params.has('category')) {\n\n        categoryId = params.get('category');\n      }\n    });\n    let divString: string = \"<div data-temptrow=true data-category=\" + categoryId + \" data-cat='' data-key='1'><< Double click / drop text here >></div>\"\n\n    return divString;\n  }\n\n  GetEmptyElement(): Element {\n    //debugger;\n    let categoryId: string;\n\n    this.route.queryParamMap.subscribe(params => {\n      if (params.has('category')) {\n\n        categoryId = params.get('category');\n      }\n    });\n\n\n    let bElement: Element = document.createElement(\"b\");\n    let content: Text = document.createTextNode(\"<< Double click / drop text here >>\");\n\n    bElement.appendChild(content)\n\n    let divElement: Element = document.createElement(\"div\");\n\n    divElement.appendChild(bElement);\n    divElement.setAttribute(\"data-temptrow\", \"true\");\n    divElement.setAttribute(\"data-category\", categoryId);\n    divElement.setAttribute(\"data-cat\", \"\");\n    divElement.setAttribute(\"data-key\", \"1\");\n\n    return divElement;\n  }\n\n  RemoveEmptyElement() {\n    //debugger;\n    if (this.filteredOpportunityDataArray.length > 0) {\n\n      let elementIndex: number = this.filteredOpportunityDataArray.findIndex(el => el.getAttribute('data-temptrow') === 'true');\n      console.log(\"---->element index--\" + elementIndex + \"---<----\");\n      if (elementIndex >= 0) {\n        this.filteredOpportunityDataArray.splice(elementIndex, 1)\n      }\n\n    }\n  }\n\n  onCleanFormControls() {\n    this.documentName = \"\";\n    this.opportunityName = \"\";\n    this.filteredOpportunityDataArray = [];\n    this.RfpDataArray = [];\n    this.documentSummaryComponent.createGroup([]);\n    this.fillOppeCatArray(this.categoryArray, []);\n  }\n\n  CleanSummaryDataAndCategoryData() {\n    this.filteredOpportunityDataArray = [];\n    //this.RfpDataArray = [];\n    this.documentSummaryComponent.createGroup([]);\n    this.fillOppeCatArray(this.categoryArray, []);\n  }\n  /////////////multiple document upload\n\n  AddDocumentIdInNewAddNode(element: Element) {\n\n    let userSelectedFileIndex: number = this.documentUploadService.RFPOpportunity.RfpFileList.findIndex(file => file.OrignalFile.name == this.documentName)\n    let userSelectedRfpFile: RFPFile = this.documentUploadService.RFPOpportunity.RfpFileList[userSelectedFileIndex];\n\n    element.setAttribute(\"data-docid\", userSelectedRfpFile.fileRFPDbId.toString());\n  }\n\n  onDeleteCategoryData(DeletedFileDocId: number) {\n    debugger;\n    let catDataArray: Array<CategoryData> = new Array<CategoryData>();\n    let catElementArray: Array<Element> = new Array<Element>();\n    let DeletedFileDocumentId: string = DeletedFileDocId.toString();\n\n\n    for (let index = 0; index < this.oppertunityCategoryArray.length; index++) {\n      let oppCategory: OppertunityCategory = this.oppertunityCategoryArray[index];\n\n      let catData: CategoryData = new CategoryData();\n      catData.CategoryId = parseInt(oppCategory.categoryId);\n      catData.Name = oppCategory.categoryName;\n\n      for (let index = 0; index < oppCategory.categoryData.length; index++) {\n        let element: Element = oppCategory.categoryData[index];\n        if (element.getAttribute(\"data-docid\") !== null) {\n\n          let documentId: string = element.getAttribute(\"data-docid\").valueOf();\n\n          if (documentId != DeletedFileDocumentId) {\n            catElementArray.push(element);\n            catData.CategoryData = catData.CategoryData + element.outerHTML;\n          }\n        } else {\n          catElementArray.push(element);\n          catData.CategoryData = catData.CategoryData + element.outerHTML;\n        }\n      }\n      oppCategory.categoryData = catElementArray;\n      catDataArray.push(catData);\n    }\n    this.filteredOpportunityDataArray = [];\n    //this.RfpDataArray = [];\n\n    this.fillOppeCatArray(this.categoryArray, []);\n\n    this.fillOppeCatArray(this.categoryArray, catDataArray);\n    this.filteredOppoertunity();\n  }\n\n  onMoveWholeDocument(categoryId: string) {\n    this.isLoading = true;\n    const queryParams = { 'category': categoryId };\n    this.router.navigate(['/'], { queryParams })\n\n    this.RemoveEmptyElement();\n    let data: string;\n    let status: boolean = false;\n\n    for (let index = 0; index < this.filteredOpportunityDataArray.length; index++) {\n      const element = this.filteredOpportunityDataArray[index];\n      if (status == false) {\n        data = element.outerHTML;\n        status = true;\n      } else {\n        data = data + element.outerHTML;\n      }\n    }\n    for (let index = 0; index < this.RfpDataArray.length; index++) {\n\n      let HTMLElement = this.RfpDataArray[index];\n      let element: Element = this.RfpDataArray[index];\n\n      let hasElement: boolean = element.hasAttribute(\"data-cat\");\n      if (hasElement == false) {\n        element.setAttribute(\"data-cat\", \"\")\n      }\n      let RfpDataElement: string = element.outerHTML;\n\n      if (status == false) {\n        data = RfpDataElement;\n        status = true;\n      } else {\n        data = data + RfpDataElement;\n      }\n    }\n    this.WholeDocumentParseDataSave(data, categoryId);\n  }\n\n  WholeDocumentParseDataSave(categorydata: string, categoryId: string) {\n\n    \n    let SelectedFileNameIndex: number = this.documentUploadService.RFPOpportunity.RfpFileList.findIndex(f => f.FileName == this.documentUploadService.SelectedFileName)\n    let rfpFile: RFPFile = this.documentUploadService.RFPOpportunity.RfpFileList[SelectedFileNameIndex];\n\n    const formData = new FormData();\n    formData.append('documentId', rfpFile.fileRFPDbId.toString());\n    formData.append('categoryId', categoryId);\n    formData.append('opportunityId', this.documentUploadService.RFPOpportunity.OpportunityId);\n    formData.append('categoryData', categorydata);\n\n    this.rfpDatabaseService.WholeDocumentParseDataSave(formData).subscribe(\n      res => this.WholeDocumentParseDataSaveResponse(res, categorydata, rfpFile),\n      err => this.UploadError(err)\n    );\n  }\n\n  WholeDocumentParseDataSaveResponse(apiReponse: APIReponse, categorydata: string, rfpFile: RFPFile) {\n   \n    if (apiReponse.apiStatusCode === \"1\") {\n      \n      this.documentUploadService.TogglingEnableDisableButton();\n      this.documentUploadService.SetNumberOfFileSatusCount();\n\n      this.InsertDataInCategory(categorydata);\n      \n      this.notification.success(\"Parsing is completed successfully !\");\n      this.isLoading = false;\n    } else if (apiReponse.apiStatusCode === \"0\") {\n\n      this.isLoading = false;\n      this.notification.error(\"'Something bad happened. Please try again later.'\");\n    } else {\n      if (apiReponse.apiStatusCode !== undefined) {\n        this.isLoading = false;\n\n        this.notification.error(\"'Something bad happened. Please try again later.'\");\n      }\n    }\n  }\n\n  onSave() {\n    this.documentUploadComponent.isLoading = true;\n    this.documentUploadComponent.SaveCategoriesDataAndSummaryData(this.oppertunityCategoryArray)\n\n  }\n\n  UploadError(parm: any): void {\n    this.uploadError = parm;\n    this.isLoading = false;\n    this.notification.error(this.uploadError);\n  }\n\n}\n\n","<div *ngIf=\"isLoading\" class=\"loading-indicator\">\n  <mat-progress-spinner mode=\"indeterminate\"></mat-progress-spinner>\n</div>\n\n<app-document-upload #fileUploadComponent [summary]=\"documentSummaryComponent\"\n  [opportunityData]=\"filteredOpportunityDataArray\" (receivedRFPDocument)=\"RfpDocumentReceived($event)\"\n  (receivedRFPDocumentName)=\"onRfpDocumentNameReceived($event)\" (ClearOpportunityForm)=\"ClearForm()\"\n  (SelectedFile)=\"fileDropDownSelectedValue($event)\" (PopulateCategoryNameList)=\"onPopulateCategoryNameList($event)\"\n  (showRFPDocument)=\"onShowRFPDocument()\" (opportunityDataOnCreationTransfer)=\"onOpportunityDataOnCreationTransfer()\"\n  (opportunityDataTransfer)=\"onOpportunityDataTransfer($event)\" (parsingDataTransfer)=\"onParsingDataTransfer($event)\"\n  (CleanDocumentParserFormControls)=\"onCleanFormControls()\" (DeleteFileDataTransfer)=\"onDeleteFileDataTransfer($event)\"\n  (DeleteCategoryData)=\"onDeleteCategoryData($event)\" (MoveWholeDocument)=\"onMoveWholeDocument($event)\">\n</app-document-upload>\n&nbsp;\n<div class='row '>\n\n  <div class='col-sm-5'>\n\n    <div class=\"card\">\n      <div class=\"card-header\">\n        <div class='row'>\n          <div style=\"font-size: small;\">\n            <span style=\"font-weight: bold;\">Document Name:</span> {{documentName}}\n          </div>\n        </div>\n      </div>\n\n      <div class=\"card-block \" >\n        <div id=\"notepad\">\n\n          <div *ngIf=\"isSummary==true\" >\n            <cdk-virtual-scroll-viewport [itemSize]=\"50\" autosize>\n              <div class='container' >\n                <div style=\"cursor:text !important;\" *cdkVirtualFor=\"let line of RfpDataArray;\" [innerHTML]=\"line.outerHTML| escapeHtml: 'html'\">\n                </div>\n              </div>\n            </cdk-virtual-scroll-viewport>\n          </div>\n\n          <div *ngIf=\"isSummary==false\" style=\"cursor:move !important;\">\n            <cdk-virtual-scroll-viewport [itemSize]=\"50\" autosize>\n              <div class='container' dragula=\"Copy\" id=\"left\" [(dragulaModel)]=\"RfpDataArray\">\n                <div *cdkVirtualFor=\"let line of RfpDataArray;\" [innerHTML]=\"line.outerHTML| escapeHtml: 'html'\">\n                </div>\n              </div>\n            </cdk-virtual-scroll-viewport>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class='col-sm-7'>\n    <div class=\"card\">\n      <div class=\"card-header\">\n        <div style=\"font-size: small;\">\n          <span style=\"font-weight: bold;\">Opportunity Name:</span> {{opportunityName}}\n        </div>\n        <div *ngIf=\"fileUploadComponent.isLoadingSmall\" [ngStyle]=\"{'display': 'inline-block'}\">\n          <mat-progress-spinner [ngStyle]=\"{'display': 'inline-block'}\" color=\"Primary\" [diameter]=\"20\"\n            mode=\"indeterminate\">\n\n          </mat-progress-spinner>\n          &nbsp;&nbsp;\n          <span style=\"font-style:italic; color:indigo\">Saving data...</span>\n        </div>\n\n        <button mat-mini-fab color=\"primary\" matTooltip=\"Save opportunity\" (click)=\"onSave()\" style=\"font-size:small;\"\n          title=\"Save\" [disabled]=\"documentUploadService.SaveButtonDisable\">\n\n          <mat-icon>save</mat-icon>\n        </button>\n\n      </div>\n      <div class=\"card-block\" style=\"padding:0px;\"></div>\n      <div class=\"row no-gutter\">\n        <div class=\"col-sm-3 col-md-3 px-0\">\n          <div class=\"list-group\" style=\"font-size: small;\">\n            <a *ngIf=\"categoryArray !== undefined && categoryArray.length > 0 \" routerLink=\"/\"\n              [queryParams]=\"{ category: 'summary' }\" class=\"list-group-item list-group-item-action\"\n              [class.active]=\"categoryName == 'summary'\" (click)=\"fileUploadComponent.Save(false)\">\n              Summary\n            </a>\n            <a *ngFor=\"let cat of categoryArray;let i=index;\" routerLink=\"/\" [queryParams]=\"{category: cat.CategoryId}\"\n              class=\"list-group-item list-group-item-action\" [class.active]=\"categoryName == cat.CategoryId\"\n              (click)=\"fileUploadComponent.Save(false)\">\n              {{cat.Name}}\n            </a>\n          </div>\n        </div>\n        <div class=\"col-sm-9 col-md-9 px-0\">\n          <div id=\"notepadExtracted\">\n\n            <cdk-virtual-scroll-viewport [itemSize]=\"50\" autosize>\n              <app-document-summary [hidden]=\"!isSummary\">\n              </app-document-summary>\n              <div class='container' dragula=\"Copy\" id=\"right\" [(dragulaModel)]=\"filteredOpportunityDataArray\">\n                <!--        \"escapeHtml1(line.outerHTML) \"-->\n                <div (dblclick)=\"OpenEditor([$event, i])\"\n                  *cdkVirtualFor=\"let line of filteredOpportunityDataArray; let i = index\"\n                  [innerHTML]=\"line.outerHTML | escapeHtml: 'html'\" [contextMenu]=\"basicMenu\"\n                  [contextMenuSubject]=\"[filteredOpportunityDataArray, i]\">\n                </div>\n              </div>\n            </cdk-virtual-scroll-viewport>\n            <context-menu>\n              <ng-template contextMenuItem (execute)=\"DeleteOpportunityText($event.item)\">\n                Delete\n              </ng-template>\n            </context-menu>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<br>\n<br>\n<!-- <div #divID >Put your content above this line </div> -->","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { DocumentSummaryService } from '../../Shared/Services/document-summary.service';\nimport { NotificationService } from '../../../Shared/services/notification.service';\nimport { ValidateChangeInDataService } from '../../Shared/Services/ValidateChangeInDataService';\nimport { ActivatedRoute } from '@angular/router';\nimport { Summary } from 'src/app/Shared/models/Summary';\n\nimport { DatePipe } from '@angular/common';\nimport { MatDialog, MatDialogConfig } from '@angular/material/dialog';\n\nimport { AddfieldComponent } from '../Dialogs/addfield/addfield.component'; //'../Dialogs/addfield-dialog/addfield-dialog.component';//'./addfield-dialog/addfield-dialog.component';\nimport { SummaryField } from '../../Shared/models/SummaryField';\nimport { DocumentUploadComponent } from '../document-upload/document-upload.component';\nimport { DocumentUploadService } from '../../Shared/Services/document-upload.service';\nimport { analyzeAndValidateNgModules } from '@angular/compiler';\nimport { CategoryData } from '../../Shared/Models/CategoryData';\n\n@Component({\n  selector: 'app-document-summary',\n  templateUrl: './document-summary.component.html',\n  styleUrls: ['./document-summary.component.css']\n})\nexport class DocumentSummaryComponent implements OnInit {\n\n  constructor(private fb: FormBuilder, private documentSummaryService: DocumentSummaryService,\n    private notification: NotificationService,\n    private validateChange: ValidateChangeInDataService,\n    private dialog: MatDialog,\n    private route: ActivatedRoute,\n     private documentUploadService: DocumentUploadService) {\n  }\n  private datePipe: DatePipe;\n  groupForm: FormGroup;\n  Test1: number = 20;\n  ONE_DANK_REGEX = /^([0]{0,1}[1-9]|1[012])\\/([1-9]|([012][0-9])|(3[01]))\\/\\d\\d\\d\\d$|^([0]{0,1}[1-9]|1[012])-([1-9]|([012][0-9])|(3[01]))-\\d\\d\\d\\d$|^([0]{0,1}[1-9]|1[012])\\/([1-9]|([012][0-9])|(3[01]))\\/\\d\\d\\d\\d[ ]([0]{0,1}[1-9]|1[012]):([0-5][0-9])[ ](AM|PM|am|pm)$|^([0]{0,1}[1-9]|1[012])-([1-9]|([012][0-9])|(3[01]))-\\d\\d\\d\\d[ ]([0]{0,1}[1-9]|1[012]):([0-5][0-9])[ ](AM|PM|am|pm)$|^(January|February|March|April|May|June|July|August|September|October|November|December|Jan|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)[ ]([1-9]|[1-2][0-9]|3[0-1])[,][ ](20)[0-9]{2}$|^(January|February|March|April|May|June|July|August|September|October|November|December)[ ](0[1-9]|[1-9]|[1-2][0-9]|3[0-1])[,][ ](20)[0-9]{2}[ ]([1-9]|(?=[0-1])[0-1][0-9]|(?=2)2[0-4]):([0-5][0-9])[ ](AM|PM|am|pm)$|^(January|February|March|April|May|June|July|August|September|October|November|December)[ ](0[1-9]|[1-9]|[1-2][0-9]|3[0-1])[,][ ](20)[0-9]{2}[ ][ ]([1-9]|(?=[0-1])[0-1][0-9]|(?=2)2[0-4]):([0-5][0-9])[ ](AM|PM|am|pm)$/;\n  //....................\n  summarArray: Array<SummaryField>;\n  try(): boolean { return true; }\n\n  ngOnInit() {\n    this.groupForm = this.fb.group({});\n    this.summarArray = new Array<SummaryField>();\n  };\n\n  createGroup(summaryFieldArray: Array<SummaryField>) {\n  \n    if (summaryFieldArray != undefined) {\n      // this.groupForm.reset();\n      this.summarArray = summaryFieldArray;\n\n      this.validateChange.initDataSummary(summaryFieldArray, null);\n      this.drawFields(summaryFieldArray);\n      // console.log(this.groupForm);\n    };\n  };\n\n  drawFields(summaryFieldArray) {\n    this.removeControlIfExist(this.groupForm);\n    summaryFieldArray.forEach(\n\n      control => {\n        //console.log('>>>>>>'+control.FiledTypeId+'<<<<<');\n        if (control.FieldDisplayName == \"Solicitation Title\") {\n          this.groupForm.addControl(control.FieldDisplayName, this.fb.control(control.FieldText, [Validators.required, Validators.maxLength(250)]))\n        } else if (control.FieldDisplayName == \"Solicitation Number\") {\n          this.groupForm.addControl(control.FieldDisplayName, this.fb.control(control.FieldText, [Validators.required, Validators.maxLength(50)]))\n\n        } else if (control.FieldDisplayName == \"Requesting Agency\") {\n          this.groupForm.addControl(control.FieldDisplayName, this.fb.control(control.FieldText, [Validators.required, Validators.maxLength(250)]))\n        }\n        else if (control.FieldDisplayName == \"Original Posted Date\") {\n          this.groupForm.addControl(control.FieldDisplayName, this.fb.control(control.FieldText, [Validators.required, Validators.pattern(this.ONE_DANK_REGEX)]))\n        }\n        else if (control.FieldDisplayName == \"Question Due Date\") {\n          this.groupForm.addControl(control.FieldDisplayName, this.fb.control(control.FieldText, [Validators.pattern(this.ONE_DANK_REGEX)]))\n        }\n        else if (control.FieldDisplayName == \"Pre-bid Date\") {\n          this.groupForm.addControl(control.FieldDisplayName, this.fb.control(control.FieldText, [Validators.pattern(this.ONE_DANK_REGEX)]))\n        }\n        else if (control.FieldDisplayName == \"Closing Date and Time\") {\n          this.groupForm.addControl(control.FieldDisplayName, this.fb.control(control.FieldText, [Validators.required, Validators.pattern(this.ONE_DANK_REGEX)]))\n        }\n        else if(control.FiledTypeId==\"3\")\n        {\n          this.groupForm.addControl(control.FieldDisplayName, this.fb.control(control.FieldText, [Validators.pattern(this.ONE_DANK_REGEX)]))\n        }\n        else \n        {\n          this.groupForm.addControl(control.FieldDisplayName, this.fb.control(control.FieldText, [Validators.maxLength(250)]))\n        }\n      }\n\n    );\n  }\n  removeControlIfExist(group: FormGroup): void {\n    Object.keys(group.controls).forEach((key: string) => {\n      const abstractControl = group.get(key);\n      group.removeControl(key);\n    });\n  }\n\n\n   addField(index:number, summaryField: SummaryField) {\n   let fieldTypeId: number;\n    if (summaryField.ControlType.toString() == 'TextBox') {\n      summaryField.FiledTypeId = 1;\n      summaryField.ControlType = 'text';\n    } else if (summaryField.ControlType.toString() == 'textarea') {\n      fieldTypeId = 2;\n    } else {\n      summaryField.FiledTypeId = 3;\n      summaryField.ControlType = 'date';\n    }\n\n    this.summarArray.splice(index + 1,0,summaryField);\n    this.summarArray.forEach(\n      control => \n      {\n          //console.log('>>>>>> fieldID >>>>'+control.FiledTypeId+'<<<<<');\n          if(control.FiledTypeId === 3)\n          {\n            this.groupForm.addControl(control.FieldDisplayName, this.fb.control(control.FieldText, [Validators.pattern(this.ONE_DANK_REGEX)]))\n          }\n          else\n          {\n            this.groupForm.addControl(control.FieldDisplayName, this.fb.control(control.FieldText, [Validators.maxLength(250)]))\n          }\n      }\n    );\n  }\n\n  openDialog(e, index) {\n  \n    const dialogConfig = new MatDialogConfig();\n    dialogConfig.disableClose = true;\n    dialogConfig.autoFocus = true;\n    dialogConfig.width = '500px';\n    dialogConfig.height = '300px';\n\n    //console.log('---------------');\n    dialogConfig.data = {\n      id: index,\n      summary: this\n    };\n    const dialogRef = this.dialog.open(AddfieldComponent, dialogConfig);\n\n    dialogRef.afterClosed().subscribe(\n      summaryField => {\n        if (summaryField !== undefined)\n        {\n                  this.addField(index,summaryField);\n        }\n      });\n  }\n\n  deleteField(index) {\n    let deletedElement = this.summarArray[index];\n    this.summarArray.splice(index, 1);\n    this.groupForm.removeControl(deletedElement.FieldDisplayName);\n  }\n\n  async onSubmit(documentUpload: DocumentUploadComponent, isOpportunity: boolean, categoryId: string, documentId: string) {\n    // this.mapFormValuesToSummaryModel();\n    debugger;\n    let createedOpportunity = false;\n    if (isOpportunity == true) {\n      createedOpportunity = true;\n    }\n    let fieldTextString = \"\";\n    let summaryObjArray = [];\n    //let fieldsValidated = this.SummaryFieldValidation();\n    let fieldsValidated = this.SummaryFieldValid();\n\n    Object.keys(this.groupForm.controls).forEach((key: string) => {\n      const abstractControl = this.groupForm.get(key);\n      // console.log('Key = ' + key + ' && Value = ' + abstractControl.value);\n      let summaryIndex: number = this.summarArray.findIndex(el => el.FieldDisplayName == key);\n      let summary = this.summarArray[summaryIndex];\n      let summaryObj = { key: key, Value: abstractControl.value, DisplayOrder: summaryIndex + 1, FiledTypeId: summary.FiledTypeId }  //console.log(abstractControl.value);\n      summaryObjArray.push(summaryObj);\n      fieldTextString += abstractControl.value;\n    });\n\n    if (fieldsValidated) {\n      if (!this.validateChange.isEqualSummary(fieldTextString, this.summarArray)) {\n        createedOpportunity = false;\n        documentUpload.isLoadingSmall = true;\n        await this.SaveSummary(documentUpload, isOpportunity, documentId, fieldTextString, summaryObjArray);\n      }\n      if (isOpportunity == true && createedOpportunity == true) {\n        documentUpload.publish();\n      }\n    }\n  }\n\n  async SaveSummary(documentUpload: DocumentUploadComponent, isOpportunity: boolean, documentId: string, fieldTextString: string, summaryObjArray = []) {\n\n    const formData = new FormData();\n    if (documentId && summaryObjArray.length > 0) {\n      formData.append('opportunityId', this.documentUploadService.RFPOpportunity.OpportunityId);\n      formData.append('summary', JSON.stringify(summaryObjArray));\n    }\n\n    this.documentSummaryService.addSummary(formData).subscribe((response) => {\n\n      if (response.status != \"error\") {\n        this.notification.success(\"Summary has been successfully saved.\");\n        this.validateChange.initDataSummary(this.summarArray, fieldTextString);\n        documentUpload.isLoadingSmall = false;\n        if (isOpportunity == true) {\n          documentUpload.publish();\n        }\n      } else {\n        documentUpload.isLoadingSmall = false;\n        this.notification.error(response.message);\n      }\n    },\n      (error: any) => {\n        documentUpload.isLoadingSmall = false;\n        this.notification.error(error);\n\n      });\n  }\n\n  SummaryFieldValid() : boolean{\n      \n    return this.groupForm.valid;\n\n  }\n\n  MaxlengthErrorMessage(fieldName: string): string {\n\n    let errorMessage: string = \"\";\n\n    if (this.groupForm.get(fieldName).errors != null &&\n      this.groupForm.get(fieldName).errors.maxlength != null &&\n      this.groupForm.get(fieldName).errors.maxlength.requiredLength != null) {\n        errorMessage = fieldName + ' must be less than ' + this.groupForm.get(fieldName).errors.maxlength.requiredLength + ' character';\n    }\n    return errorMessage;\n  }\n\n  InvalidDateErrorMessage(fieldName:string):string{\n    let errorMessage: string = \"\";\n    if (this.groupForm.get(fieldName).errors.pattern!=null) {\n      //console.log(fieldName);\n        errorMessage = 'Date format must be like mm/dd/yyyy or mm-dd-yyyy or July 8, 2018 00:00 PM';\n    }\n    return errorMessage;\n  }\n\n\n  SaveChangedCategoriesSummaryData(documentUpload: DocumentUploadComponent, categoryDataList: Array<CategoryData>): [] {\n debugger;\n    let fieldTextString = \"\";\n    let summaryObjArray = [];\n    \n    let fieldsValidated = this.SummaryFieldValid();\n\n    Object.keys(this.groupForm.controls).forEach((key: string) => {\n      const abstractControl = this.groupForm.get(key);\n    \n      let summaryIndex: number = this.summarArray.findIndex(el => el.FieldDisplayName == key);\n      let summary = this.summarArray[summaryIndex];\n      let summaryObj = { key: key, Value: abstractControl.value, DisplayOrder: summaryIndex + 1, FiledTypeId: summary.FiledTypeId }  //console.log(abstractControl.value);\n      summaryObjArray.push(summaryObj);\n      fieldTextString += abstractControl.value;\n    });\n\n    if (fieldsValidated) {\n      if (!this.validateChange.isEqualSummary(fieldTextString, this.summarArray) || (categoryDataList != undefined && categoryDataList != null && categoryDataList.length > 0)) {\n      \n        this.SaveChangedSummary(documentUpload, fieldTextString, summaryObjArray, categoryDataList);\n      }\n      \n    }\n    return [];\n  }\n  \n  SaveChangedSummary(documentUpload: DocumentUploadComponent,  fieldTextString: string, summaryObjArray = [], categoryDataList: Array<CategoryData>) {\n\n    const formData = new FormData();\n    if (summaryObjArray.length > 0) {\n      formData.append('opportunityId', this.documentUploadService.RFPOpportunity.OpportunityId);\n      formData.append('categoriesData', JSON.stringify(categoryDataList));\n      formData.append('summary', JSON.stringify(summaryObjArray));\n    }\n\n    this.documentUploadService.SaveChangedCategoriesAndSummaryData(formData).subscribe((response) => {\n\n      if (response.status != \"error\") {\n        this.notification.success(\"Data has been successfully saved.\");\n        this.validateChange.initDataSummary(this.summarArray, fieldTextString);\n        documentUpload.isLoading = false;\n        documentUpload.isLoadingSmall = false;\n      } else {\n        documentUpload.isLoadingSmall = false;\n        documentUpload.isLoading = false;\n        this.notification.error(response.message);\n      }\n    },\n      (error: any) => {\n        documentUpload.isLoading = false;\n        documentUpload.isLoadingSmall = false;\n        this.notification.error(error);\n\n      });\n  }\n}\n","<mat-card class=\"zdass-mat-card\">\n    <!--<mat-card-header>\n      <div mat-card-avatar class=\"example-header-image\"></div>\n      <mat-card-title> summary </mat-card-title>\n      <mat-card-subtitle>Dog Breed</mat-card-subtitle>\n    </mat-card-header>-->\n    <!--<img mat-card-image src=\"https://material.angular.io/assets/img/examples/shiba2.jpg\" alt=\"Photo of a Shiba Inu\">-->\n    <mat-card-content>\n      <form [formGroup]=\"groupForm\" class=\"zdass-container\">\n      \n        <div *ngFor=\"let field of summarArray; let i=index\" class=\"zdass-container input_box\">\n            <mat-error *ngIf=\"groupForm.get(field.FieldDisplayName).errors?.required\">{{field.FieldDisplayName}} is required </mat-error>\n            <mat-error *ngIf=\"groupForm.get(field.FieldDisplayName).errors?.maxlength\"> {{MaxlengthErrorMessage(field.FieldDisplayName)}}</mat-error>\n            <mat-error *ngIf=\"groupForm.get(field.FieldDisplayName).errors?.pattern\"> {{InvalidDateErrorMessage(field.FieldDisplayName)}}</mat-error>\n            \n          <mat-form-field *ngIf=\"field.ControlType=='text' || field.ControlType=='textarea'\" >\n              \n            <input [formControlName]=\"field.FieldDisplayName\" matInput placeholder={{field.FieldDisplayName}} class=\"form-control\" [id]= \"field.FieldDisplayName\" > \n           \n            <button  (click)=\"openDialog($event,i);\" class=\"plusbtn\">+</button>\n            <button  class=\"plusbtn2\" *ngIf=\"field.FieldDisplayName!='Solicitation Title' && field.FieldDisplayName!='Requesting Agency' && field.FieldDisplayName!='Solicitation Number'\" (click)=\"deleteField(i);\">-</button>\n          </mat-form-field>\n           \n          <!-- <mat-form-field *ngIf=\"field.ControlType=='date'\">\n            <input matInput [matDatepicker]=\"i\" placeholder={{field.FieldDisplayName}}\n              [formControlName]=\"field.FieldDisplayName\">\n            <mat-datepicker-toggle matSuffix [for]=\"i\"></mat-datepicker-toggle>\n            <mat-datepicker #i></mat-datepicker>\n          </mat-form-field> -->\n  \n          <mat-form-field *ngIf=\"field.ControlType=='date'\">\n            <input [formControlName]=\"field.FieldDisplayName\"\n            matInput placeholder={{field.FieldDisplayName}}\n              class=\"form-control\"> \n               <button  (click)=\"openDialog($event,i);\" class=\"plusbtn\">+</button><button *ngIf=\"field.FieldDisplayName!='Original Posted Date' && field.FieldDisplayName!='Question Due Date' && field.FieldDisplayName!='Pre-bid Date' && field.FieldDisplayName!='Closing Date and Time'\" class=\"plusbtn2\" (click)=\"deleteField(i);\">-</button>\n          </mat-form-field>\n        </div>\n      </form>\n    </mat-card-content>\n  </mat-card>\n  \n  <!-- <pre>{{groupForm.value | json}}</pre> -->\n  ","<div *ngIf=\"isLoading\" class=\"loading-indicator\">\n  <mat-progress-spinner mode=\"indeterminate\"></mat-progress-spinner>\n</div>\n\n<div class=\"row\" style=\"padding-bottom:10px;padding-top:10px;\">\n  <div class=\"col-md-12\">\n    <div style=\"text-align:left;\">\n      <button mat-mini-fab color=\"primary\" (click)=\"fileInput.click()\" title=\"attach file\"\n        matBadge=\"{{documentUploadService.NumberOfAttachedfile}}\" matBadgePosition=\"before\" matBadgeColor=\"accent\">\n        <mat-icon>attach_file</mat-icon>\n        <input #fileInput type=\"file\" name=\"upload\" (click)=\"click()\" multiple=\"multiple\"\n          (change)=\"onAttachedFile($event)\" style=\"display:none;\" />\n      </button>\n      &nbsp;\n\n      <mat-form-field style=\"width: 540px;\">\n        <mat-select [(ngModel)]=\"documentUploadService.SelectedFileName\" style=\"font-size: small;\"  [placeholder]=\"documentUploadService.DropDownMessage\"\n          (selectionChange)=\"onSelectionChangeFileDropDown($event.value)\" [(value)]=\"fileDropdownSelectedValue\">\n          <mat-option style=\"width:540px; font-size: small;\" *ngFor=\"let rfpFile of documentUploadService.RFPOpportunity.RfpFileList\"\n            [value]=\"rfpFile.FileName\" [ngStyle]=\"{'color' : rfpFile.FileNameColor}\" style=\"font-size:small;\">\n            {{rfpFile.FileName}}</mat-option>\n        </mat-select>\n        <mat-hint>\n           <a [routerLink]=\"\" (click)=\"onGoToPage2()\" [ngStyle]=\"{'color' : documentUploadService.SavefileMessageColor}\">{{documentUploadService.NumberOfSavedfile}}</a>\n          <span [style.visibility]=\"documentUploadService.NumberOfSavedfile != '' ? 'visible' : 'hidden'\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\n          <a [routerLink]=\"\" (click)=\"onGoToPage2()\">{{documentUploadService.NumberOfParssedfile}}</a>\n        </mat-hint>\n      </mat-form-field>\n\n\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n      <!-- <button mat-raised-button color=\"primary\" [disabled]=\"documentUploadService.SaveButtonDisable\" (click)=\"OpenEmptyOpportunityDialog(false)\">\n        Save File\n      </button>\n      &nbsp;\n      <button mat-raised-button color=\"primary\" [disabled]=\"documentUploadService.SaveAllButtonDisable\" (click)=\"OpenEmptyOpportunityDialog(true)\">\n        Save All Files\n      </button>\n      &nbsp; -->\n      <button mat-raised-button color=\"primary\" [disabled]=\"documentUploadService.DeleteButtonDisable\" (click)=\"onDeleteFile()\" style=\"font-size:small;\">\n        Delete File\n      </button>\n      &nbsp;\n      \n      <button mat-raised-button color=\"primary\" [disabled]=\"documentUploadService.ViewButtonDisable\" (click)=\"onPreviewDocument()\" style=\"font-size:small;\">\n        Preview File\n      </button>\n      &nbsp;\n      <button mat-raised-button color=\"primary\" [disabled]=\"documentUploadService.ParseButtonDisable\" (click)=\"onParse()\" style=\"font-size:small;\">\n        Parse File\n      </button>\n\n      &nbsp;&nbsp;&nbsp;&nbsp;\n\n      <button mat-raised-button color=\"primary\" (click)=\"onOpportunityListShow()\" style=\"font-size:small;\">\n        Opportunity List\n      </button>\n      &nbsp;\n      <button mat-raised-button color=\"accent\" (click)=\"doPublish(true)\" style=\"font-size:small;\" [disabled]=\"documentUploadService.PublishButtonDisable\">\n        Publish\n      </button>\n    </div>\n  </div>\n\n\n</div>\n\n<mat-divider></mat-divider>\n","import { Component, OnInit, Output, EventEmitter, Input, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { ActivatedRoute, Router, Event, NavigationStart, NavigationEnd, NavigationError } from '@angular/router';\nimport { DocumentParserFormService } from '../../Shared/Services/document-parser-form.service';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { DocumentSummaryComponent } from '../../../Parser/Components/document-summary/document-summary.component';//'../opportunity/summary/summary.component';\n\nimport { NotificationService } from '../../../Shared/services/notification.service';\nimport { ValidateChangeInDataService } from '../../Shared/Services/ValidateChangeInDataService';\nimport { DocUploadResponse } from '../../Shared/models/DocUploadResponse';\nimport { Summary } from '../../../Shared/models/Summary';\n\nimport { DocUploadOptionResponse } from 'src/app/Shared/models/DocUploadOptionResponse';\nimport { OpportunityNameResponse } from 'src/app/Shared/models/OpportunityNameResponse';\nimport { DialogService } from 'src/app/Shared/services/dialog.service';\n\nimport { MatDialogConfig } from '@angular/material/dialog';\nimport { ConfirmationMessageComponent } from '../Dialogs/confirmation-message/confirmation-message.component';\nimport { RFPFile } from '../../Shared/Models/RFPFile';\nimport { DocumentUploadService } from '../../Shared/Services/document-upload.service';\nimport { OpportunityNameComponent } from '../Dialogs/opportunity-name/opportunity-name.component';\nimport { DuplicateDocumentListComponent } from '../Dialogs/duplicate-document-list/duplicate-document-list.component';\nimport { CreateOpportunityResponse } from '../../Shared/Models/CreateOpportunityResponse';\nimport { RfpDatabaseService } from '../../Shared/Services/rfp-database.service';\nimport { ViewDocumentResponse } from '../../Shared/Models/ViewDocumentResponse';\nimport { FileName } from '../../Shared/Models/FileName';\nimport { APIReponse } from 'src/app/Shared/models/APIReponse';\nimport { ThrowStmt } from '@angular/compiler';\nimport { CategoryName } from 'src/app/Shared/models/CategoryName';\nimport { CategoryNameListResponse } from 'src/app/Shared/models/CategoryNameListResponse';\nimport { THIS_EXPR } from '@angular/compiler/src/output/output_ast';\nimport { FileListMessageComponent } from '../Dialogs/file-list-message/file-list-message.component';\nimport { SharepointService } from '../../Shared/Services/sharepoint.service';\nimport { SharePointResponse } from 'src/app/Shared/models/SharePointResponse';\nimport { SavedEmptyOpportunityResponse } from '../../Shared/Models/SavedEmptyOpportunityResponse';\nimport { DocumentListComponent } from '../Dialogs/document-list/document-list.component';\nimport { RFPOpportunity } from '../../Shared/Models/RFPOpportunity';\nimport { DocumentUploadOptionComponent } from '../Dialogs/document-upload-option/document-upload-option.component';\nimport { ParsingDialogOutput } from 'src/app/Shared/models/ParsingDialogOutput';\nimport { HttpParams } from '@angular/common/http';\nimport { ViewSharePointDocumentResponse } from '../../Shared/Models/ViewSharePointDocumentResponse';\nimport { AutoParsingResponse } from '../../Shared/Models/AutoParsingResponse';\nimport { DeleteFileResponse } from '../../Shared/Models/DeleteFileResponse';\nimport { OppertunityCategory } from 'src/app/Shared/models/OppertunityCategory';\nimport { CategoryData } from '../../Shared/Models/CategoryData';\n\n\n\ndeclare function transfertoZbizlink(): any;\ndeclare function transfertoZbizlinkData(data): any;\n\n@Component({\n  selector: 'app-document-upload',\n  templateUrl: './document-upload.component.html',\n  styleUrls: ['./document-upload.component.css']\n})\nexport class DocumentUploadComponent implements OnInit {\n\n  parsingTypeRadioSelectedVaule: string;\n  categoryDropdownSelectedValue: string;\n  fileDropdownSelectedValue: string;\n  //unsaveRfpFileOnSharePointList: RFPFile[] = [];\n\n  @Output()\n  showRFPDocument: EventEmitter<string> = new EventEmitter<string>();\n  @Output()\n  OrignalHtmlDocument: EventEmitter<number> = new EventEmitter<number>();\n  @Output()\n  PopulateCategoryNameList: EventEmitter<CategoryName[]> = new EventEmitter<CategoryName[]>();\n  @Output()\n  opportunityDataOnCreationTransfer: EventEmitter<string> = new EventEmitter<string>();\n  @Output()\n  opportunityDataTransfer: EventEmitter<RFPOpportunity> = new EventEmitter<RFPOpportunity>();\n  @Output()\n  parsingDataTransfer: EventEmitter<AutoParsingResponse> = new EventEmitter<AutoParsingResponse>();\n  @Output()\n  CleanDocumentParserFormControls: EventEmitter<string> = new EventEmitter<string>();\n  @Output()\n  DeleteFileDataTransfer: EventEmitter<DeleteFileResponse> = new EventEmitter<DeleteFileResponse>();\n  @Output()\n  DeleteCategoryData: EventEmitter<number> = new EventEmitter<number>();\n  @Output()\n  MoveWholeDocument: EventEmitter<number> = new EventEmitter<number>();\n  event: any;\n  opportunityId: number;\n\n\n  @Input()\n  fileName\n  @Output()\n  receivedRFPDocument: EventEmitter<any> = new EventEmitter<any>();\n  @Output()\n  receivedRFPDocumentName: EventEmitter<any> = new EventEmitter<any>();\n  @Output()\n  SelectedFile: EventEmitter<string> = new EventEmitter<string>();\n  @Input()\n  opportunityData: Element[];\n  @Input()\n  summary: DocumentSummaryComponent;\n  // @Input()\n  // documentName:string;\n  isBtnPubDisabled: boolean;\n\n  docUploadResponse: DocUploadResponse = new DocUploadResponse();\n  docUploadOptionResponse: DocUploadOptionResponse = new DocUploadOptionResponse();\n\n\n  @Output()\n  popUpOpportunityName: EventEmitter<OpportunityNameResponse> = new EventEmitter<OpportunityNameResponse>();\n\n  @Output()\n  ClearOpportunityForm: EventEmitter<any> = new EventEmitter();\n\n  isLoadingSmall: boolean = false;\n  isLoading: boolean = false;\n  //fileName: string;\n  file: any;\n\n\n\n\n  userSelectedFileList = [];\n  RfpDataArray: Element[] = [];\n  profileForm: FormGroup;\n  uploadError: string;\n  saveError: string;\n  rfpDocument: string;\n  categoryName: string;\n  //formGroupCB:FormGroup;\n  private: string; // radioButton\n  documentPublished: boolean;\n  responseSave: boolean = false;\n  isPublish: boolean = false;\n  ONE_DANK_REGEX = /^([0]{0,1}[1-9]|1[012])\\/([1-9]|([012][0-9])|(3[01]))\\/\\d\\d\\d\\d$|^([0]{0,1}[1-9]|1[012])-([1-9]|([012][0-9])|(3[01]))-\\d\\d\\d\\d$|^([0]{0,1}[1-9]|1[012])\\/([1-9]|([012][0-9])|(3[01]))\\/\\d\\d\\d\\d[ ]([0]{0,1}[1-9]|1[012]):([0-5][0-9])[ ](AM|PM|am|pm)$|^([0]{0,1}[1-9]|1[012])-([1-9]|([012][0-9])|(3[01]))-\\d\\d\\d\\d[ ]([0]{0,1}[1-9]|1[012]):([0-5][0-9])[ ](AM|PM|am|pm)$|^(January|February|March|April|May|June|July|August|September|October|November|December|Jan|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)[ ]([1-9]|[1-2][0-9]|3[0-1])[,][ ](20)[0-9]{2}$|^(January|February|March|April|May|June|July|August|September|October|November|December)[ ](0[1-9]|[1-9]|[1-2][0-9]|3[0-1])[,][ ](20)[0-9]{2}[ ]([1-9]|(?=[0-1])[0-1][0-9]|(?=2)2[0-4]):([0-5][0-9])[ ](AM|PM|am|pm)$|^(January|February|March|April|May|June|July|August|September|October|November|December)[ ](0[1-9]|[1-9]|[1-2][0-9]|3[0-1])[,][ ](20)[0-9]{2}[ ][ ]([1-9]|(?=[0-1])[0-1][0-9]|(?=2)2[0-4]):([0-5][0-9])[ ](AM|PM|am|pm)$/;\n  //receivedRFPDocument: EventEmitter<any> = new EventEmitter<any>();\n\n  fileUpload = { status: '', category: [], document: '', filePath: '', summary: '', documentId: '', documentName: '', CategoryData: '', message: '' };\n\n  constructor(private router: Router, private documentParserFormService: DocumentParserFormService, private route: ActivatedRoute,\n    private notification: NotificationService,\n    private validateChange: ValidateChangeInDataService,\n    private dialogService: DialogService,\n    public documentUploadService: DocumentUploadService,\n    private rfpDatabaseService: RfpDatabaseService,\n    private sharepointService: SharepointService) {\n\n  }\n\n  ngOnInit() {\n\n    this.GetCategoryNameListFromDB(undefined);\n    // this.formGroupCB = new FormGroup({\n    //   private:new FormControl()\n    // });\n    this.isBtnPubDisabled = true;\n\n    this.private = \"1\";\n  }\n\n  getRouteParam(): void {\n    this.route.queryParamMap.subscribe(params => {\n      this.categoryName = params.get('category');\n    });\n  }\n\n\n  onAttachedFile(event: any) {\n    \n    \n    this.isLoading = true;\n\n    if (event.target.files.length > 0) {\n\n      this.event = event;\n      \n      if (this.documentUploadService.CategoryNameList === undefined) {\n\n        this.GetCategoryNameListFromDB(\"onAttachedFile\");\n\n      } else {\n        \n        this.AttachedFile();\n\n      }\n    }else{\n      this.isLoading = false;\n      event.target.value=null\n    }\n  }\n\n  AttachedFile(): boolean {\n    \n    this.uploadError = \"\";\n\n    let validationCode: string = this.documentUploadService.ValidationFileName(this.event);\n    if (validationCode == \"1\") {\n      this.uploadError = 'Invalid type of file. Only [PDF] or [MS Word] file can be attached.';\n      this.notification.warning(this.uploadError);\n      this.isLoading = false;\n     this.event.target.value=null\n      return true;\n    } else if (validationCode == \"2\") {\n      this.uploadError = 'Invalid Name of file. must not contain special character, (& , #).';\n      this.notification.warning(this.uploadError);\n      this.isLoading = false;\n      this.event.target.value=null\n      return true;\n    }\n\n\n    this.documentUploadService.PopulateRfpFileCollection(this.event);\n    this.documentUploadService.SetDropDownMessage();\n\n    if (this.documentUploadService.duplicateFileList.length > 0) {\n      this.uploadError = 'Same name file cannot be reattached.';\n      this.notification.warning(this.uploadError);\n      this.isLoading = false;\n    }\n\n    this.documentUploadService.TogglingEnableDisableButton();\n    this.documentUploadService.SetNumberOfFileSatusCount();\n\n    if (this.documentUploadService.RFPOpportunity.OpportunityId !== undefined &&\n      this.documentUploadService.RFPOpportunity.OpportunityId != null &&\n      this.documentUploadService.RFPOpportunity.OpportunityId != '') {\n\n      this.UploadFilesSharePoint(undefined);\n    } else {\n      this.isLoading = false;\n    }\n    this.event.target.value=null\n  }\n\n  onSelectionChangeFileDropDown(value) {\n\n    this.documentUploadService.SelectedFileName = value;\n    this.documentUploadService.TogglingEnableDisableButton();\n    //this.SelectedFile.emit(value);\n\n    let fileIndex: number = this.documentUploadService.RFPOpportunity.RfpFileList.findIndex(file => file.FileName == value);\n    if (fileIndex >= 0) {\n      let rfpFile: RFPFile = this.documentUploadService.RFPOpportunity.RfpFileList[fileIndex];\n\n\n      this.showRFPDocument.emit();\n\n\n    }\n  }\n\n\n\n\n\n\n  click(): void {\n\n    // console.log(this.fileDropdownSelectedValue);\n    //this.uploadError = \"\";\n    //this.RfpDataArray = [];\n  }\n\n\n  // OpenEmptyOpportunityDialog(saveAllfile: boolean) {\n\n  //   if (this.documentUploadService.RFPOpportunity.OpportunityName != \"\") {\n  //     this.CreateEmptyOpportunity(this.documentUploadService.RFPOpportunity.OpportunityId,\n  //       this.documentUploadService.RFPOpportunity.OpportunityName,\n  //       saveAllfile, 'true');\n  //     return;\n  //   }\n  //   const dialogRef = this.dialogService.openDialog({\n  //     width: '350px',\n  //     dailogComponent: OpportunityNameComponent\n  //   });\n\n  //   dialogRef.afterClosed().subscribe(\n  //     data => {\n  //       if (data !== undefined && data !== '') {\n  //         this.CreateEmptyOpportunity('', data, saveAllfile, 'false');\n  //       }\n  //     }\n  //   );\n\n  // }\n\n  // CreateEmptyOpportunity(OpportunityId: string, opportunityName: string, saveAllfile: boolean, update: string) {\n  //   //debugger;\n  //   this.ClearOpportunityForm.emit(null);\n\n  //   this.uploadError = \"\";\n  //   this.isBtnPubDisabled = true;\n  //   this.isLoading = true;\n  //   this.RfpDataArray = [];\n  //   debugger;\n\n  //   // if (localStorage.getItem('userid') != null && localStorage.getItem('compId') != '0' && localStorage.getItem('userid') != '0') {\n  //   //   //Invoke webservice to upload document over sharepoint\n  //   //   const formDataSharePoint = new FormData();\n  //   //   console.log(localStorage.getItem('compId'));\n  //   //   formDataSharePoint.append('CompanyId', localStorage.getItem('compId'));\n  //   //   console.log(localStorage.getItem('userid'));\n  //   //   formDataSharePoint.append('UserId', localStorage.getItem('userid'));\n  //   //   console.log(localStorage.getItem('clientID'));\n  //   //   formDataSharePoint.append('ClientId', localStorage.getItem('clientID'));\n  //   //   console.log(localStorage.getItem('companySegmentID'));\n  //   //   formDataSharePoint.append('SegmentId', localStorage.getItem('companySegmentID'));\n  //   //   formDataSharePoint.append('File', this.file);\n  //   //   this.documentParserFormService.uploadSharePoint(formDataSharePoint).subscribe(\n  //   //     res => this.SharePointUploadResponse(res),\n  //   //     err => this.UploadError(err)\n  //   //   );\n  //   // }\n  //   // else {\n\n  //   //debugger;\n  //   let fileNameList: FileName[];\n  //   if (saveAllfile == true) {\n  //     fileNameList = this.documentUploadService.GetFileNameList(undefined);\n  //   } else {\n  //     fileNameList = this.documentUploadService.GetFileNameList(this.documentUploadService.SelectedFileName);\n  //   }\n\n\n  //   const formData = new FormData();\n\n  //   // for (let index = 0; index < this.attachedFileList.length; index++) {\n  //   //  let f = this.attachedFileList[index].file\n  //   //   formData.append('fileNameList', this.attachedFileList[index].file.name);      \n  //   // }\n\n  //   let jsonFileNameList = JSON.stringify(fileNameList);\n  //   formData.append('fileNameJsonList', jsonFileNameList);\n  //   formData.append('opportunityName', opportunityName);\n  //   formData.append('opportunityIdForUpdate', OpportunityId);\n  //   formData.append('update', update);\n  //   formData.append('companyID', '');\n  //   formData.append('userId', '');\n  //   formData.append('clientId', '');\n  //   formData.append('SegmentId', '');\n\n  //   //debugger;\n  //   this.documentUploadService.CreateEmptyOpportunity(formData).subscribe(\n  //     res => this.SaveFileResponse(res),\n  //     err => this.UploadError(err)\n  //   );\n  //   //}\n\n  //   //    let parserRequestStatus: ParserRequestStatus = this.documentUploadService.CreateEmptyOpportunity(formData);\n\n  //   //    //this.isLoading = false;\n  //   // if(parserRequestStatus.Code === \"1\"){\n  //   //   this.notification.success(parserRequestStatus.Message);\n  //   //}\n\n\n\n\n  // }\n\n\n\n  // SaveFileResponse(createOpportunityResponse: CreateOpportunityResponse): void {\n\n  //   if (createOpportunityResponse.apiStatusCode === \"1\") {\n\n  //     this.documentUploadService.PopulateDocumentId(createOpportunityResponse.fileNameList,\n  //       createOpportunityResponse.opportunityName, createOpportunityResponse.opportunityId, createOpportunityResponse.htmlfile);\n  //     this.documentUploadService.TogglingEnableDisableButton();\n  //     this.documentUploadService.SetNumberOfFileSatusCount();\n  //     this.isLoading = false;\n  //     if (createOpportunityResponse.fileNameList.length === 1) {\n  //       this.notification.success(\"1 File is saved successfully !\");\n  //     } else if (createOpportunityResponse.fileNameList.length > 1) {\n  //       this.notification.success(createOpportunityResponse.fileNameList.length + \" Files are saved successfully !\");\n  //     }\n  //     //const queryParams = { 'category': 'summary' };\n  //     //this.router.navigate(['/'], { queryParams })\n\n  //   } else if (createOpportunityResponse.apiStatusCode === \"0\") {\n\n  //     this.isLoading = false;\n  //     this.notification.error(\"'Something bad happened. Please try again later.'\");\n  //   } else {\n  //     if (createOpportunityResponse.apiStatusCode !== undefined) {\n  //       this.isLoading = false;\n\n  //       this.notification.error(\"'Something bad happened. Please try again later.'\");\n  //     }\n  //   }\n\n  // }\n\n  UploadError(parm: any): void {\n    this.uploadError = parm;\n    this.isLoading = false;\n    this.notification.error(this.uploadError);\n  }\n\n  async doPublish(isOpportunity: boolean) {\n\n    if (this.responseSave === false) {\n      await this.Save(isOpportunity);\n    }\n    else {\n      this.isPublish = true;\n    }\n    console.log(\"----\" + this.responseSave + \"---\");\n  }\n\n  async Save(isOpportunity: boolean) {\n    //console.log(\"Save\");\n    //console.log('>>>>>>>>>>>> clicked <<<<<<<<<<<<'+isOpportunity);\n    this.responseSave = true;\n    if (isOpportunity === false) {\n\n      let createOpporturnity: boolean = false;\n      let categoryId: string = this.GetCategoridIdFromQueryparameter();\n      let documentId = localStorage.getItem('documentId');\n      if (categoryId && documentId && categoryId != 'summary') {\n\n        let categoryData = this.CategoryDataConvertArrayIntoString();\n        if (!this.validateChange.isEqual(categoryData)) {\n          createOpporturnity = false;\n          this.isLoadingSmall = true;\n          await this.SaveCategory(categoryData, documentId, categoryId, isOpportunity);\n          this.isLoadingSmall = false;\n        }\n      }\n      else if (this.summary.SummaryFieldValid() && (categoryId == 'summary' || categoryId == null)) {\n\n        await this.summary.onSubmit(this, isOpportunity, categoryId, documentId);\n      }\n    }\n    else if (isOpportunity === true) {\n      let SummaryFieldValidationResult = this.SummaryFieldValidation()\n      if (SummaryFieldValidationResult && isOpportunity === true) {\n        this.isBtnPubDisabled = true;\n        this.isLoading = true;\n\n        let createOpporturnity: boolean = false;\n        if (isOpportunity == true) {\n          createOpporturnity = true;\n        }\n\n        let categoryId: string = this.GetCategoridIdFromQueryparameter();\n\n        let documentId = localStorage.getItem('documentId');\n\n        if (categoryId && documentId && categoryId != 'summary') {\n\n          let categoryData = this.CategoryDataConvertArrayIntoString();\n\n          if (!this.validateChange.isEqual(categoryData)) {\n            createOpporturnity = false;\n            this.isLoadingSmall = true;\n            await this.SaveCategory(categoryData, documentId, categoryId, isOpportunity);\n          }\n\n          if (isOpportunity == true && createOpporturnity == true) {\n            this.publish();\n          }\n\n        }\n        else if (categoryId == 'summary' || categoryId == null) {\n\n          this.summary.onSubmit(this, isOpportunity, categoryId, documentId);\n\n        }\n      }\n      else if (!SummaryFieldValidationResult && isOpportunity === true) {\n        //console.log('navigate it now');\n        const queryParams = { 'category': 'summary' };\n        this.router.navigate(['/'], { queryParams })\n        this.isLoading = false;\n        this.responseSave = false;\n        return;\n      }\n    }\n    if (this.isPublish === true) {\n      this.isPublish = false;\n      await this.Save(true);\n      console.log(\"published\");\n    }\n    this.responseSave = false;\n  }\n\n\n  onOpportunityListShow(): void { // open the dialogue in oppertunity componenet \n\n    localStorage.setItem('pendinglist', 'clicked');\n\n    let data = {\n      headerFlag: true,\n      publish: false\n    };\n\n    const dialogRef = this.dialogService.openDialog({\n      width: '70%',\n      data: data,\n      dailogComponent: DocumentListComponent,\n    });\n\n    dialogRef.afterClosed().subscribe(\n      data => {\n        if (data !== undefined) {\n          this.isLoading = true;\n          //this.getSavedDocInfo(null, null, data);\n          this.CleanFormControls();\n          //this.showRFPDocument.emit(undefined);\n          this.opportunityId = data;\n          if(this.documentUploadService.CategoryNameList === undefined){\n            this.GetCategoryNameListFromDB(\"GetSavedEmptyOpportunity\");\n          }else{\n          this.documentUploadService.GetSavedEmptyOpportunity(this.opportunityId, this);\n          }\n        }\n      }\n    );\n\n  }\n\n  //this method is called from documentuploadservice\n  //do not call in this component.\n  public GetSaveEmptyOpportunity(rfpOpportunity: RFPOpportunity) {\n\n    this.opportunityDataTransfer.emit(rfpOpportunity);\n    \n  }\n\n  getOpportunity() {\n\n    this.documentParserFormService.getOpportunity().subscribe(\n      (response) => {\n        transfertoZbizlinkData(response);\n      },\n      (error: any) => {\n        console.log(error);\n        this.notification.error(error);\n      }\n    )\n  }\n\n  publish(): void {\n    let OpportunityId = this.documentUploadService.RFPOpportunity.OpportunityId;\n    //*************Loader********\n    //this.isLoading = true;\n    //**************************\n    this.isBtnPubDisabled = true;\n    this.documentParserFormService.publish(OpportunityId).subscribe(\n      (response) => {\n        try {\n          if (response.Status == \"1\") {\n            this.notification.success(\"Oppertunity publlished succefully \");\n            this.isLoading = false;\n            this.documentPublished = true;\n            \n            transfertoZbizlinkData(response);\n          } else if (response.Status == \"-1\") {\n            this.notification.success(\"Oppertunity creation process fail\");\n            this.isLoading = false;\n            this.isBtnPubDisabled = false;\n            this.documentPublished = false;\n          }\n\n        } catch (err) {\n          this.isLoading = false;\n          this.isBtnPubDisabled = false;\n          this.documentPublished = false;\n          console.log(err);\n        }\n\n      },\n      (error: any) => {\n        this.isLoading = false;\n        this.isBtnPubDisabled = false;\n        this.documentPublished = false;\n        this.notification.error(error);\n      }\n    )\n  }\n\n\n  async SaveCategory(CategoryData: string, documentId: string, categoryId: string, isOpportunity: boolean) {\n\n    const formData = new FormData();\n    formData.append('opportunityId', this.documentUploadService.RFPOpportunity.OpportunityId);\n    formData.append('categoryId', categoryId);\n    formData.append('categoryData', CategoryData);\n    formData.append('summary', null);\n\n    this.documentParserFormService.save(formData).subscribe((response) => {\n\n      if (response.status != \"error\") {\n        this.isLoadingSmall = false;\n        this.notification.success(\"Your data has been successfully saved.\");\n        if (isOpportunity == true) {\n          this.publish()\n        }\n      }\n      else {\n        this.isLoadingSmall = false;\n        this.notification.error(response.message);\n      }\n    },\n      (error: any) => {\n\n        this.isLoadingSmall = false;\n        this.notification.error(error);\n\n      });\n  }\n\n  CategoryDataConvertArrayIntoString(): string {\n\n    let rfpDoc: string = \"\";\n    for (let index = 0; index < this.opportunityData.length; index++) {\n      const element = this.opportunityData[index];\n      if (element.getAttribute(\"data-lastrow\") == null || element.getAttribute(\"data-lastrow\").valueOf().trim() != \".\") {\n        rfpDoc += element.outerHTML;\n      }\n    }\n    return rfpDoc;\n  }\n\n  GetCategoridIdFromQueryparameter(): string {\n\n    let categoryId: string;\n    this.route.queryParamMap.subscribe(params => {\n      if (params.has('category')) {\n        categoryId = params.get('category');\n      }\n    });\n    return categoryId;\n  }\n\n  SummaryFieldValidation(): boolean {\n    let result = this.summary.SummaryFieldValid();\n    if (!result) {\n      this.notification.error(\"One or more fields are required\");\n      return false;\n    }\n    return true;\n  }\n\n\n\n  onParse() {\n\n    let data = { CategoryNameList: this.documentUploadService.CategoryNameList };\n\n    const matDialogRef = this.dialogService.openDialog({\n      data: data,\n      width: '350px',\n      dailogComponent: DocumentUploadOptionComponent\n    });\n\n    matDialogRef.afterClosed().subscribe(res => {\n      if (res !== undefined) {\n        let parsingDialogOutput: ParsingDialogOutput = res;\n        if (parsingDialogOutput.Ok = true) {\n\n        }\n        this.GetParsingData(res);\n      }\n    });\n  }\n\n  GetParsingData(parsingDialogOutput: ParsingDialogOutput) {\n  \n    this.isLoading = true;\n    if (parsingDialogOutput.ParsingAuto == true) {\n      this.AutoParsing(\"0\");\n    } else if (parsingDialogOutput.wholeDocumentYes == true) {\n      this.wholeDocumentMove(parseInt(parsingDialogOutput.SelectedCategory));\n    } else if (parsingDialogOutput.wholeDocumentNo == true) {\n      this.AutoParsing(parsingDialogOutput.SelectedCategory);\n    }\n  }\n\n  wholeDocumentMove(categoryId: number) {\n    \n    this.MoveWholeDocument.emit(categoryId);\n    let selectedFileIndex: number = this.documentUploadService.RFPOpportunity.RfpFileList.findIndex(f => f.FileName = this.documentUploadService.SelectedFileName);\n    let selectedRfpFile = this.documentUploadService.RFPOpportunity.RfpFileList[selectedFileIndex];\n    selectedRfpFile.Parsed = true;\n    this.isLoading = false;\n  }\n\n  AutoParsing(categoriesId: string) {\n\n    let fromData = new FormData();\n    let userSelectedFileName = this.documentUploadService.SelectedFileName;\n    let userSelectedRFPFileIndex: number = this.documentUploadService.RFPOpportunity.RfpFileList.findIndex(file => file.FileName == userSelectedFileName);\n    let userSelectedRFPFile = this.documentUploadService.RFPOpportunity.RfpFileList[userSelectedRFPFileIndex];\n\n\n\n    fromData.append(\"opportunityId\", this.documentUploadService.RFPOpportunity.OpportunityId);\n    fromData.append(\"documentId\", userSelectedRFPFile.fileRFPDbId.toString());\n    fromData.append(\"categoriesId\", categoriesId);\n    this.rfpDatabaseService.AutoParsing(fromData).subscribe(\n      res => this.AutoParsingResponse(res, userSelectedRFPFile),\n      err => this.UploadError(err)\n    );\n\n  }\n\n\n  AutoParsingResponse(autoParsingResponse: AutoParsingResponse, userSelectedRFPFile: RFPFile) {\n\n    if (autoParsingResponse.apiStatusCode == \"1\") {\n      userSelectedRFPFile.Parsed = true;\n      this.documentUploadService.RFPOpportunity.SummaryFieldList = autoParsingResponse.summary\n      this.documentUploadService.RFPOpportunity.CatetoryDataList = autoParsingResponse.CategoryData;\n      this.documentUploadService.TogglingEnableDisableButton();\n      this.parsingDataTransfer.emit(autoParsingResponse);\n      this.isLoading = false;\n    } else if (autoParsingResponse.apiStatusCode == \"0\") {\n\n      this.isLoading = false;\n      this.notification.error(\"'Something bad happened. Please try again later.'\");\n    } else {\n      if (autoParsingResponse.apiStatusCode !== undefined) {\n        this.isLoading = false;\n\n        this.notification.error(\"'Something bad happened. Please try again later.'\");\n      }\n    }\n  }\n\n\n  onDeleteFile() {\n\n\n    if (this.documentUploadService.RFPOpportunity.OpportunityId !== undefined &&\n      this.documentUploadService.RFPOpportunity.OpportunityId !== null &&\n      this.documentUploadService.RFPOpportunity.OpportunityId != \"\" &&\n      this.documentUploadService.RFPOpportunity.RfpFileList.length == 1) {\n      this.isLoading = false;\n      this.notification.error(\"'Last file in an opportunity can not be deleted'\");\n      return;\n    }\n\n    let data = { message: \"Are you sure to delete this file ?\" };\n\n    let matDialogRef = this.dialogService.openDialog(\n      {\n        width: '395px',\n        data: data,\n        dailogComponent: ConfirmationMessageComponent\n      });\n    matDialogRef.afterClosed().subscribe(res => {\n      if (res === true) {\n        this.DeleteFile();\n      }\n    });\n  }\n\n  private DeleteFile() {\n    this.isLoading = true;\n    let selectedFileIndex: number = this.documentUploadService.RFPOpportunity.RfpFileList.findIndex(file => file.FileName === this.documentUploadService.SelectedFileName);\n\n    let rfpFile: RFPFile;\n    if (selectedFileIndex == -1) {\n      this.isLoading = false;\n      return;\n    }\n\n    rfpFile = this.documentUploadService.RFPOpportunity.RfpFileList[selectedFileIndex];\n\n    if (rfpFile.SavedSharePoint == true) {\n      this.DeleteFormSharePoint(rfpFile);\n    } else {\n      this.documentUploadService.RFPOpportunity.RfpFileList.splice(selectedFileIndex, 1);\n      this.documentUploadService.SelectedFileName = '';\n      this.documentUploadService.TogglingEnableDisableButton();\n      this.documentUploadService.SetNumberOfFileSatusCount();\n      this.documentUploadService.SetDropDownMessage();\n      this.isLoading = false;\n      return;\n    }\n\n\n\n    // this.documentUploadService.RFPOpportunity.RfpFileList.splice(selectedFileIndex, 1);\n    // this.documentUploadService.SelectedFileName = '';\n    // this.documentUploadService.TogglingEnableDisableButton();\n    // this.documentUploadService.SetNumberOfFileSatusCount();\n    // this.documentUploadService.SetDropDownMessage();\n\n  }\n\n  DeleteFormSharePoint(rfpFile: RFPFile) {\n\n    let compId = localStorage.getItem('compId');\n    let userid = localStorage.getItem('userid');\n    let clientID = localStorage.getItem('clientID');\n\n    let params = new HttpParams();\n    params = params.append('CompanyId', compId);\n    params = params.append('UserId', userid);\n    params = params.append('ClientId', clientID);\n    params = params.append('filePath', rfpFile.FilePathSharePoint);\n\n    this.sharepointService.DeleteFilesSharePoint(params).subscribe(\n      res => this.DeleteFilesSharePointResponse(res, rfpFile),\n      err => this.UploadError(err)\n    );\n\n  }\n\n  DeleteFilesSharePointResponse(sharePointResponse: SharePointResponse, rfpFile: RFPFile) {\n    if (sharePointResponse.Status == true) {\n      if (rfpFile.fileRFPDbId !== undefined || rfpFile.fileRFPDbId !== null) {\n        this.DeleteFormRFPDatabase(rfpFile.fileRFPDbId);\n      } else {\n        this.isLoading = false;\n        this.notification.success(\"'File has been deleted Successfully'\");\n      }\n\n    } else {\n      this.notification.error(\"'Something bad happened. Please try again later.'\");\n      this.isLoading = false;\n    }\n  }\n\n  DeleteFormRFPDatabase(documentId: number) {\n\n    const formData = new FormData();\n\n    formData.append('opportunityId', this.documentUploadService.RFPOpportunity.OpportunityId);\n    formData.append('documentId', documentId.toString());\n    formData.append('deleteOnlyFile', 'true');\n\n    this.documentUploadService.DeleteRfpFile(formData).subscribe(\n      res => this.DeleteFileResponse(res, documentId),\n      err => this.UploadError(err)\n    );\n\n  }\n\n\n  DeleteFileResponse(deleteFileResponse: DeleteFileResponse, documentId: number) {\n\n    if (deleteFileResponse.apiStatusCode == '1') {\n      let rfpFileIndex: number = this.documentUploadService.RFPOpportunity.RfpFileList.findIndex(file => file.fileRFPDbId == documentId);\n      if (rfpFileIndex >= 0) {\n        this.documentUploadService.RFPOpportunity.RfpFileList.splice(rfpFileIndex, 1);\n        this.documentUploadService.SelectedFileName = '';\n        this.documentUploadService.TogglingEnableDisableButton();\n        this.documentUploadService.SetNumberOfFileSatusCount();\n        this.documentUploadService.SetDropDownMessage()\n        this.DeleteFileDataTransfer.emit(deleteFileResponse);\n        //this.showRFPDocument.emit();\n        this.isLoading = false;\n        this.notification.success(\"'File has been deleted Successfully'\");\n      }\n    } else if (deleteFileResponse.apiStatusCode === \"0\") {\n\n      this.isLoading = false;\n      this.notification.error(\"'Something bad happened. Please try again later.'\");\n    } else {\n      if (deleteFileResponse.apiStatusCode !== undefined) {\n        this.isLoading = false;\n\n        this.notification.error(\"'Something bad happened. Please try again later.'\");\n      }\n    }\n  }\n\n  onPreviewDocument() {\n    this.isLoading = true;\n\n    let UserSelectedRfpFile: RFPFile = this.documentUploadService.RFPOpportunity.RfpFileList.find(file => file.FileName === this.documentUploadService.SelectedFileName)\n\n    if (UserSelectedRfpFile === null || UserSelectedRfpFile === undefined) {\n      this.isLoading = false;\n      return;\n\n    }\n\n    if (UserSelectedRfpFile.HTMLFile === null) {\n      //strart only for Testing [skip share point process]\n      this.GetFileSharePoint(UserSelectedRfpFile.FilePathSharePoint, UserSelectedRfpFile);\n      //end only for Testing [skip share point process]\n      this.isLoading = false;\n      return;\n\n    }\n    if (this.documentUploadService.RFPOpportunity.OpportunityId !== undefined &&\n      this.documentUploadService.RFPOpportunity.OpportunityId != null &&\n      this.documentUploadService.RFPOpportunity.OpportunityId != '') {\n      this.PreviewDocument(UserSelectedRfpFile);\n\n      return;\n    }\n\n\n    if (this.documentUploadService.RFPOpportunity.OpportunityId === undefined || this.documentUploadService.RFPOpportunity.OpportunityId == '') {\n      const dialogRef = this.dialogService.openDialog({\n        width: '350px',\n        dailogComponent: OpportunityNameComponent\n      });\n\n      dialogRef.afterClosed().subscribe(\n        data => {\n          if (data !== undefined && data !== '') {\n\n            this.UploadFilesSharePoint(data);\n            //strart only for Testing [skip share point process]\n            //this.CreateEmptyOpportunity(data);\n            //end only for Testing [skip share point process]\n          } else {\n            this.isLoading = false;\n          }\n        }\n      );\n    }\n\n  }\n\n  GetFileSharePoint(filepath: string, UserSelectedRfpFile: RFPFile) {\n\n    const formDataSharePoint = new FormData();\n\n    let compId = localStorage.getItem('compId');\n    let userid = localStorage.getItem('userid');\n    let clientID = localStorage.getItem('clientID');\n\n    let params = new HttpParams();\n    params = params.append('CompanyId', compId);\n    params = params.append('UserId', userid);\n    params = params.append('ClientId', clientID);\n    params = params.append('filePath', filepath);\n    this.sharepointService.GetFileSharePoint(params).subscribe(\n      res => this.GetFileSharePointResponse(res, UserSelectedRfpFile),\n      err => this.UploadError(err)\n    );\n  }\n\n  GetFileSharePointResponse(res: any, UserSelectedRfpFile: RFPFile) {\n    let file: any = res._buffer;\n    let formData: FormData = new FormData();\n    formData.append('file', file);\n    formData.append('fileName', UserSelectedRfpFile.FileName);\n    formData.append('documentId', UserSelectedRfpFile.fileRFPDbId.toString());\n\n    this.rfpDatabaseService.ViewSharePointDocument(formData).subscribe(\n      res => this.ViewSharePointDocumentReponse(res, UserSelectedRfpFile),\n      err => this.UploadError(err)\n    );\n\n\n  }\n\n  ViewSharePointDocumentReponse(viewSharePointDocumentResponse: ViewSharePointDocumentResponse, UserSelectedRfpFile: RFPFile) {\n    if (viewSharePointDocumentResponse.apiStatusCode == '1') {\n      UserSelectedRfpFile.HTMLFile = viewSharePointDocumentResponse.htmlFile;\n      UserSelectedRfpFile.View = true;\n      this.documentUploadService.TogglingEnableDisableButton();\n      this.showRFPDocument.emit();\n      this.isLoading = false;\n    }\n  }\n  private UploadFilesSharePoint(opportunityName: string) {\n\n    const formDataSharePoint = new FormData();\nconsole.log(\">>>>>>companyId = \" + localStorage.getItem('compId') +\"<<<<<<<<<\")\n    formDataSharePoint.append('CompanyId', localStorage.getItem('compId'));\n\n    console.log(\">>>>>>userid = \" + localStorage.getItem('userid') +\"<<<<<<<<<\")\n    formDataSharePoint.append('UserId', localStorage.getItem('userid'));\n\n\n    console.log(\">>>>>>clientID = \" + localStorage.getItem('clientID') +\"<<<<<<<<<\")\n    formDataSharePoint.append('ClientId', localStorage.getItem('clientID'));\n\n    let rfpFileList: RFPFile[];\n    if (this.documentUploadService.RFPOpportunity.OpportunityId === undefined) {\n      rfpFileList = this.documentUploadService.RFPOpportunity.RfpFileList;\n    } else {\n\n      rfpFileList = this.documentUploadService.RFPOpportunity.RfpFileList.filter(file =>\n        file.SavedSharePoint === undefined ||\n        file.SavedSharePoint == null ||\n        file.SavedSharePoint == false);\n    }\n\n    if (rfpFileList.length == 0) {\n      this.isLoading = false;\n      return;\n    }\n\n    let fileName: string;\n    for (let index = 0; index < rfpFileList.length; index++) {\n      const rfpFile = rfpFileList[index];\n      formDataSharePoint.append('File', rfpFile.OrignalFile);\n      fileName += rfpFile.OrignalFile.name + \"  \";\n    }\n    console.log(\">>>>>>>>>>>>>>>>Upload to SharePoint, FileName: \" + fileName  +  \"<<<<<<<<<<<<<<<<<<<<\")\n    this.documentUploadService.UploadFilesSharePoint(formDataSharePoint).subscribe(\n      res => this.UploadFilesSharePointResponse(res, rfpFileList.length, opportunityName),\n      err => this.UploadError(err)\n    );\n  }\n\n  UploadFilesSharePointResponse(sharePointDocUploadResponseList: SharePointResponse[], totalFile: number,\n    opportunityName: string): void {\n\n\n    if (sharePointDocUploadResponseList === undefined || sharePointDocUploadResponseList.length == 0) {\n      console.log(\">>>>>Fail from share point<<<<<\");\n      this.notification.error(\"'Something bad happened. Please try again later.'\");\n      this.isLoading = false;\n      return;\n    }\n\n    let sharePointUnsaveFileList: RFPFile[] = this.documentUploadService.SetFileSavedStatusOnsharePoint(sharePointDocUploadResponseList);\n\n    if (totalFile == sharePointUnsaveFileList.length) {\n      console.log(\">>>>>Fail from share point<<<<<\");\n      this.notification.error(\"'Something bad happened. Please try again later.'\");\n      this.documentUploadService.TogglingEnableDisableButton();\n      this.documentUploadService.SetNumberOfFileSatusCount();\n      this.isLoading = false;\n      return;\n    }\n\n    if (sharePointUnsaveFileList.length > 0) {\n\n      let message: string;\n      if (sharePointUnsaveFileList.length == 1) {\n        message = \"Following file was not processed. Trying again, in case of failure contact to administrator\";\n      } else {\n        message = \"Following files were not processed. Trying again, in case of failure contact to administrator\";\n      }\n      let data = {\n        rfpFileList: sharePointUnsaveFileList,\n        message: message\n      };\n\n      let sharePointUnsaveFileListDialog = this.dialogService.openDialog(\n        {\n          width: '595px',\n          data: data,\n          dailogComponent: FileListMessageComponent\n        });\n\n    }\n\n    if (this.documentUploadService.RFPOpportunity.OpportunityId === undefined ||\n      this.documentUploadService.RFPOpportunity.OpportunityId == null ||\n      this.documentUploadService.RFPOpportunity.OpportunityId == '') {\n      this.CreateEmptyOpportunity(opportunityName);\n    } else {\n      this.SaveFileInRfpDB();\n    }\n\n\n  }\n\n  public PreviewDocument(rfpFile: RFPFile) {\n\n    const formData = new FormData();\n    formData.append('file', rfpFile.OrignalFile);\n    formData.append('documentId', rfpFile.fileRFPDbId.toString());\n\n    this.documentUploadService.ViewDocument(formData).subscribe(\n      res => this.ViewDocumentResponse(res, rfpFile),\n      err => this.UploadError(err)\n    );\n  }\n  ViewDocumentResponse(viewDocumentResponse: ViewDocumentResponse, rfpFile: RFPFile) {\n\n    if (viewDocumentResponse.apiStatusCode === \"1\") {\n\n      this.documentUploadService.PopulateHtmlFile(viewDocumentResponse);\n      this.documentUploadService.TogglingEnableDisableButton();\n      this.showRFPDocument.emit();\n      this.isLoading = false;\n\n      //this.isBtnPubDisabled = false;\n      //const queryParams = { 'category': 'summary' };\n      //this.router.navigate(['/'], { queryParams })\n\n    } else if (viewDocumentResponse.apiStatusCode === \"0\") {\n\n      this.isLoading = false;\n      this.notification.error(\"'Something bad happened. Please try again later.'\");\n    } else {\n      if (viewDocumentResponse.apiStatusCode !== undefined) {\n        this.isLoading = false;\n\n        this.notification.error(\"'Something bad happened. Please try again later.'\");\n      }\n    }\n\n  }\n\n  CreateEmptyOpportunity(opportunityName: string) {\n\n    if (this.documentUploadService.RFPOpportunity.RfpFileList === undefined || this.documentUploadService.RFPOpportunity.RfpFileList.length == 0) {\n\n      this.isLoading = false;\n      return;\n\n    }\n\n    let fileNameList: FileName[] = this.documentUploadService.GetFileNameList(undefined);\n    let rfpFile: RFPFile = this.documentUploadService.RFPOpportunity.RfpFileList.find(file => file.OrignalFile.name === this.documentUploadService.SelectedFileName)\n\n    const formData = new FormData();\n    let requierdCategoryNameList: string = \"false\";\n\n    let jsonFileNameList = JSON.stringify(fileNameList);\n    formData.append('fileNameJsonList', jsonFileNameList);\n\n    formData.append('opportunityName', opportunityName);\n\n    if (rfpFile !== undefined && rfpFile.OrignalFile !== undefined) {\n      formData.append('file', rfpFile.OrignalFile);\n    }\n\n    formData.append('companyID', localStorage.getItem('compId'));\n    formData.append('userId', localStorage.getItem('userid'));\n    formData.append('clientId', localStorage.getItem('clientID'));\n    formData.append('SegmentId', localStorage.getItem('companySegmentID'));\n\n    this.documentUploadService.CreateEmptyOpportunity(formData).subscribe(\n      res => this.CreateEmptyOpportunityResponse(res, rfpFile),\n      err => this.UploadError(err)\n    );\n  }\n\n\n  CreateEmptyOpportunityResponse(createOpportunityResponse: CreateOpportunityResponse, rfpfile: RFPFile) {\n    if (createOpportunityResponse.apiStatusCode === \"1\") {\n\n      this.documentUploadService.PopulateDocumentId(createOpportunityResponse.fileNameList,\n        createOpportunityResponse.opportunityName, createOpportunityResponse.opportunityId,\n        createOpportunityResponse.summary);\n\n      this.showRFPDocument.emit();\n      this.documentUploadService.TogglingEnableDisableButton();\n      this.documentUploadService.SetNumberOfFileSatusCount();\n      this.isLoading = false;\n\n      this.opportunityDataOnCreationTransfer.emit();\n      this.notification.success(\"Oppotunity is created successfully !\");\n\n    } else if (createOpportunityResponse.apiStatusCode === \"0\") {\n\n      this.isLoading = false;\n      this.notification.error(\"'Something bad happened. Please try again later.'\");\n    } else {\n      if (createOpportunityResponse.apiStatusCode !== undefined) {\n        this.isLoading = false;\n\n        this.notification.error(\"'Something bad happened. Please try again later.'\");\n      }\n    }\n  }\n\n  private SaveFileInRfpDB(): void {\n\n    let fileNameList: FileName[] = this.documentUploadService.GetFileNameList(undefined);\n    //let rfpFile: RFPFile = this.documentUploadService.RFPOpportunity.RfpFileList.find(file => file.OrignalFile.name === this.documentUploadService.SelectedFileName)\n\n    const formData = new FormData();\n\n    let jsonFileNameList = JSON.stringify(fileNameList);\n    formData.append('fileNameJsonList', jsonFileNameList);\n    //formData.append('file', rfpFile.OrignalFile);\n    formData.append('opportunityId', this.documentUploadService.RFPOpportunity.OpportunityId);\n    formData.append('companyID', localStorage.getItem('compId'));\n    formData.append('userId', localStorage.getItem('userid'));\n    formData.append('clientId', localStorage.getItem('clientID'));\n    formData.append('SegmentId', localStorage.getItem('companySegmentID'));\n\n    //debugger;\n    this.documentUploadService.SaveFiles(formData).subscribe(\n      res => this.SaveFileInRfpDBResponse(res),\n      err => this.UploadError(err)\n    );\n\n  }\n\n  private SaveFileInRfpDBResponse(res) {\n\n    if (res.apiStatusCode === \"1\") {\n\n      this.documentUploadService.PopulateDocumentId(res.fileNameList,\n        res.opportunityName, res.opportunityId, undefined);\n      //let fileNameIndex: number = createOpportunityResponse.fileNameList.findIndex(file => file.Name == this.documentUploadService.SelectedFileName);\n      //let htmlFile: string = createOpportunityResponse.fileNameList[fileNameIndex].HtmlFile;\n      this.showRFPDocument.emit(undefined);\n      this.documentUploadService.TogglingEnableDisableButton();\n      this.documentUploadService.SetNumberOfFileSatusCount();\n      this.isLoading = false;\n\n      //this.OpenDialogForUnsaveRfpFileOnSharePoint(unsaveRfpFileOnSharePointList);\n\n      this.notification.success(\"Fie has been saved successfully !\");\n\n\n      //const queryParams = { 'category': 'summary' };\n      //this.router.navigate(['/'], { queryParams })\n\n    } else if (res.apiStatusCode === \"0\") {\n\n      this.isLoading = false;\n      this.notification.error(\"'Something bad happened. Please try again later.'\");\n    } else {\n      if (res.apiStatusCode !== undefined) {\n        this.isLoading = false;\n\n        this.notification.error(\"'Something bad happened. Please try again later.'\");\n      }\n    }\n\n  }\n\n\n  private GetCategoryNameListFromDB(methodName: string) {\n    this.documentUploadService.GetCategoryNameList().subscribe(\n      (response) => {\n        this.FillCategoryNameList(response, methodName);\n      },\n       err => this.UploadError(err)\n    );\n    \n  }\n  private FillCategoryNameList(categoryNameListResponse: CategoryNameListResponse, methodName: string): void {\n\n    if (categoryNameListResponse.apiStatusCode == '1') {\n      this.documentUploadService.CategoryNameList = categoryNameListResponse.categoryNameList;\n      this.PopulateCategoryNameList.emit(categoryNameListResponse.categoryNameList);\n      if (methodName !== undefined && methodName != null && methodName.length > 2) {\n        if (methodName == \"onAttachedFile\") {\n          this.AttachedFile();\n          this.isLoading = false;\n        }else if(methodName == \"GetSavedEmptyOpportunity\"){\n          this.documentUploadService.GetSavedEmptyOpportunity(this.opportunityId,this);\n        }\n      }\n    } else if (categoryNameListResponse.apiStatusCode === \"0\") {\n      console.log(\">>>>>>>Fail to retrieve Category List from Server<<<<<<<<<<<<<<\");\n      if (methodName !== undefined && methodName != null && methodName.length > 2) {\n        this.isLoading = false;\n        this.notification.error(\"'Something bad happened. Please try again later.'\");\n      }\n    } else {\n      if (categoryNameListResponse.apiStatusCode !== undefined) {\n        if (methodName !== undefined && methodName != null && methodName.length > 2) {\n          console.log(\">>>>>>>Fail to retrieve Category List from Server<<<<<<<<<<<<<<\");\n          this.isLoading = false;\n\n          this.notification.error(\"'Something bad happened. Please try again later.'\");\n        }\n      }\n    }\n  }\n\n  private OpenDialogForUnsaveRfpFileOnSharePoint(unsaveRfpFileOnSharePointList: RFPFile[]) {\n\n    let message: string;\n    if (unsaveRfpFileOnSharePointList.length == 1) {\n      message = \"Following file was not processed. Trying again, in case of failure contact to administrator\";\n    } else {\n      message = \"Following files were not processed. Trying again, in case of failure contact to administrator\";\n    }\n    let data = {\n      rfpFileList: unsaveRfpFileOnSharePointList,\n      message: message\n    };\n\n    this.dialogService.openDialog(\n      {\n        width: '595px',\n        data: data,\n        dailogComponent: FileListMessageComponent\n      });\n  }\n  onGoToPage2() {\n    let t = \"\";\n  }\n\n  private CleanFormControls() {\n    this.documentUploadService.CleanFormControlVariables();\n    this.fileDropdownSelectedValue = '';\n    this.CleanDocumentParserFormControls.emit();\n    this.documentUploadService.TogglingEnableDisableButton();\n\n  }\n\n  SaveCategoriesDataAndSummaryData(oppertunityCategoryArray: Array<OppertunityCategory>) {\n    debugger;\n    let categoryDataList: Array<CategoryData> = this.GetChangedCategoriesData(oppertunityCategoryArray);\n\n    let result: boolean = this.summary.SummaryFieldValid();\n\n    if (result == true) {\n      this.summary.SaveChangedCategoriesSummaryData(this, categoryDataList)\n      this.notification.error(\"'One or more Summary mandatory filed empty, fill first'\");\n    } else {\n      this.isLoading = false;\n    }\n\n  }\n\n  GetChangedCategoriesData(oppertunityCategoryArray: Array<OppertunityCategory>): Array<CategoryData> {\n\n    let categoryDataList: Array<CategoryData> = new Array<CategoryData>();\n\n    for (let index = 0; index < oppertunityCategoryArray.length; index++) {\n      const oppertunityCategory: OppertunityCategory = oppertunityCategoryArray[index];\n\n      let savedCategoryDataIndex: number = this.documentUploadService.RFPOpportunity.CatetoryDataList.findIndex(c => c.CategoryId == parseInt(oppertunityCategory.categoryId));\n\n\n      let dbCategoryData: CategoryData = this.documentUploadService.RFPOpportunity.CatetoryDataList[savedCategoryDataIndex];\n\n      let oppertunityCategoryDataStringfy: string = \"\";\n      let categoryId: number;\n      for (let index = 0; index < oppertunityCategory.categoryData.length; index++) {\n        const element = oppertunityCategory.categoryData[index];\n        if (!(element.hasAttribute('data-temptrow'))) {\n          categoryId = parseInt(oppertunityCategory.categoryId);\n          oppertunityCategoryDataStringfy += element.outerHTML;\n        }\n      }\n\n      if (dbCategoryData === undefined) {\n        dbCategoryData = new CategoryData();\n        dbCategoryData.CategoryId = 0;\n        dbCategoryData.Name = \"\";\n        dbCategoryData.CategoryData = \"\";\n      }\n      if (dbCategoryData.CategoryData != oppertunityCategoryDataStringfy) {\n        let categoryData: CategoryData = new CategoryData();\n        categoryData.CategoryId = categoryId;\n        categoryData.CategoryData = oppertunityCategoryDataStringfy;\n        categoryDataList.push(categoryData);\n\n      }\n    }\n    return categoryDataList;\n  }\n\n\n\n\n}\n","export class CategoryData{\r\n\r\n    public  CategoryId: number;\r\n        public  Name: string; \r\n        public  CategoryData: string\r\n\r\n}","export class FileName implements IFileNameParam {\r\n\r\n    constructor(private iFileNameParam: IFileNameParam) {\r\n        this.fileRFPDbId = iFileNameParam.fileRFPDbId;\r\n        this.Name = iFileNameParam.Name;\r\n        this.Path = iFileNameParam.Path;\r\n        this.HtmlFile = iFileNameParam.HtmlFile;\r\n    }\r\n    public fileRFPDbId?: number;\r\n    public Name?: string;\r\n    public Path?: string;\r\n    HtmlFile?: string;\r\n}\r\n\r\n\r\nexport interface IFileNameParam {\r\n    fileRFPDbId?: number;\r\n    Name?: string;\r\n    Path?: string;\r\n    HtmlFile?: string;\r\n\r\n}","export class RFPFile implements IRFPFileParam {\r\n\r\n    public OpportunityName?: string;\r\n    public OrignalFile?: File;\r\n    public FileName: string;\r\n    public FileNameColor: string;\r\n    public fileRFPDbId?: number;\r\n    public HTMLFile?: string;\r\n    public SavedSharePoint?: boolean = false;\r\n    \r\n    public FilePathSharePoint?: string;\r\n    public Saved?: boolean;\r\n    public View?: boolean;\r\n    public Parsed?: boolean;\r\n\r\n    constructor(private rfpFileParam: IRFPFileParam) {\r\n        this.OpportunityName = rfpFileParam.OpportunityName\r\n        this.FileName = rfpFileParam.FileName;\r\n        this.FileNameColor = rfpFileParam.FileNameColor;\r\n        this.OrignalFile = rfpFileParam.OrignalFile;\r\n        this.HTMLFile = rfpFileParam.HTMLFile;\r\n        this.fileRFPDbId = rfpFileParam.fileRFPDbId;\r\n        this.SavedSharePoint = rfpFileParam.SavedSharePoint;\r\n        \r\n        this.FilePathSharePoint = rfpFileParam.FilePathSharePoint;\r\n        this.Parsed = rfpFileParam.Parsed;\r\n        this.Saved = rfpFileParam.Saved;\r\n        this.View = rfpFileParam.View;\r\n        \r\n\r\n    }\r\n}\r\n\r\n\r\nexport interface IRFPFileParam {\r\n    OpportunityName?: string;\r\n    OrignalFile?: File;\r\n    FileName: string;\r\n    FileNameColor: string;\r\n    fileRFPDbId?: number;\r\n    HTMLFile?: string;\r\n    SavedSharePoint?: boolean;\r\n   \r\n    FilePathSharePoint?: string;\r\n    Saved?: boolean;\r\n    View?: boolean;\r\n    Parsed?: boolean;\r\n}","import { RFPFile } from './RFPFile';\r\nimport { CategoryName } from 'src/app/Shared/models/CategoryName';\r\nimport { SummaryField } from './SummaryField';\r\nimport { CategoryData } from './CategoryData';\r\n\r\nexport class RFPOpportunity {\r\n\r\n    private _opportunityId: string;\r\n    private _opportunityName: string;\r\n    private _rfpFileList: RFPFile[] = [];\r\n    private _categoryNameList: CategoryName[];\r\n    private _summaryFieldList: Array<SummaryField>;\r\n    private _catetoryDataList: Array<CategoryData>;\r\n    private _catetoryDataListModified: Array<CategoryData> = new Array<CategoryData>();\r\n\r\n    constructor() { }\r\n\r\n    public get CatetoryDataListModified(): Array<CategoryData> {\r\n        return this._catetoryDataListModified;\r\n    }\r\n\r\n    public get CategoryNameList(): CategoryName[] {\r\n        return this._categoryNameList;\r\n    }\r\n\r\n    public set CategoryNameList(value: CategoryName[]) {\r\n        this._categoryNameList = value;\r\n    }\r\n\r\n    public get OpportunityId(): string {\r\n        return this._opportunityId;\r\n    }\r\n\r\n    public set OpportunityId(value: string) {\r\n        this._opportunityId = value;\r\n    }\r\n    public get OpportunityName(): string {\r\n        return this._opportunityName\r\n    }\r\n\r\n    public set OpportunityName(value: string) {\r\n        this._opportunityName = value;\r\n    }\r\n\r\n    public get RfpFileList(): RFPFile[] {\r\n        return this._rfpFileList;\r\n    }\r\n\r\n    public get SummaryFieldList(): Array<SummaryField> {\r\n        return this._summaryFieldList;\r\n    }\r\n\r\n\r\n    public set SummaryFieldList(value: Array<SummaryField>) {\r\n        this._summaryFieldList = value;\r\n    }\r\n\r\n    public get CatetoryDataList(): Array<CategoryData> {\r\n        return this._catetoryDataList;\r\n    }\r\n\r\n\r\n    public set CatetoryDataList(value: Array<CategoryData>) {\r\n        this._catetoryDataList = value;\r\n    }\r\n\r\n\r\n    public AddRfpFile(rfpFile: RFPFile) {\r\n\r\n        this._rfpFileList.push(rfpFile);\r\n    }\r\n\r\n    public AddSummaryFieldList(summaryFieldList: Array<SummaryField>) {\r\n        this._summaryFieldList = summaryFieldList;\r\n    }\r\n\r\n    public AddCategoryDataModified(categoryId: number, filteredOpportunityDataArray: Element[]) {\r\n\r\n        if (this._catetoryDataListModified.length == 0) {\r\n            let categoryData: CategoryData = new CategoryData()\r\n            categoryData.CategoryId = categoryId;\r\n            for (let index = 0; index < filteredOpportunityDataArray.length; index++) {\r\n                const element = filteredOpportunityDataArray[index];\r\n                categoryData.CategoryData += element.outerHTML;\r\n            }\r\n\r\n            this._catetoryDataListModified.push(categoryData);\r\n        }else{\r\n\r\n           let categoryIndex: number =  this._catetoryDataListModified.findIndex(c => c.CategoryId == categoryId);\r\n\r\n           if(categoryIndex == -1){\r\n            let categoryData: CategoryData = new CategoryData()\r\n            categoryData.CategoryId = categoryId;\r\n            for (let index = 0; index < filteredOpportunityDataArray.length; index++) {\r\n                const element = filteredOpportunityDataArray[index];\r\n                categoryData.CategoryData += element.outerHTML;\r\n            }\r\n\r\n            this._catetoryDataListModified.push(categoryData);\r\n           }else{\r\n            let categoryData: CategoryData = this._catetoryDataListModified[categoryIndex];\r\n            categoryData.CategoryData = \"\";\r\n            for (let index = 0; index < filteredOpportunityDataArray.length; index++) {\r\n                const element = filteredOpportunityDataArray[index];\r\n                categoryData.CategoryData += element.outerHTML;\r\n            }\r\n           }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { SummaryField } from '../models/SummaryField';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ValidateChangeInDataService {\r\n\r\n  constructor() { }\r\n  filteredOpportunityDataArray: Element[] = [];\r\n  filteredDataArrayString: string = null;\r\n  summaryInitStr: string;\r\n  summaryArray: Array<SummaryField> = null;\r\n  onContentBeforeSave() {\r\n  }\r\n\r\n  initData(filteredOpportunityDataArray: Element[]) {\r\n    //this.filteredOpportunityDataArray =filteredOpportunityDataArray;\r\n   \r\n    let rfpDoc: string = '';\r\n    if (filteredOpportunityDataArray.length > 0) {\r\n\r\n      for (let index = 0; index < filteredOpportunityDataArray.length; index++) {\r\n        const element = filteredOpportunityDataArray[index];\r\n\r\n        rfpDoc += element.outerHTML;\r\n\r\n\r\n      }\r\n      this.filteredDataArrayString = rfpDoc;\r\n    }\r\n    //console.log(\"filteredOpportunityDataArrayString\");\r\n    //console.log(this.filteredDataArrayString);\r\n\r\n  }\r\n  isEqual(initialDataStr: string): boolean {\r\n\r\n    var n = initialDataStr.localeCompare(this.filteredDataArrayString);\r\n    switch (n) {\r\n      case 0:         // 0 if the two strings are equal\r\n        return true\r\n      default:\r\n        return false\r\n    }\r\n  }\r\n  initDataSummary(summaryFieldArray: Array<SummaryField>, fieldTextStr: string) {\r\n\r\n    this.summaryArray = summaryFieldArray;\r\n    if (summaryFieldArray && summaryFieldArray != null && summaryFieldArray.length > 0) {\r\n      let fieldTextString = \"\";\r\n      summaryFieldArray.forEach(x => {\r\n        fieldTextString += x.FieldText;\r\n      });\r\n      this.summaryInitStr = fieldTextString;\r\n    }\r\n    else if (fieldTextStr) {\r\n      this.summaryInitStr = fieldTextStr;\r\n    }\r\n  }\r\n\r\n  isEqualSummary(initialDataStr: string, summarArray: Array<SummaryField>) {\r\n    debugger;\r\n    if (!this.CheckSummarySequenceEqual(summarArray)) {\r\n      return false;\r\n    }\r\n    var n = initialDataStr.localeCompare(this.summaryInitStr);\r\n    switch (n) {\r\n      case 0:         // 0 if the two strings are equal\r\n        return true\r\n      default:\r\n        return false\r\n    }\r\n  }\r\n\r\n  private CheckSummarySequenceEqual(newSummaryArray: Array<SummaryField>): boolean {\r\n\r\n    let oldSummaryArrayLength: number = this.summaryArray.length;\r\n    let newSummaryArrayLength: number = newSummaryArray.length;\r\n\r\n    if (oldSummaryArrayLength != newSummaryArrayLength) {\r\n      return false\r\n    } else if (!this.OldNewSummarySequenceSame(newSummaryArray)) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private OldNewSummarySequenceSame(newSummaryArray: Array<SummaryField>): boolean {\r\n\r\n    let newSummaryArrayLength: number = newSummaryArray.length;\r\n\r\n    for (let index = 0; index < newSummaryArrayLength; index++) {\r\n      let newSummaryElement = newSummaryArray[index];\r\n      let oldSummaryElement = this.summaryArray[index];\r\n\r\n      if (newSummaryElement.FieldDisplayName != oldSummaryElement.FieldDisplayName) {\r\n        return false;\r\n      }\r\n      \r\n    }\r\n    return true;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError, map } from 'rxjs/operators';\nimport { HttpClient, HttpEvent, HttpErrorResponse, HttpEventType, HttpHeaders, HttpParams } from '@angular/common/http';\nimport { environment } from 'src/environments/environment';\nimport { AppConfigService } from 'src/app/Shared/services/app-config.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DocumentParserFormService {\n  //apiUrl = environment.baseUrl;\n\n  //sharepointapiUrl = environment.sharepointbaseUrl;\n  \n  //apiUrl =\"http://localhost:63976/api/\";\n  // apiUrl =\"https://rfpapi.zbizlink.com/api/\";\n\n  apiUrl = this.appConfigService.apiBaseUrl;\n  sharepointapiUrl = this.appConfigService.sharepointapiUrl;\n\n  constructor(private http: HttpClient, private appConfigService: AppConfigService) { }\n\n  getRFPFromWebApi(): Observable<any> {\n    return this.http.get<any>(this.apiUrl);\n  }\n\n\n  \n\n  // upload(formData: any): Observable<any> {\n  //   console.log(this.apiUrl);\n  //   return this.http.post<any>(`${this.apiUrl + \"document/upload\"}`, formData, {\n  //     observe: 'events'\n  //   }).pipe(\n  //     map(event => this.getEventMessage(event, formData)),\n  //     catchError(this.handleError)\n  //   );\n  // }\n\n  uploadSharePoint(formData:any): Observable<any>\n  {\n    debugger;\n    console.log('>>>>>share point url<<<<<');\n    console.log('>>>>>'+this.sharepointapiUrl+'<<<<<');\n    return this.http.post<any>(`${this.sharepointapiUrl + \"api/Document/BulkUpload\"}`,formData)\n    .pipe(catchError(this.handleError));\n  }\n\n  save(formData: any): Observable<any> {\n    return this.http.post<any>(`${this.apiUrl + \"document/Save\"}`, formData)\n      .pipe(catchError(this.handleError));\n  }\n\n  \n\n  private getEventMessage(event: HttpEvent<any>, formData) {\n\n    switch (event.type) {\n      case HttpEventType.UploadProgress:\n        return this.fileUploadProgress(event);\n      case HttpEventType.Response:\n        return this.apiResponse(event);\n      default:\n        return `File \"${formData.get('file').name}\" surprising upload event: ${event.type}.`;\n    }\n  }\n\n  private fileUploadProgress(event) {\n    const percentDone = Math.round(100 * event.loaded / event.total);\n    return { status: 'progress', message: percentDone };\n  }\n\n  private apiResponse(event) {\n    return event.body;\n  }\n\n  // getPublicOppertunityList(publishFlag: boolean): Observable<any> {\n\n  //   var companyId=localStorage.getItem('compId');\n\n  //   if (publishFlag == false) {\n  //     return this.http.get(`${this.apiUrl}document/GetNonePublishedDocumentList?companyId=${companyId}`)\n  //       .pipe(catchError(this.handleError));\n  //   }\n  //   else {\n  //     return this.http.get(`${this.apiUrl}document/GetPublishedDocumentList?companyId=${companyId}`)\n  //       .pipe(catchError(this.handleError));\n\n  //   }\n  // }\n\n\n  \n\n  // Waqar \n  getOpportunity(): Observable<any> {\n    return this.http.get(`${this.apiUrl}Opportunity/getopportunity`)\n      .pipe(catchError(this.handleError));\n  }\n\n  // getSavedDocInfo(companyId: any, userId: any, documentId: any): Observable<any> {\n  //   let Params = new HttpParams();\n  //   Params.append('companyId', companyId);\n  //   Params.append('userId', userId);\n  //   Params.append('documentId', documentId);\n  //   // the above paramameter are not in use for instance .\n  //   return this.http.post(`${this.apiUrl}document/GetSavedDocInfo?companyId=${companyId}&userId=${userId}&documentId=${documentId}`, null)\n  //   .pipe(catchError(this.handleError));\n  // }\n\n  getSavedDocInfo(companyId: any, userId: any, documentId: any): Observable<any> {\n    let Params = new HttpParams();\n    Params.append('companyId', companyId);\n    Params.append('userId', userId);\n    Params.append('documentId', documentId);\n    // the above paramameter are not in use for instance .\n    return this.http.post(`${this.apiUrl}document/GetSavedDocInfo?companyId=${companyId}&userId=${userId}&documentId=${documentId}`, null)\n    .pipe(catchError(this.handleError));\n  }\n\n\n\n  publish(OpportunityId: any): Observable<any> {\n    let OppId: Number = Number(OpportunityId);\n    return this.http.post(`${this.apiUrl}Opportunity/publish?OpportunityId=${OppId}`, null)\n    .pipe(catchError(this.handleError));\n  }\n\n  private handleError(error: HttpErrorResponse) {\ndebugger;\n    if (error.error instanceof ErrorEvent) {\n      // A client-side or network error occurred. Handle it accordingly.\n      console.error('An error occurred:', error.error.message);\n    } else {\n      // The backend returned an unsuccessful response code.\n      // The response body may contain clues as to what went wrong,\n      console.error(`Backend returned code ${error.status}, ` + `body was: ${error.error}`);\n    }\n    // return an observable with a user-facing error message\n     \n    //return throwError(error); \n    return throwError('Something bad happened. Please try again later.');\n  }\n}","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpErrorResponse, HttpHeaders } from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport {environment} from 'src/environments/environment';\nimport { AppConfigService } from 'src/app/Shared/services/app-config.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DocumentSummaryService {\n  //baseUrl = environment.baseUrl;\n  baseUrl = this.appConfigService.apiBaseUrl;\n  public headers:HttpHeaders;\n  \n  \n  constructor(private httpClient: HttpClient, private appConfigService: AppConfigService) {\n    this.headers = new HttpHeaders;  \n    this.headers.append('Content-Type', 'application/json') \n  }\n\n\n\n addSummary(formData:any): Observable<any> {\n // let body = JSON.stringify(formData);\n    return this.httpClient.post<any>(`${this.baseUrl + \"document/Save\"}` , formData).pipe(catchError(this.handleError));\n  }\n\n  //.......................handleError......................................\n  private handleError(errorResponse: HttpErrorResponse) {\n    if (errorResponse.error instanceof ErrorEvent) {\n      console.error('Client Side Error :', errorResponse.error.message);\n    } else {\n      console.error('Server Side Error :', errorResponse);\n    }\n    return throwError('There is a problem with the service. We are notified & working on it. Please try again later.');\n  }\n  //.......................handleError END .................................\n}\n","import { Injectable, OnInit } from '@angular/core';\nimport { FileName } from '../Models/FileName';\nimport { RFPFile } from '../Models/RFPFile';\nimport { DialogService } from 'src/app/Shared/services/dialog.service';\nimport { OpportunityNameComponent } from '../../Components/Dialogs/opportunity-name/opportunity-name.component';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { HttpEvent, HttpEventType, HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { map } from 'rxjs/internal/operators/map';\nimport { Observable, throwError } from 'rxjs';\nimport { AppConfigService } from 'src/app/Shared/services/app-config.service';\nimport { catchError } from 'rxjs/internal/operators/catchError';\nimport { RfpDatabaseService } from './rfp-database.service';\nimport { CreateOpportunityResponse } from '../Models/CreateOpportunityResponse';\nimport { ViewDocumentResponse } from '../Models/ViewDocumentResponse';\nimport { RFPOpportunity } from '../Models/RFPOpportunity';\nimport { RepositionScrollStrategy } from '@angular/cdk/overlay';\nimport { NotificationService } from 'src/app/Shared/services/notification.service';\nimport { CategoryNameListResponse } from 'src/app/Shared/models/CategoryNameListResponse';\nimport { CategoryName } from 'src/app/Shared/models/CategoryName';\nimport { SharepointService } from './sharepoint.service';\nimport { SharePointResponse } from 'src/app/Shared/models/SharePointResponse';\nimport { SummaryField } from '../models/SummaryField';\nimport { DocumentUploadComponent } from '../../Components/document-upload/document-upload.component';\nimport { SavedEmptyOpportunityResponse, RfpSummaryViewModel } from '../Models/SavedEmptyOpportunityResponse';\nimport { DocumentParserFormComponent } from '../../Components/document-parser-form/document-parser-form.component';\nimport { CategoryData } from '../Models/CategoryData';\n\n\n\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DocumentUploadService {\n\n  //private _rfpFileList: RFPFile[] = [];\n  private _filenameList: FileName[] = [];\n  private _duplicateFileList: FileName[] = [];\n \n\n  private _numberOfAttachedfile: number = 0;\n  private _numberOfSavedfile: string = '';\n  private _numberOfParssedfile: string = '';\n  private _dropDownMessage: string = \"Attach file\";\n  //private _opportunityName: string = \"\";\n  private _selectedFileName: string;\n\n  private _deleteButtonDisable: boolean = true;\n  private _saveButtonDisable: boolean = true;\n  private _saveAllButtonDisable: boolean = true;\n  private _viewButtonDisable: boolean = true;\n  private _parseButtonDisable: boolean = true;\n  private _publishButtonDisable: boolean = true;\n  private _savefileMessageColor;\n  private _categoryNameList: CategoryName[];\n\n\n\n\n  private _RFPOpportunity: RFPOpportunity = new RFPOpportunity();\n\n  constructor(private dialogService: DialogService, private rfpDatabaseService: RfpDatabaseService,\n    private notification: NotificationService, private sharepointService: SharepointService) {\n    this.GetCategoryNameList();\n  }\n\n\n  public get CategoryNameList(): CategoryName[] {\n\n    return this._categoryNameList;\n  }\n\n  \n  public set CategoryNameList(value : CategoryName[]) {\n    this._categoryNameList = value;\n  }\n  \n  public get RFPOpportunity(): RFPOpportunity {\n    return this._RFPOpportunity;\n  }\n\n  // public set RFPOpportunity(value: RFPOpportunity) {\n  //   this._RFPOpportunity = value;\n  // }\n\n\n  public get SavefileMessageColor(): string {\n    return this._savefileMessageColor;\n  }\n\n  public get SelectedFileName(): string {\n    return this._selectedFileName;\n  }\n\n  public set SelectedFileName(value: string) {\n    this._selectedFileName = value;\n  }\n\n  public get DeleteButtonDisable(): boolean {\n    return this._deleteButtonDisable;\n  }\n  public get SaveButtonDisable(): boolean {\n    return this._saveButtonDisable\n  }\n\n  // public set SaveButtonDisable(value: boolean) {\n  //   this._saveButtonDisable = value;\n  // }\n\n  public get SaveAllButtonDisable(): boolean {\n    return this._saveAllButtonDisable\n  }\n  public get ViewButtonDisable(): boolean {\n    return this._viewButtonDisable\n  }\n  public get ParseButtonDisable(): boolean {\n    return this._parseButtonDisable\n  }\n  public get PublishButtonDisable(): boolean {\n    return this._publishButtonDisable\n  }\n\n  public get duplicateFileList() {\n    return this._duplicateFileList;\n  }\n\n\n  public get NumberOfAttachedfile(): number {\n    return this._numberOfAttachedfile;\n  }\n\n  public get NumberOfSavedfile(): string {\n    return this._numberOfSavedfile;\n  }\n\n  public get NumberOfParssedfile() {\n    return this._numberOfParssedfile;\n  }\n  public get DropDownMessage(): string {\n    return this._dropDownMessage;\n  }\n\n\n  public GetFileNameList(fileName: string): FileName[] {\n\n    this._filenameList = [];\n\n    if (fileName !== undefined) {\n      let rfpFileIndex: number = this.RFPOpportunity.RfpFileList.findIndex(file => file.FileName == fileName &&\n        file.Saved === undefined);\n      let rfpFile = this.RFPOpportunity.RfpFileList[rfpFileIndex];\n      let filename: FileName = new FileName(\n        {\n          Name: rfpFile.OrignalFile.name,\n          Path: rfpFile.FilePathSharePoint\n        }\n      );\n      this._filenameList.push(filename);\n      return this._filenameList;\n    }\n\n\n    for (let index = 0; index < this.RFPOpportunity.RfpFileList.length; index++) {\n      let rfpFile = this.RFPOpportunity.RfpFileList[index];\n\n      if (rfpFile.SavedSharePoint === true && (rfpFile.Saved === undefined || rfpFile.Saved == null ||rfpFile.Saved == false)) {\n\n        let filename: FileName = new FileName(\n          {\n            Name: rfpFile.OrignalFile.name,\n            Path: rfpFile.FilePathSharePoint\n          }\n        );\n        this._filenameList.push(filename);\n\n      }\n\n    }\n\n    return this._filenameList;\n  }\n\n\n public ValidationFileName(event: any):  string{\n    let validRfpFileList: RFPFile[] = [];\n    let reg = /(.*?)\\.(doc|docx|pdf)$/;\n\n    for (let index = 0; index < event.target.files.length; index++) {\n      \n     let fileName: string = event.target.files[index].name;\n\n      if (!fileName.match(reg)) {\n        return \"1\"; \n      }else if (fileName.includes(\"&\") || fileName.includes(\"#\")) {\n        return \"2\";\n      }\n    }\n\n    return \"0\";\n  }\n\n  public PopulateRfpFileCollection(event: any) {\n\n    let firstFile: boolean = true;\n\n    for (let index = 0; index < event.target.files.length; index++) {\n\n      let currentAttachfileName: string = event.target.files[index].name;\n\n      let DuplicateRFPFileIndex: number = this.RFPOpportunity.RfpFileList.findIndex(file => file.FileName === currentAttachfileName)\n\n      if (DuplicateRFPFileIndex >= 0) {\n\n        let duplicateFileName: FileName = new FileName({ Name: currentAttachfileName });\n        this._duplicateFileList.push(duplicateFileName);\n      } else {\n        let rfpFile: RFPFile = new RFPFile(\n          {\n            OrignalFile: event.target.files[index],\n            FileName: event.target.files[index].name,\n            FileNameColor: 'red',\n          });\n\n        if (firstFile == true) {\n          this._selectedFileName = rfpFile.FileName;\n          firstFile = false;\n        }\n\n        this.RFPOpportunity.AddRfpFile(rfpFile);\n      }\n    }\n    //this.SetNumberOfFileSatusCount();\n  }\n\n\n  public PopulateDocumentId(fileNameListReponse: FileName[], opportunityName: string, opportunityId: string,\n     summaryFieldList: Array<SummaryField>) {\n\n    if (this.RFPOpportunity.OpportunityName === undefined) {\n      this.RFPOpportunity.OpportunityName = opportunityName;\n      this.RFPOpportunity.OpportunityId = opportunityId;\n      this.RFPOpportunity.SummaryFieldList = summaryFieldList;\n    }\n\n    for (let index = 0; index < fileNameListReponse.length; index++) {\n      let fileName = fileNameListReponse[index];\n      let rfpFile: RFPFile = this.RFPOpportunity.RfpFileList.find(file => file.FileName == fileName.Name)\n\n      if (rfpFile !== undefined) {\n        rfpFile.fileRFPDbId = fileName.fileRFPDbId;\n        rfpFile.FileNameColor = 'black';\n        rfpFile.Saved = true;\n        if (rfpFile.FileName == this._selectedFileName) {\n          if(fileName.HtmlFile !== undefined && fileName.HtmlFile !== null){\n          rfpFile.HTMLFile = fileName.HtmlFile;\n          rfpFile.View = true;\n          }\n        }\n      }\n    }\n  }\n\n  public PopulateHtmlFile(viewDocumentResponse: ViewDocumentResponse) {\n    let rfpFile: RFPFile = this.RFPOpportunity.RfpFileList.find(file => file.fileRFPDbId == viewDocumentResponse.documentId);\n\n    rfpFile.HTMLFile = viewDocumentResponse.htmlFile;\n    rfpFile.View = true;\n\n  }\n\n  public SetNumberOfFileSatusCount() {\n\n    this._numberOfAttachedfile = this.RFPOpportunity.RfpFileList.length;\n    if (this._numberOfAttachedfile == 0) {\n      this._numberOfSavedfile = \"\";\n      this._numberOfParssedfile = \"\";\n      this._numberOfSavedfile == \"\";\n      this._numberOfParssedfile == \"\";\n      return;\n    }\n\n    let numberOfUnsavedfile: number = this.RFPOpportunity.RfpFileList.filter(file => file.Saved === undefined).length;\n    let numberOfSavedfile: number = this.RFPOpportunity.RfpFileList.filter(file => file.Saved === undefined).length;\n    let numberOfParssedfile: number = this.RFPOpportunity.RfpFileList.filter(file => file.Parsed == true).length;\n\n    if (numberOfUnsavedfile == 0) {\n      if (this.RFPOpportunity.RfpFileList.length == 1) {\n        this._numberOfSavedfile = \"File is saved\";\n        this._savefileMessageColor = 'green';\n      } else {\n        this._numberOfSavedfile = \"All files are saved\";\n        this._savefileMessageColor = 'green';\n      }\n\n    } else {\n      this._savefileMessageColor = 'red';\n      this._numberOfSavedfile = (numberOfUnsavedfile == 1) ? \"1 unsave file\" : numberOfUnsavedfile + \" unsave files\";\n\n    }\n\n    if (numberOfParssedfile == 0) {\n      this._numberOfParssedfile = \"0 parsed file\";\n    } else {\n      this._numberOfParssedfile = (numberOfParssedfile == 1) ? \"1 parsed file\" : numberOfParssedfile + \" parsed files\";\n    }\n\n  }\n\n  public TogglingEnableDisableButton() {\n\nif(this.RFPOpportunity !== undefined && this.RFPOpportunity !== null &&\n  this.RFPOpportunity.OpportunityId !== undefined && this.RFPOpportunity.OpportunityId !== null &&\n  this.RFPOpportunity.OpportunityId != \"0\" && this.RFPOpportunity.OpportunityId != \"\"){\n    this._saveButtonDisable = false;\n    this._publishButtonDisable = false;\n  }else{\n    this._saveButtonDisable = true;\n    this._publishButtonDisable = true;\n  }\n    if (this.RFPOpportunity.RfpFileList.length > 0) {\n\n      // let unsavefileList = this.RFPOpportunity.RfpFileList.filter(file => file.Saved == undefined);\n      // if (unsavefileList.length == 0) {\n      //   this._saveAllButtonDisable = true;\n      // } else {\n      //   this._saveAllButtonDisable = false;\n      // }\n\n\n    } else {\n      \n      this._viewButtonDisable = true;\n      this._parseButtonDisable = true;\n      this._publishButtonDisable = true;\n      this._parseButtonDisable = true;\n    }\n\n    if (this._selectedFileName === undefined || this._selectedFileName == '') {\n      \n      this._deleteButtonDisable = true;\n      this._viewButtonDisable = true;\n      this._parseButtonDisable = true;\n    } else {\n\n      this._deleteButtonDisable = false;\n\n      let selectFileIndex: number = this.RFPOpportunity.RfpFileList.findIndex(file => file.FileName == this._selectedFileName);\n      let rfpfile: RFPFile = this.RFPOpportunity.RfpFileList[selectFileIndex];\n\n      if(rfpfile === undefined){\n        this._deleteButtonDisable = true;\n        this._viewButtonDisable = true;\n        this._parseButtonDisable = true;\n        this._publishButtonDisable =true;\n        return;\n      }\n\n      if (rfpfile.View !== undefined &&rfpfile.View === true) {\n        this._viewButtonDisable = true;\n      } else {\n        this._viewButtonDisable = false;\n      }\n\n     \n\n      if ((rfpfile.View === undefined || rfpfile.View == null || rfpfile.View == false) || (rfpfile.Parsed === true)) {\n        this._parseButtonDisable = true;\n      } \n      else if ((rfpfile.View === true)  && (rfpfile.Parsed === undefined || rfpfile.Parsed == null || rfpfile.Parsed  == false)) {\n        this._parseButtonDisable = false;\n        }\n    }\n\n  }\n\n  public SetDropDownMessage() {\n    if (this.RFPOpportunity.RfpFileList.length === 0) {\n      this._dropDownMessage = \"Attach file\";\n    } else {\n      this._dropDownMessage = \"Select file\";\n    }\n  }\n\n  public SetFileSavedStatusOnsharePoint(sharePointResponseList: SharePointResponse[]): RFPFile[]  {\n  \n  let  sharePointUnsaveFileList: RFPFile[] = [];\n    for (let index = 0; index < sharePointResponseList.length; index++) {\n      const sharePointDocUploadResponse = sharePointResponseList[index];\n      let fileIndex: number = this.RFPOpportunity.RfpFileList.findIndex(file => file.FileName == sharePointDocUploadResponse.FileName)\n      let rfpFile: RFPFile = this.RFPOpportunity.RfpFileList[fileIndex];\n      if (sharePointDocUploadResponse.Status == true) {\n\n        rfpFile.SavedSharePoint = true;\n        rfpFile.FilePathSharePoint = sharePointDocUploadResponse.FilePath;\n      }else{\n        \n        sharePointUnsaveFileList.push(rfpFile)\n        this.RFPOpportunity.RfpFileList.splice(fileIndex, 1);\n      }\n    }\n    return sharePointUnsaveFileList;\n  }\n\n\n  DeleteRfpFile(formData: FormData): Observable<any> {\n\n    return this.rfpDatabaseService.DeleteRfpFile(formData);\n  }\n\n  CreateEmptyOpportunity(formData: FormData): Observable<any> {\n\n    return this.rfpDatabaseService.CreateEmptyOpportunity(formData);\n  }\n\n  SaveFiles(formData: FormData): Observable<any> {\n    return this.rfpDatabaseService.SaveFiles(formData);\n  }\n  ViewDocument(formData: FormData): Observable<any> {\n\n    return this.rfpDatabaseService.ViewDocument(formData);\n\n  }\n\n  public GetCategoryNameList(): Observable<any> {\n\n    return this.rfpDatabaseService.GetCategoryNameList();\n\n  }\n\n  public UploadFilesSharePoint(formData: FormData): Observable<any> {\n\n    return this.sharepointService.UploadFilesSharePoint(formData);\n\n  }\n\npublic SaveChangedCategoriesAndSummaryData(formData:FormData): Observable<any> {\n  // let body = JSON.stringify(formData);\n     return this.rfpDatabaseService.SaveChangedCategoriesAndSummaryData(formData);\n   }\n\n  public GetSavedEmptyOpportunity(opportunityId: number, documentUploadComponent: DocumentUploadComponent) {\n\n    this.rfpDatabaseService.GetSavedEmptyOpportunity(opportunityId).subscribe(\n      res => this.GetSavedEmptyOpportunityResponse(res, documentUploadComponent),\n      err => documentUploadComponent.UploadError(err)\n    );\n  }\n\n  private GetSavedEmptyOpportunityResponse(savedEmptyOpportunityResponse: SavedEmptyOpportunityResponse, documentUploadComponent: DocumentUploadComponent) {\n   \n    if (savedEmptyOpportunityResponse.apiStatusCode == '1') {\n\n      this.PopulateRFPOpertunity(savedEmptyOpportunityResponse);\n      this.TogglingEnableDisableButton();\n      this.SetNumberOfFileSatusCount();\n      documentUploadComponent.GetSaveEmptyOpportunity(this._RFPOpportunity);\n      documentUploadComponent.isLoading = false;\n    } else if (savedEmptyOpportunityResponse.apiStatusCode == \"0\") {\n\n      documentUploadComponent.isLoading = false;\n      this.notification.error(\"'Something bad happened. Please try again later.'\");\n    } else {\n      if (savedEmptyOpportunityResponse.apiStatusCode !== undefined) {\n        documentUploadComponent.isLoading = false;\n\n        this.notification.error(\"'Something bad happened. Please try again later.'\");\n      }\n    }\n  }\n\n  \n\n\n  PopulateRFPOpertunity(savedEmptyOpportunityResponse: SavedEmptyOpportunityResponse) {\n    let rfpOpportunity = new RFPOpportunity();\n\n    rfpOpportunity.OpportunityId = savedEmptyOpportunityResponse.opportunity.OpportunityId.toString();\n    rfpOpportunity.OpportunityName = savedEmptyOpportunityResponse.opportunity.OpportunityName;\n\n    for (let index = 0; index < savedEmptyOpportunityResponse.opportunity.RfpDocumentViewModel.length; index++) {\n      const RfpDocument = savedEmptyOpportunityResponse.opportunity.RfpDocumentViewModel[index];\n\n      let rfpfile: RFPFile = new RFPFile({\n        OpportunityName: RfpDocument.OpportunityName,\n        FileName: RfpDocument.FileName,\n        FileNameColor: RfpDocument.FileNameColor,\n        fileRFPDbId: RfpDocument.fileRFPDbId,\n        HTMLFile: RfpDocument.HTMLFile,\n        SavedSharePoint: RfpDocument.SavedSharePoint,\n\n        FilePathSharePoint: RfpDocument.FilePathSharePoint,\n        Saved: RfpDocument.Saved,\n        View: RfpDocument.View,\n        Parsed: RfpDocument.Parsed,\n      });\n      rfpOpportunity.AddRfpFile(rfpfile);\n    }\n\n    let summaryFieldList: Array<SummaryField> = new Array();\n    for (let index = 0; index < savedEmptyOpportunityResponse.opportunity.RfpSummaryViewModel.length; index++) {\n      const summary: RfpSummaryViewModel = savedEmptyOpportunityResponse.opportunity.RfpSummaryViewModel[index];\n      let summaryField: SummaryField = new SummaryField(summary.FieldDisplayName, summary.ControlType,\n        summary.FieldText, summary.DisplayOrder, summary.FiledTypeId);\n      summaryFieldList.push(summaryField);\n    }\n\n    let categoryDataList: Array<CategoryData> = new Array();\n    for (let index = 0; index < savedEmptyOpportunityResponse.opportunity.RfpCategoryDataViewModel.length; index++) {\n\n      const rfpCategoryData: CategoryData = savedEmptyOpportunityResponse.opportunity.RfpCategoryDataViewModel[index];\n\n     let categoryData: CategoryData = new CategoryData;\n     categoryData.CategoryId =rfpCategoryData.CategoryId;\n     categoryData.Name = rfpCategoryData.Name;\n     categoryData.CategoryData = rfpCategoryData.CategoryData;\n     categoryDataList.push(categoryData);\n    }\n\n    this._RFPOpportunity = rfpOpportunity;\n    this._RFPOpportunity.CatetoryDataList = categoryDataList;\n    this._RFPOpportunity.AddSummaryFieldList(summaryFieldList);\n    this.SelectedFileName = this.RFPOpportunity.RfpFileList[0].FileName;\n    \n\n  }\n\n  CleanFormControlVariables() {\n    this._numberOfAttachedfile = 0;\n    this._RFPOpportunity = new RFPOpportunity()\n    this._selectedFileName = undefined;\n    this._numberOfSavedfile = '';\n    this._numberOfParssedfile = '';\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { throwError, Observable } from 'rxjs';\nimport { HttpErrorResponse, HttpEventType, HttpEvent, HttpClient } from '@angular/common/http';\nimport { catchError } from 'rxjs/internal/operators/catchError';\nimport { map } from 'rxjs/internal/operators/map';\nimport { AppConfigService } from 'src/app/Shared/services/app-config.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RfpDatabaseService {\n\n  private apiUrl = this.appConfigService.apiBaseUrl;\n  \n\n  constructor(private http: HttpClient,\n     private appConfigService: AppConfigService) { }\n\n    \nCreateEmptyOpportunity(formData: any): Observable<any> {\n  console.log(this.apiUrl);\n  return this.http.post<any>(`${this.apiUrl + \"Opportunity/CreateEmptyOpportunity\"}`, formData, {\n    observe: 'events'\n  }).pipe(\n    map(event => this.getEventMessage(event)),\n    catchError(this.handleError)\n  );\n}\n\nSaveFiles(formData: any): Observable<any> {\n  console.log(this.apiUrl);\n  return this.http.post<any>(`${this.apiUrl + \"document/saveFile\"}`, formData, {\n    observe: 'events'\n  }).pipe(\n    map(event => this.getEventMessage(event)),\n    catchError(this.handleError)\n  );\n}\n\nCreateEmptyOpportunityWithAllFileSave(formData: any): Observable<any> {\n  return this.http.post<any>(`${this.apiUrl + \"Opportunity/CreateEmptyOpportunity\"}`, formData, {\n    observe: 'events'\n  }).pipe(\n    map(event => this.getEventMessage(event)),\n    catchError(this.handleError)\n  );\n}\n\nViewDocument(formData: FormData): Observable<any> {\n  console.log(this.apiUrl);\n  return this.http.post<any>(`${this.apiUrl + \"document/viewDocument\"}`, formData, {\n    observe: 'events'\n  }).pipe(\n    map(event => this.getEventMessage(event)),\n    catchError(this.handleError)\n  );\n}\n\nViewSharePointDocument(formData: FormData): Observable<any> {\n  console.log(this.apiUrl);\n  return this.http.post<any>(`${this.apiUrl + \"document/viewSharePointDocument\"}`, formData, {\n    observe: 'events'\n  }).pipe(\n    map(event => this.getEventMessage(event)),\n    catchError(this.handleError)\n  );\n}\n\nAutoParsing(formData: FormData){\n\n  console.log(this.apiUrl);\n  return this.http.post<any>(`${this.apiUrl + \"document/autoParsing\"}`, formData, {\n    observe: 'events'\n  }).pipe(\n    map(event => this.getEventMessage(event)),\n    catchError(this.handleError)\n  );\n}\n\nDeleteRfpFile(formData: any): Observable<any> {\n  console.log(this.apiUrl);\n  return this.http.post<any>(`${this.apiUrl + \"document/deleteFile\"}`, formData, {\n    observe: 'events'\n  }).pipe(\n    map(event => this.getEventMessage(event)),\n    catchError(this.handleError)\n  );\n}\n\n\n\n\nGetCategoryNameList(): Observable<any> {\n  console.log(this.apiUrl);\n  return this.http.get(`${this.apiUrl}document/getCategoryNameList`)\n  .pipe(catchError(this.handleError));\n}\n\ngetCompanyOppertunityList(publishFlag: boolean, companyId: string): Observable<any> {\n\n  //var companyId=localStorage.getItem('compId');\n  //var companyId = 1;\n  //if (publishFlag == false) {\n    return this.http.get(`${this.apiUrl}document/getCompanyOppertunityList?companyId=${companyId}`)\n      .pipe(catchError(this.handleError));\n  //}\n  //else {GetDocumentList\n  //  return this.http.get(`${this.apiUrl}document/GetPublishedDocumentList?companyId=${companyId}`)\n  //    .pipe(catchError(this.handleError));\n\n  //}\n }\n\n GetSavedEmptyOpportunity(opportunityId: number): Observable<any> {\n\n  //var companyId=localStorage.getItem('compId');\n  //var companyId = 1;\n  //if (publishFlag == false) {\n    return this.http.get(`${this.apiUrl}Opportunity/getSavedEmptyOpportunity?opportunityId=${opportunityId}`)\n      .pipe(catchError(this.handleError));\n  //}\n  //else {GetDocumentList\n  //  return this.http.get(`${this.apiUrl}document/GetPublishedDocumentList?companyId=${companyId}`)\n  //    .pipe(catchError(this.handleError));\n\n  //}\n }\n\n public SaveChangedCategoriesAndSummaryData(formData:any): Observable<any> {\n  // let body = JSON.stringify(formData);\n     return this.http.post<any>(`${this.apiUrl + \"document/saveCategoriesAndSummaryData\"}` , formData)\n     .pipe(catchError(this.handleError));\n   }\n\n   public WholeDocumentParseDataSave(formData:any): Observable<any> {\n   \n    return this.http.post<any>(`${this.apiUrl + \"document/WholeDocumentParseDataSave\"}`, formData, {\n      observe: 'events'\n    }).pipe(\n      map(event => this.getEventMessage(event)),\n      catchError(this.handleError)\n    );\n\n     }\n\nprivate getEventMessage(event: HttpEvent<any>) {\n  \n  switch (event.type) {\n    case HttpEventType.UploadProgress:\n      return this.progress(event);\n    case HttpEventType.Response:\n      return this.apiResponse(event);\n    default:\n      return event.type;\n  }\n    }\n\n    private progress(event) {\n      const percentDone = Math.round(100 * event.loaded / event.total);\n      return { status: 'progress', message: percentDone };\n    }\n  \n    private apiResponse(event) {\n      return event.body;\n    }\n\n    private handleError(error: HttpErrorResponse) {\n\n      if (error.error instanceof ErrorEvent) {\n        // A client-side or network error occurred. Handle it accordingly.\n        console.error('An error occurred:', error.error.message);\n      } else {\n        // The backend returned an unsuccessful response code.\n        // The response body may contain clues as to what went wrong,\n        console.error(`Backend returned code ${error.status}, ` + `body was: ${error.error}`);\n      }\n      // return an observable with a user-facing error message\n       \n      //return throwError(error); \n      return throwError('Something bad happened. Please try again later.');\n    }\n  }","import { Injectable } from '@angular/core';\nimport { AppConfigService } from 'src/app/Shared/services/app-config.service';\nimport { Observable, throwError, observable } from 'rxjs';\nimport { HttpErrorResponse, HttpClient, HttpParams } from '@angular/common/http';\nimport { catchError } from 'rxjs/internal/operators/catchError';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SharepointService {\n\n private sharepointapiUrl = this.appConfigService.sharepointapiUrl;\n  \n  \n  constructor(private appConfigService: AppConfigService, private http: HttpClient) { }\n\n\n  UploadFilesSharePoint(formData: FormData): Observable<any>\n  {\n    debugger;\n    console.log('>>>>>share point url<<<<<');\n    console.log('>>>>>'+this.sharepointapiUrl+'<<<<<');\n    return this.http.post<any>(`${this.sharepointapiUrl + \"api/Document/BulkUpload\"}`,formData)\n    .pipe(catchError(this.handleError));\n  }\n\n  DeleteFilesSharePoint(params: HttpParams): Observable<any>\n  {\n    debugger;\n    console.log('>>>>>share point url<<<<<');\n    console.log('>>>>>'+this.sharepointapiUrl+'<<<<<');\n    return this.http.delete<any>(`${this.sharepointapiUrl + \"api/Document/Delete\"}`,{observe: 'body', params: params})\n    .pipe(catchError(this.handleError));\n  }\n\n  GetFileSharePoint(params: HttpParams): Observable<any>\n  {\n    debugger;\n    console.log('>>>>>share point url<<<<<');\n    console.log('>>>>>'+this.sharepointapiUrl+'<<<<<');\n    \n    return this.http.get<any>(`${this.sharepointapiUrl + \"api/Document/Download\"}`, {observe: 'body', params: params})\n    .pipe(catchError(this.handleError));\n  }\n\n  \n\n  private handleError(error: HttpErrorResponse) {\n\n    if (error.error instanceof ErrorEvent) {\n      // A client-side or network error occurred. Handle it accordingly.\n      console.error('An error occurred:', error.error.message);\n    } else {\n      // The backend returned an unsuccessful response code.\n      // The response body may contain clues as to what went wrong,\n      console.error(`Backend returned code ${error.status}, ` + `body was: ${error.error}`);\n    }\n    // return an observable with a user-facing error message\n     \n    //return throwError(error); \n    return throwError('Something bad happened. Please try again later.');\n  }\n}\n","import { SummaryField } from './SummaryField';\r\n\r\nexport class DocUploadResponse {\r\n    CategoryData: Array<string>;\r\n    status: string;\r\n    message: string;\r\n    category: Array<string>;\r\n    document: string;\r\n    filePath: string;\r\n    summary: Array<SummaryField>;\r\n    documentId: string;\r\n    documentName: string;\r\n\r\n    \r\n}\r\n","export class SummaryField {\r\n    constructor(fieldDisplayName:string,controlType:any, fieldText:string, displayOrder:number, filedTypeId:number ){\r\n        this.FieldDisplayName=fieldDisplayName;\r\n        this.ControlType=controlType;\r\n        this.FieldText=fieldText;\r\n        this.DisplayOrder=displayOrder;\r\n        this.FiledTypeId = filedTypeId;\r\n    }\r\n\r\n    FieldDisplayName:string\r\n    FieldText:any;\r\n    ControlType:string;\r\n    DisplayOrder:number;\r\n    FiledTypeId:number;\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AddfieldComponent } from './Components/Dialogs/addfield/addfield.component';\nimport { DocumentParserFormComponent } from './Components/document-parser-form/document-parser-form.component';\nimport { DocumentSummaryComponent } from './Components/document-summary/document-summary.component';\nimport { DocumentUploadComponent } from './Components/document-upload/document-upload.component';\n\nimport { DocumentListComponent } from './Components/Dialogs/document-list/document-list.component';\n\nimport { TinymceComponent } from './Components/Dialogs/tinymce/tinymce.component';\n\nimport { SharedModule } from '../Shared/shared.module';\nimport { DocumentUploadOptionComponent } from './Components/Dialogs/document-upload-option/document-upload-option.component';\nimport { OpportunityNameComponent } from './Components/Dialogs/opportunity-name/opportunity-name.component';\nimport { ConfirmationMessageComponent } from './Components/Dialogs/confirmation-message/confirmation-message.component';\nimport { DuplicateDocumentListComponent } from './Components/Dialogs/duplicate-document-list/duplicate-document-list.component';\nimport { FileListMessageComponent } from './Components/Dialogs/file-list-message/file-list-message.component';\n\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule  \n  ],\n  declarations: [\n    TinymceComponent,\n    AddfieldComponent,\n    DocumentParserFormComponent,\n    DocumentSummaryComponent,\n    DocumentUploadComponent,\n    DocumentListComponent,\n    DocumentUploadOptionComponent,\n    OpportunityNameComponent,\n    ConfirmationMessageComponent,\n    DuplicateDocumentListComponent,\n    FileListMessageComponent\n  ],\n  exports: [\n    \n  ],\n  entryComponents:[\n    TinymceComponent,\n    DocumentListComponent,\n    AddfieldComponent \n  ]\n})\nexport class ParserModule { }\n","export class DocUploadOptionResponse{\r\ntest: string;\r\n}","\r\n export class OppertunityCategory {\r\n   id: number;\r\n   categoryId: string=null //  ==> CategoryName\r\n   categoryName:string=null\r\n   categoryData: Element[]=[];\r\n }","export class ParsingDialogOutput{\r\n\r\n    public ParsingAuto:boolean = false;\r\n    public ParsingManual: boolean = false;\r\n    public wholeDocumentYes: boolean = false;\r\n    public wholeDocumentNo: boolean = false;\r\n    public SelectedCategory: string = '';\r\n    public Ok:boolean = false;\r\n}"," import { Pipe, PipeTransform } from '@angular/core';\r\nimport { SafeHtml, SafeStyle, SafeScript, SafeUrl, SafeResourceUrl, DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n  name: 'escapeHtml'\r\n})\r\nexport class EscapeHtmlPipe implements PipeTransform {\r\n\r\n  constructor(protected sanitizer: DomSanitizer) { }\r\n  \r\n  transform(value: any, type: string): SafeHtml | SafeStyle | SafeScript | SafeUrl | SafeResourceUrl {\r\n    switch (type) {\r\n      case 'html': return this.sanitizer.bypassSecurityTrustHtml(value);\r\n      case 'style': return this.sanitizer.bypassSecurityTrustStyle(value);\r\n      case 'script': return this.sanitizer.bypassSecurityTrustScript(value);\r\n      case 'url': return this.sanitizer.bypassSecurityTrustUrl(value);\r\n      case 'resourceUrl': return this.sanitizer.bypassSecurityTrustResourceUrl(value);\r\n      default: throw new Error(`Invanglid safe type specified: ${type}`);\r\n    }\r\n  }\r\n\r\n}","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AppConfigService {\n\n  private appConfig: any;\n\n  constructor(private http: HttpClient) { }\n\n  loadAppConfig() {\n    return this.http.get('/assets/config.json')\n      .toPromise()\n      .then(data => {\n        this.appConfig = data;\n      });\n  }\n\n  get apiBaseUrl() {\n\n    if (!this.appConfig) {\n      throw Error('Config file not loaded!');\n    }\n\n    return this.appConfig.apiBaseUrl + '/api/';\n  }\n  get sharepointapiUrl() {\n\n    if (!this.appConfig) {\n      throw Error('Config file not loaded!');\n    }\n\n    return this.appConfig.sharepointapiUrl + '/';\n  }\n}\n\n","import { Injectable } from '@angular/core';\nimport { MatDialog, MatDialogConfig } from '@angular/material/dialog';\nimport { IDialogParams } from '../models/IDialogParams';\n\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DialogService {\n\n  constructor(private dialog: MatDialog) { }\n\n  openDialog(dialogParams: IDialogParams) {\n\n    const dialogConfig = new MatDialogConfig();\n\n    dialogConfig.width = dialogParams.width;\n\n    if (dialogParams.disableClose !== undefined) {\n      dialogConfig.disableClose = dialogParams.disableClose;\n    }else{\n      dialogConfig.disableClose = true;\n    }\n    if (dialogParams.autoFocus !== undefined) {\n      dialogConfig.autoFocus = dialogParams.autoFocus;\n    }else{\n      dialogConfig.autoFocus = true;\n    }\n    if(dialogParams.data !== undefined){\n      dialogConfig.data = dialogParams.data;\n    }\n    \n\n    return this.dialog.open(dialogParams.dailogComponent, dialogConfig);\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport{MatSnackBar, MatSnackBarConfig} from '@angular/material/snack-bar';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NotificationService {\n\n  constructor(public SnackBar:MatSnackBar) { }\n  config:MatSnackBarConfig={\n    duration:6000,\n    horizontalPosition:\"right\",\n    verticalPosition:\"bottom\"\n  }\n  success(msg:string){\n    this.config['panelClass'] = ['notification', 'success'];\n    this.SnackBar.open(msg,'',this.config) ;\n  }\n  error(msg:string){\n    this.config['panelClass'] = ['notification', 'error'];\n    this.SnackBar.open(msg,'',this.config) ;\n  }\n  warning(msg:string){\n    \n    this.config['panelClass'] = ['notification', 'warning'];\n    this.SnackBar.open(msg,'',this.config) ;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MaterialModule } from '../material/material.module';\nimport { DragulaModule } from 'ng2-dragula';\nimport { EscapeHtmlModule } from '../Module/escape-html.module';\nimport { ScrollingModule } from '@angular/cdk/scrolling';\nimport { AppRoutingModule } from '../app-routing.module';\nimport { ContextMenuModule } from 'ngx-contextmenu';\nimport { EditorModule } from '@tinymce/tinymce-angular';\n//import { InsertCategoryAttributeService } from './services/insert-category-attribute.service';\n\n\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MaterialModule,\n    DragulaModule.forRoot(),\n    EscapeHtmlModule,\n    ScrollingModule,\n    AppRoutingModule,\n    ContextMenuModule.forRoot(), \n    EditorModule\n  ],\n  exports: [\n    FormsModule,\n    ReactiveFormsModule,\n    MaterialModule,\n    DragulaModule,\n    EscapeHtmlModule,\n    ScrollingModule,\n    AppRoutingModule,\n    ContextMenuModule, \n    EditorModule\n  ],\n  providers: [\n    //InsertCategoryAttributeService,\n  ]\n})\nexport class SharedModule { }\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { DocumentParserFormComponent } from './Parser/Components/document-parser-form/document-parser-form.component';\n\nconst routes: Routes = [\n  { path: '', component: DocumentParserFormComponent},\n  { path: '', redirectTo: '/opportunity', pathMatch: 'full' },\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  \n  constructor(private route: ActivatedRoute) {}\n  //constructor(){}\n\n  ngOnInit()\n  {\n    this.route.queryParams.forEach(params => \n      {\n        //debugger;\n        //var clientIDTest = localStorage.getItem('clientID').toString();\n        //var clientID = parseInt(localStorage.getItem('clientID').length.toString());\n        //var companySegmentID = parseInt(localStorage.getItem('companySegmentID').length.toString());\n        //var userid = parseInt(localStorage.getItem('userid').length.toString());\n        //var compId  = parseInt(localStorage.getItem('compId').length.toString());\n        if(typeof params.compid != 'undefined')\n        {\n          typeof params.compid === 'undefined' ? localStorage.setItem('compId', '0') : localStorage.setItem('compId', params.compid);\n          typeof params.userid === 'undefined' ? localStorage.setItem('userid', '0') : localStorage.setItem('userid', params.userid);\n          typeof params.companySegmentID === 'undefined' ? localStorage.setItem('companySegmentID', '0') : localStorage.setItem('companySegmentID', params.companySegmentID);\n          typeof params.clientID === 'undefined' ? localStorage.setItem('clientID', '0') : localStorage.setItem('clientID', params.clientID);\n        }\n      });\n  }\n}\n","<!--<div id=\"leftPane\" [innerHTML]=\"rfp | escapeHtml: 'html'\"> </div>-->\n\n\n\n\n\n<app-nav-menu></app-nav-menu>\n<div class=\"container-fluid\" >\n   \n  <router-outlet></router-outlet>\n</div>","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule, APP_INITIALIZER } from '@angular/core';\nimport {HttpClientModule} from '@angular/common/http';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { DocumentParserFormService} from './Parser/Shared/Services/document-parser-form.service';\nimport { NavMenuComponent } from './nav-menu/nav-menu.component';\nimport { HomeComponent } from './home/home.component';\nimport { FormsModule, ReactiveFormsModule}  from '@angular/forms';\nimport { EditorModule } from '@tinymce/tinymce-angular';\nimport { ValidateChangeInDataService } from './Parser/Shared/Services/ValidateChangeInDataService';\nimport { ParserModule } from './Parser/parser.module';\nimport { SharedModule } from './Shared/shared.module';\nimport { AppConfigService } from './Shared/services/app-config.service';\n\n\n@NgModule({\n  declarations: [\n    AppComponent, \n    NavMenuComponent,\n    HomeComponent\n  ],\n  imports: [\n    BrowserModule,\n    \n    ParserModule,\n    FormsModule,\n    SharedModule,\n    AppRoutingModule,\n    BrowserAnimationsModule,\n    HttpClientModule,\n    EditorModule,\n  ],\n  providers:[\n    DocumentParserFormService,\n    ValidateChangeInDataService,\n    {\n      provide: APP_INITIALIZER,\n      multi: true,\n      deps: [AppConfigService],\n      useFactory: (appConfigService: AppConfigService) => {\n        return () => {\n          //Make sure to return a promise!\n          return appConfigService.loadAppConfig();\n        };\n      }\n    }\n  ],\n\n  bootstrap: [\n    AppComponent\n  ],\n  entryComponents:[\n  ]\n})\nexport class AppModule { }\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","<p>\n  home works!\n</p>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\nimport {MatDialogModule} from '@angular/material/dialog';\nimport {MatGridListModule} from '@angular/material/grid-list';\nimport {MatFormFieldModule} from '@angular/material/form-field';\nimport {MatInputModule} from '@angular/material/input';\nimport {MatRippleModule} from '@angular/material/core';\nimport {MatButtonModule} from '@angular/material/button';\nimport {MatCardModule} from '@angular/material/card';\nimport {MatProgressSpinnerModule} from '@angular/material/progress-spinner';\nimport {MatIconModule} from '@angular/material/icon';\nimport {MatSnackBarModule } from '@angular/material/snack-bar';\nimport {MatDatepickerModule} from '@angular/material/datepicker';\nimport {MatTableModule} from '@angular/material/table';\nimport {MatMenuModule} from '@angular/material/menu';\nimport {MatSortModule} from '@angular/material/sort';\nimport {MatPaginatorModule} from '@angular/material/paginator';\nimport {MatToolbarModule} from '@angular/material/toolbar';\nimport {MatExpansionModule} from '@angular/material/expansion';\nimport{MatChipsModule} from '@angular/material/chips';\nimport {MatRadioModule} from '@angular/material/radio';\nimport { MatSelectModule } from '@angular/material/select';\nimport {MatDividerModule} from '@angular/material/divider';\nimport {MatListModule} from '@angular/material/list';\nimport {MatBadgeModule} from '@angular/material/badge';\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule,\n    MatDialogModule,\n    MatGridListModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatRippleModule,\n    MatButtonModule,\n    MatCardModule,\n    MatProgressSpinnerModule,\n    MatIconModule,\n    MatSnackBarModule ,\n    MatDatepickerModule,\n    MatTableModule,\n    MatMenuModule,\n    MatIconModule,\n    MatSortModule,\n    MatPaginatorModule,\n    MatToolbarModule,\n    MatExpansionModule,\n    MatChipsModule,\n    MatRadioModule,\n    MatSelectModule,\n    MatDividerModule ,\n    MatListModule,\n    MatBadgeModule \n  ],\n  exports:[\n    MatDialogModule,\n    MatGridListModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatRippleModule,\n    MatButtonModule,\n    MatCardModule,\n    MatProgressSpinnerModule,\n    MatIconModule,\n    MatSnackBarModule,\n    MatDatepickerModule,\n    MatTableModule,\n    MatMenuModule,\n    MatIconModule,\n    MatSortModule,\n    MatPaginatorModule,\n    MatToolbarModule,\n    MatExpansionModule,\n    MatChipsModule,\n    MatRadioModule,\n    MatSelectModule,\n    MatDividerModule,\n    MatListModule,\n    MatBadgeModule\n  ],\n  providers: [MatDatepickerModule]\n})\nexport class MaterialModule { }\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-nav-menu',\n  templateUrl: './nav-menu.component.html',\n  styleUrls: ['./nav-menu.component.css']\n})\nexport class NavMenuComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","<!-- fixed-top -->\n<nav class=\"navbar navbar-expand-md navbar-dark bg-dark \">\n  <a style=\"font-weight:bold;\" class=\"navbar-brand\" href=\"#\">ZDAAS</a>\n  <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarsExampleDefault\" aria-controls=\"navbarsExampleDefault\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n    <span class=\"navbar-toggler-icon\"></span>\n  </button>\n\n  <div class=\"collapse navbar-collapse\" id=\"navbarsExampleDefault\">\n    <ul class=\"navbar-nav mr-auto\">\n      <!-- <li class=\"nav-item active\">\n        <a class=\"nav-link\" [routerLink]='[\"/\"]'>Home <span class=\"sr-only\">(current)</span></a>\n      </li> -->\n      <!-- <li class=\"nav-item\">\n        <a class=\"nav-link\" [routerLink]='[\"/opportunity\"]'>Opportunity</a>\n      </li> -->\n      <!-- <li class=\"nav-item\">\n        <a class=\"nav-link\" [routerLink]='[\"/fileupload\"]'>File Upload</a>\n      </li> -->\n      <!-- <li class=\"nav-item\">\n        <a class=\"nav-link\" [routerLink]='[\"/opportunityList\"]' > Opportunity List</a>\n      </li> -->\n    </ul>\n  </div>\n</nav>\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class InsertCategoryAttributeService {\n\n  opportunityCollection: Element[];\n\n \n  currentNode: Element;\n  \n  categoryName: string;\n  currentNodeIndex: number;\n\n  constructor() { }\n\n  resetOpportunityData(opportunityCollection: Element[], currentNodeIndex: number, categoryName: string): Element {\n    \n    this.opportunityCollection = opportunityCollection;\n    this.currentNodeIndex = currentNodeIndex;\n    this.categoryName = categoryName;\n    this.SetCategoryName();\n    return this.currentNode;\n  }\n\n  SetCategoryName(): void{\n\n    this.currentNode = this.opportunityCollection[this.currentNodeIndex];\n    if (this.currentNode === undefined) return;\n    this.SetCategory();\n  }\n\n \n\n  SetCategory() {\n  let isCategoryExist =  this.currentNode.hasAttribute(\"data-index\");\n  if (isCategoryExist === false){\n    this.currentNode.removeAttribute(\"data-category\");\n  }\n  this.currentNode.setAttribute(\"data-category\",this.categoryName);\n\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n//http://localhost:50001/'\n\nexport const environment = {\n  production: false,\n  baseUrl: 'http://localhost:63976/api/',\n  sharepointbaseUrl: 'https://tzbl.zbizlink.com/'\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import 'hammerjs';\nimport { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}